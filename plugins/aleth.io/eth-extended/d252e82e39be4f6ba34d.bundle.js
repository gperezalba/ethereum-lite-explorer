(window["webpackJsonp_aleth_io_ethExtended"]=window["webpackJsonp_aleth_io_ethExtended"]||[]).push([[5],{"+Ckz":function(t,e,i){var o=i("V2ZB"),n=i("tb+2");function r(t,e){return o(t,n(t),e)}t.exports=r},"+Vbj":function(t,e,i){var o=i("jgJv"),n=i("lYsT"),r=i("PqlX");var s=o?o.isConcatSpreadable:void 0;function a(t){return r(t)||n(t)||!!(s&&t&&t[s])}t.exports=a},"+dZb":function(t,e,i){var o=i("zm72"),n=i("scUu");function r(t,e,i){return o(n,t,e,i)}t.exports=r},"/Qyy":function(t,e,i){var o=i("dIZa"),n=i("SyCk"),r=i("q+I6"),s=i("9aUh");function a(t,e,i){if(!s(i))return!1;var a=typeof e;if("number"==a?n(i)&&r(e,i.length):"string"==a&&e in i)return o(i[e],t);return!1}t.exports=a},"/gfI":function(t,e,i){var o=i("COrk");function n(t,e){return o(t,e)}t.exports=n},"0711":function(t,e,i){var o=i("WRuO"),n=i("WMT/"),r=i("F3Ab"),s=i("wnk4"),a=i("ArpJ"),h=i("Fldm"),d=i("e766"),l=i("+Ckz"),u=i("CIBY"),c=i("2AbI"),p=i("zIph"),f=i("s3t7"),v=i("316b"),m=i("iXK7"),g=i("FQMq"),y=i("PqlX"),b=i("tfj2"),_=i("Bpme"),w=i("9aUh"),x=i("CPLO"),k=i("h0av");var S=1,D=2,O=4;var M="[object Arguments]",C="[object Array]",E="[object Boolean]",T="[object Date]",P="[object Error]",I="[object Function]",N="[object GeneratorFunction]",A="[object Map]",R="[object Number]",z="[object Object]",L="[object RegExp]",F="[object Set]",B="[object String]",j="[object Symbol]",H="[object WeakMap]";var W="[object ArrayBuffer]",Y="[object DataView]",G="[object Float32Array]",V="[object Float64Array]",U="[object Int8Array]",q="[object Int16Array]",X="[object Int32Array]",Z="[object Uint8Array]",K="[object Uint8ClampedArray]",Q="[object Uint16Array]",J="[object Uint32Array]";var $={};$[M]=$[C]=$[W]=$[Y]=$[E]=$[T]=$[G]=$[V]=$[U]=$[q]=$[X]=$[A]=$[R]=$[z]=$[L]=$[F]=$[B]=$[j]=$[Z]=$[K]=$[Q]=$[J]=!0;$[P]=$[I]=$[H]=!1;function tt(t,e,i,C,E,T){var P,A=e&S,R=e&D,L=e&O;i&&(P=E?i(t,C,E,T):i(t));if(void 0!==P)return P;if(!w(t))return t;var F=y(t);if(F){P=v(t);if(!A)return d(t,P)}else{var B=f(t),j=B==I||B==N;if(b(t))return h(t,A);if(B==z||B==M||j&&!E){P=R||j?{}:g(t);if(!A)return R?u(t,a(P,t)):l(t,s(P,t))}else{if(!$[B])return E?t:{};P=m(t,B,A)}}T||(T=new o);var H=T.get(t);if(H)return H;T.set(t,P);if(x(t)){t.forEach(function(o){P.add(tt(o,e,i,o,t,T))});return P}if(_(t)){t.forEach(function(o,n){P.set(n,tt(o,e,i,n,t,T))});return P}var W=L?R?p:c:R?keysIn:k;var Y=F?void 0:W(t);n(Y||t,function(o,n){Y&&(o=t[n=o]);r(P,n,tt(o,e,i,n,t,T))});return P}t.exports=tt},"2xEH":function(t,e){var i=Math.max;function o(t,e,o,n){var r=-1,s=t.length,a=o.length,h=-1,d=e.length,l=i(s-a,0),u=Array(d+l),c=!n;for(;++h<d;)u[h]=e[h];for(;++r<a;)(c||r<s)&&(u[o[r]]=t[r]);for(;l--;)u[h++]=t[r++];return u}t.exports=o},"316b":function(t,e){var i;var o=Object.prototype.hasOwnProperty;function n(t){var e=t.length,i=new t.constructor(e);if(e&&"string"==typeof t[0]&&o.call(t,"index")){i.index=t.index;i.input=t.input}return i}t.exports=n},"5+lF":function(t,e,i){var o=i("naAV");function n(t,e){var i=e?o(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}t.exports=n},"5Bk5":function(t,e,i){var o=i("fRAL"),n=i("bim0"),r=i("7ez4"),s=i("KLKn");var a=n(function(t){t.push(void 0,r);return o(s,void 0,t)});t.exports=a},"5u71":function(t,e,i){var o=i("0711");var n=4;function r(t){return o(t,n)}t.exports=r},6758:function(t,e){function i(t){var e=[];if(null!=t)for(var i in Object(t))e.push(i);return e}t.exports=i},"6kFe":function(t,e,i){var o=i("jcrF"),n=i("Q8UH"),r=i("ArCz"),s=i("fjdK");function a(t){var e=r(t),i=s[e];if("function"!=typeof i||!(e in o.prototype))return!1;if(t===i)return!0;var a=n(i);return!!a&&t===a[0]}t.exports=a},"7IP4":function(t,e){function i(){}t.exports=i},"7ez4":function(t,e,i){var o=i("l7Do"),n=i("9aUh");function r(t,e,i,s,a,h){if(n(t)&&n(e)){h.set(e,t);o(t,e,void 0,r,h);h["delete"](e)}return t}t.exports=r},"7qnD":function(t,e){var i=/\w*$/;function o(t){var e=new t.constructor(t.source,i.exec(t));e.lastIndex=t.lastIndex;return e}t.exports=o},"97Yx":function(t,e,i){var o=i("6kFe"),n=i("AN5y"),r=i("c2OK");var s=1,a=2,h=4,d=8,l=32,u=64;function c(t,e,i,c,p,f,v,m,g,y){var b=e&d,_,w,x,k;e|=b?l:u;(e&=~(b?u:l))&h||(e&=~(s|a));var S=[t,e,p,b?f:void 0,b?v:void 0,b?void 0:f,b?void 0:v,m,g,y];var D=i.apply(void 0,S);o(t)&&n(D,S);D.placeholder=c;return r(D,t,e)}t.exports=c},AN5y:function(t,e,i){var o=i("eEf8"),n;var r=i("u7St")(o);t.exports=r},ArCz:function(t,e,i){var o=i("IrTi");var n;var r=Object.prototype.hasOwnProperty;function s(t){var e=t.name+"",i=o[e],n=r.call(o,e)?i.length:0;for(;n--;){var s=i[n],a=s.func;if(null==a||a==t)return s.name}return e}t.exports=s},ArpJ:function(t,e,i){var o=i("V2ZB"),n=i("Vujp");function r(t,e){return t&&o(e,n(e),t)}t.exports=r},"B4/L":function(t,e,i){var o=i("gwRl"),n=i("LBQr"),r=i("tb+2"),s=i("E7Xw");var a;var h=Object.getOwnPropertySymbols?function(t){var e=[];for(;t;){o(e,r(t));t=n(t)}return e}:s;t.exports=h},B4Jh:function(t,e,i){var o=i("fRAL");var n=Math.max;function r(t,e,i){e=n(void 0===e?t.length-1:e,0);return function(){var r=arguments,s=-1,a=n(r.length-e,0),h=Array(a);for(;++s<a;)h[s]=r[e+s];s=-1;var d=Array(e+1);for(;++s<e;)d[s]=r[s];d[e]=i(h);return o(t,this,d)}}t.exports=r},BAZ7:function(t,e){function i(t,e,i){var o=-1,n=null==t?0:t.length;for(;++o<n;)if(i(e,t[o]))return!0;return!1}t.exports=i},BKxz:function(t,e){var i=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function o(t,e){var o=e.length;if(!o)return t;var n=o-1;e[n]=(o>1?"& ":"")+e[n];e=e.join(o>2?", ":" ");return t.replace(i,"{\n/* [wrapped with "+e+"] */\n")}t.exports=o},Bpme:function(t,e,i){var o=i("CIUO"),n=i("TsNJ"),r=i("DhoL");var s=r&&r.isMap;var a=s?n(s):o;t.exports=a},Bq5F:function(t,e){function i(t,e){if("__proto__"==e)return;return t[e]}t.exports=i},CIBY:function(t,e,i){var o=i("V2ZB"),n=i("B4/L");function r(t,e){return o(t,n(t),e)}t.exports=r},CIUO:function(t,e,i){var o=i("s3t7"),n=i("T9Ud");var r="[object Map]";function s(t){return n(t)&&o(t)==r}t.exports=s},CPLO:function(t,e,i){var o=i("zlak"),n=i("TsNJ"),r=i("DhoL");var s=r&&r.isSet;var a=s?n(s):o;t.exports=a},DlYZ:function(t,e){function i(t,e){var i=t.length,o=0;for(;i--;)t[i]===e&&++o;return o}t.exports=i},EKeD:function(t,e,i){var o=i("fxeQ");var n=o&&new o;t.exports=n},F3Ab:function(t,e,i){var o=i("Dh2Y"),n=i("dIZa");var r;var s=Object.prototype.hasOwnProperty;function a(t,e,i){var r=t[e];s.call(t,e)&&n(r,i)&&(void 0!==i||e in t)||o(t,e,i)}t.exports=a},FQMq:function(t,e,i){var o=i("QDPn"),n=i("LBQr"),r=i("jL4t");function s(t){return"function"!=typeof t.constructor||r(t)?{}:o(n(t))}t.exports=s},Fldm:function(t,e,i){(function(t){var o=i("s3UK");var n=e&&!e.nodeType&&e;var r=n&&"object"==typeof t&&t&&!t.nodeType&&t;var s;var a=r&&r.exports===n?o.Buffer:void 0,h=a?a.allocUnsafe:void 0;function d(t,e){if(e)return t.slice();var i=t.length,o=h?h(i):new t.constructor(i);t.copy(o);return o}t.exports=d}).call(this,i("RoC8")(t))},G9gt:function(t,e,i){var o=i("jgJv");var n=o?o.prototype:void 0,r=n?n.valueOf:void 0;function s(t){return r?Object(r.call(t)):{}}t.exports=s},IOY3:function(t,e){t.exports={}},IqJI:function(t,e,i){var o=i("gwRl"),n=i("+Vbj");function r(t,e,i,s,a){var h=-1,d=t.length;i||(i=n);a||(a=[]);for(;++h<d;){var l=t[h];e>0&&i(l)?e>1?r(l,e-1,i,s,a):o(a,l):s||(a[a.length]=l)}return a}t.exports=r},IrTi:function(t,e){var i={};t.exports=i},Jgwr:function(t,e,i){var o,n=i("+dZb")("defaultsDeep",i("5Bk5"));n.placeholder=i("IOY3");t.exports=n},JpX9:function(t,e,i){var o=i("eEf8"),n=i("n7Nx"),r=i("ZPhZ"),s=i("ySkN"),a=i("VveD"),h=i("Q8UH"),d=i("i3Pe"),l=i("AN5y"),u=i("c2OK"),c=i("LF0y");var p="Expected a function";var f=1,v=2,m=8,g=16,y=32,b=64;var _=Math.max;function w(t,e,i,w,x,k,S,D){var O=e&v;if(!O&&"function"!=typeof t)throw new TypeError(p);var M=w?w.length:0;if(!M){e&=~(y|b);w=x=void 0}S=void 0===S?S:_(c(S),0);D=void 0===D?D:c(D);M-=x?x.length:0;if(e&b){var C=w,E=x;w=x=void 0}var T=O?void 0:h(t);var P=[t,e,i,w,x,C,E,k,S,D];T&&d(P,T);t=P[0];e=P[1];i=P[2];w=P[3];x=P[4];!(D=P[9]=void 0===P[9]?O?0:t.length:_(P[9]-M,0))&&e&(m|g)&&(e&=~(m|g));if(e&&e!=f)I=e==m||e==g?r(t,e,D):e!=y&&e!=(f|y)||x.length?s.apply(void 0,P):a(t,e,i,w);else var I=n(t,e,i);var N;return u((T?o:l)(I,P),t,e)}t.exports=w},"KAl/":function(t,e,i){var o=i("WMT/"),n=i("l3+0");var r=1,s=2,a=8,h=16,d=32,l=64,u=128,c=256,p=512;var f=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];function v(t,e){o(f,function(i){var o="_."+i[0];e&i[1]&&!n(t,o)&&t.push(o)});return t.sort()}t.exports=v},KLKn:function(t,e,i){var o=i("l7Do"),n;var r=i("QlKF")(function(t,e,i,n){o(t,e,i,n)});t.exports=r},LF0y:function(t,e,i){var o=i("UzdM");function n(t){var e=o(t),i=e%1;return e==e?i?e-i:e:0}t.exports=n},MNFw:function(t,e,i){var o=i("JpX9");var n=128;function r(t,e,i){e=i?void 0:e;e=t&&null==e?t.length:e;return o(t,n,void 0,void 0,void 0,void 0,e)}t.exports=r},NfLg:function(t,e,i){var o=i("GI0s"),n=i("LBQr"),r=i("T9Ud");var s="[object Object]";var a=Function.prototype,h=Object.prototype;var d=a.toString;var l=h.hasOwnProperty;var u=d.call(Object);function c(t){if(!r(t)||o(t)!=s)return!1;var e=n(t);if(null===e)return!0;var i=l.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&d.call(i)==u}t.exports=c},ONOI:function(t,e,i){var o=i("SN9N"),n=i("Fldm"),r=i("vvBr"),s=i("e766"),a=i("FQMq"),h=i("lYsT"),d=i("PqlX"),l=i("nxZd"),u=i("tfj2"),c=i("RqPZ"),p=i("9aUh"),f=i("NfLg"),v=i("3kU/"),m=i("Bq5F"),g=i("vDbd");function y(t,e,i,y,b,_,w){var x=m(t,i),k=m(e,i),S=w.get(k);if(S){o(t,i,S);return}var D=_?_(x,k,i+"",t,e,w):void 0;var O=void 0===D;if(O){var M=d(k),C=!M&&u(k),E=!M&&!C&&v(k);D=k;if(M||C||E)if(d(x))D=x;else if(l(x))D=s(x);else if(C){O=!1;D=n(k,!0)}else if(E){O=!1;D=r(k,!0)}else D=[];else if(f(k)||h(k)){D=x;h(x)?D=g(x):p(x)&&!c(x)||(D=a(k))}else O=!1}if(O){w.set(k,D);b(D,k,y,_,w);w["delete"](k)}o(t,i,D)}t.exports=y},Q8UH:function(t,e,i){var o=i("EKeD"),n=i("7IP4");var r=o?function(t){return o.get(t)}:n;t.exports=r},QDPn:function(t,e,i){var o=i("9aUh");var n=Object.create;var r=function(){function t(){}return function(e){if(!o(e))return{};if(n)return n(e);t.prototype=e;var i=new t;t.prototype=void 0;return i}}();t.exports=r},QlKF:function(t,e,i){var o=i("bim0"),n=i("/Qyy");function r(t){return o(function(e,i){var o=-1,r=i.length,s=r>1?i[r-1]:void 0,a=r>2?i[2]:void 0;s=t.length>3&&"function"==typeof s?(r--,s):void 0;if(a&&n(i[0],i[1],a)){s=r<3?void 0:s;r=1}e=Object(e);for(;++o<r;){var h=i[o];h&&t(e,h,o,s)}return e})}t.exports=r},Qwyb:function(t,e){var i=Math.max;function o(t,e,o,n){var r=-1,s=t.length,a=-1,h=o.length,d=-1,l=e.length,u=i(s-h,0),c=Array(u+l),p=!n;for(;++r<u;)c[r]=t[r];var f=r;for(;++d<l;)c[f+d]=e[d];for(;++a<h;)(p||r<s)&&(c[f+o[a]]=t[r++]);return c}t.exports=o},RUdz:function(t,e,i){(function(e){var i;var o=e.crypto||e.msCrypto;if(o&&o.getRandomValues){var n=new Uint8Array(16);i=function t(){o.getRandomValues(n);return n}}if(!i){var r=new Array(16);i=function(){for(var t=0,e;t<16;t++){0==(3&t)&&(e=4294967296*Math.random());r[t]=e>>>((3&t)<<3)&255}return r}}t.exports=i}).call(this,i("pCvA"))},RzDO:function(t,e,i){"use strict";
/**
 * vis.js
 * https://github.com/almende/vis
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 4.21.0
 * @date    2017-10-12
 *
 * @license
 * Copyright (C) 2011-2017 Almende B.V, http://almende.com
 *
 * Vis.js is dual licensed under both
 *
 * * The Apache 2.0 License
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * and
 *
 * * The MIT License
 *   http://opensource.org/licenses/MIT
 *
 * Vis.js may be distributed under either license.
 */
/**
 * vis.js
 * https://github.com/almende/vis
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 4.21.0
 * @date    2017-10-12
 *
 * @license
 * Copyright (C) 2011-2017 Almende B.V, http://almende.com
 *
 * Vis.js is dual licensed under both
 *
 * * The Apache 2.0 License
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * and
 *
 * * The MIT License
 *   http://opensource.org/licenses/MIT
 *
 * Vis.js may be distributed under either license.
 */
!function e(i,o){t.exports=o()}(this,function(){return function(t){var e={};function i(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};t[o].call(n.exports,n,n.exports,i);n.l=!0;return n.exports}i.m=t;i.c=e;i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})};i.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};i.d(e,"a",e);return e};i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};i.p="";return i(i.s=123)}([function(t,e,i){e.__esModule=!0;e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,i){e.__esModule=!0;var o;var n=r(i(169));function r(t){return t&&t.__esModule?t:{default:t}}e.default=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);(0,n.default)(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}()},function(t,e,i){var o;var n=u(i(77));var r;var s=u(i(29));var a;var h=u(i(8));var d;var l=u(i(6));function u(t){return t&&t.__esModule?t:{default:t}}var c=i(9);var p=i(157);e.isNumber=function(t){return t instanceof Number||"number"==typeof t};e.recursiveDOMDelete=function(t){if(t)for(;!0===t.hasChildNodes();){e.recursiveDOMDelete(t.firstChild);t.removeChild(t.firstChild)}};e.giveRange=function(t,e,i,o){if(e==t)return.5;var n=1/(e-t);return Math.max(0,(o-t)*n)};e.isString=function(t){return t instanceof String||"string"==typeof t};e.isDate=function(t){if(t instanceof Date)return!0;if(e.isString(t)){var i;if(v.exec(t))return!0;if(!isNaN(Date.parse(t)))return!0}return!1};e.randomUUID=function(){return p.v4()};e.assignAllKeys=function(t,e){for(var i in t)t.hasOwnProperty(i)&&"object"!==(0,l["default"])(t[i])&&(t[i]=e)};function f(t,e,i,o){var n=!1;!0===o&&(n=null===e[i]&&void 0!==t[i]);n?delete t[i]:t[i]=e[i]}e.fillIfDefined=function(t,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var n in t)void 0!==i[n]&&(null===i[n]||"object"!==(0,l["default"])(i[n])?f(t,i,n,o):"object"===(0,l["default"])(t[n])&&e.fillIfDefined(t[n],i[n],o))};e.extend=function(t,e){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])}return t};e.selectiveExtend=function(t,e,i){if(!Array.isArray(t))throw new Error("Array with property names expected as first argument");for(var o=2;o<arguments.length;o++){var n=arguments[o];for(var r=0;r<t.length;r++){var s=t[r];n&&n.hasOwnProperty(s)&&(e[s]=n[s])}}return e};e.selectiveDeepExtend=function(t,i,o){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(o))throw new TypeError("Arrays are not supported by deepExtend");for(var r=0;r<t.length;r++){var s=t[r];if(o.hasOwnProperty(s))if(o[s]&&o[s].constructor===Object){void 0===i[s]&&(i[s]={});i[s].constructor===Object?e.deepExtend(i[s],o[s],!1,n):f(i,o,s,n)}else{if(Array.isArray(o[s]))throw new TypeError("Arrays are not supported by deepExtend");f(i,o,s,n)}}return i};e.selectiveNotDeepExtend=function(t,i,o){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(o))throw new TypeError("Arrays are not supported by deepExtend");for(var r in o){if(!o.hasOwnProperty(r))continue;if(-1!==t.indexOf(r))continue;if(o[r]&&o[r].constructor===Object){void 0===i[r]&&(i[r]={});i[r].constructor===Object?e.deepExtend(i[r],o[r]):f(i,o,r,n)}else if(Array.isArray(o[r])){i[r]=[];for(var s=0;s<o[r].length;s++)i[r].push(o[r][s])}else f(i,o,r,n)}return i};e.deepExtend=function(t,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var r in i)if(i.hasOwnProperty(r)||!0===o)if(i[r]&&i[r].constructor===Object){void 0===t[r]&&(t[r]={});t[r].constructor===Object?e.deepExtend(t[r],i[r],o):f(t,i,r,n)}else if(Array.isArray(i[r])){t[r]=[];for(var s=0;s<i[r].length;s++)t[r].push(i[r][s])}else f(t,i,r,n);return t};e.equalArray=function(t,e){if(t.length!=e.length)return!1;for(var i=0,o=t.length;i<o;i++)if(t[i]!=e[i])return!1;return!0};e.convert=function(t,i){var o;if(void 0===t)return;if(null===t)return null;if(!i)return t;if("string"!=typeof i&&!(i instanceof String))throw new Error("Type must be a string");switch(i){case"boolean":case"Boolean":return Boolean(t);case"number":case"Number":return e.isString(t)&&!isNaN(Date.parse(t))?c(t).valueOf():Number(t.valueOf());case"string":case"String":return String(t);case"Date":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(c.isMoment(t))return new Date(t.valueOf());if(e.isString(t))return(o=v.exec(t))?new Date(Number(o[1])):c(new Date(t)).toDate();throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"Moment":if(e.isNumber(t))return c(t);if(t instanceof Date)return c(t.valueOf());if(c.isMoment(t))return c(t);if(e.isString(t)){o=v.exec(t);return c(o?Number(o[1]):t)}throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"ISODate":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(c.isMoment(t))return t.toDate().toISOString();if(e.isString(t))return(o=v.exec(t))?new Date(Number(o[1])).toISOString():c(t).format();throw new Error("Cannot convert object of type "+e.getType(t)+" to type ISODate");case"ASPDate":if(e.isNumber(t))return"/Date("+t+")/";if(t instanceof Date)return"/Date("+t.valueOf()+")/";if(e.isString(t)){var n;return"/Date("+(n=(o=v.exec(t))?new Date(Number(o[1])).valueOf():new Date(t).valueOf())+")/"}throw new Error("Cannot convert object of type "+e.getType(t)+" to type ASPDate");default:throw new Error('Unknown type "'+i+'"')}};var v=/^\/?Date\((\-?\d+)/i;e.getType=function(t){var e=void 0===t?"undefined":(0,l["default"])(t);if("object"==e){if(null===t)return"null";if(t instanceof Boolean)return"Boolean";if(t instanceof Number)return"Number";if(t instanceof String)return"String";if(Array.isArray(t))return"Array";if(t instanceof Date)return"Date";return"Object"}if("number"==e)return"Number";if("boolean"==e)return"Boolean";if("string"==e)return"String";if(void 0===e)return"undefined";return e};e.copyAndExtendArray=function(t,e){var i=[];for(var o=0;o<t.length;o++)i.push(t[o]);i.push(e);return i};e.copyArray=function(t){var e=[];for(var i=0;i<t.length;i++)e.push(t[i]);return e};e.getAbsoluteLeft=function(t){return t.getBoundingClientRect().left};e.getAbsoluteRight=function(t){return t.getBoundingClientRect().right};e.getAbsoluteTop=function(t){return t.getBoundingClientRect().top};e.addClassName=function(t,e){var i=t.className.split(" ");var o=e.split(" ");i=i.concat(o.filter(function(t){return i.indexOf(t)<0}));t.className=i.join(" ")};e.removeClassName=function(t,e){var i=t.className.split(" ");var o=e.split(" ");i=i.filter(function(t){return o.indexOf(t)<0});t.className=i.join(" ")};e.forEach=function(t,e){var i,o;if(Array.isArray(t))for(i=0,o=t.length;i<o;i++)e(t[i],i,t);else for(i in t)t.hasOwnProperty(i)&&e(t[i],i,t)};e.toArray=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(t[i]);return e};e.updateProperty=function(t,e,i){if(t[e]!==i){t[e]=i;return!0}return!1};e.throttle=function(t){var e=!1;return function i(){if(!e){e=!0;requestAnimationFrame(function(){e=!1;t()})}}};e.addEventListener=function(t,e,i,o){if(t.addEventListener){void 0===o&&(o=!1);"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll");t.addEventListener(e,i,o)}else t.attachEvent("on"+e,i)};e.removeEventListener=function(t,e,i,o){if(t.removeEventListener){void 0===o&&(o=!1);"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll");t.removeEventListener(e,i,o)}else t.detachEvent("on"+e,i)};e.preventDefault=function(t){t||(t=window.event);t.preventDefault?t.preventDefault():t.returnValue=!1};e.getTarget=function(t){t||(t=window.event);var e;t.target?e=t.target:t.srcElement&&(e=t.srcElement);void 0!=e.nodeType&&3==e.nodeType&&(e=e.parentNode);return e};e.hasParent=function(t,e){var i=t;for(;i;){if(i===e)return!0;i=i.parentNode}return!1};e.option={};e.option.asBoolean=function(t,e){"function"==typeof t&&(t=t());if(null!=t)return 0!=t;return e||null};e.option.asNumber=function(t,e){"function"==typeof t&&(t=t());if(null!=t)return Number(t)||e||null;return e||null};e.option.asString=function(t,e){"function"==typeof t&&(t=t());if(null!=t)return String(t);return e||null};e.option.asSize=function(t,i){"function"==typeof t&&(t=t());return e.isString(t)?t:e.isNumber(t)?t+"px":i||null};e.option.asElement=function(t,e){"function"==typeof t&&(t=t());return t||e||null};e.hexToRGB=function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,i,o){return e+e+i+i+o+o});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null};e.overrideOpacity=function(t,i){var o;return-1!=t.indexOf("rgba")?t:-1!=t.indexOf("rgb")?"rgba("+(o=t.substr(t.indexOf("(")+1).replace(")","").split(","))[0]+","+o[1]+","+o[2]+","+i+")":null==(o=e.hexToRGB(t))?t:"rgba("+o.r+","+o.g+","+o.b+","+i+")"};e.RGBToHex=function(t,e,i){return"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)};e.parseColor=function(t){var i;if(!0===e.isString(t)){if(!0===e.isValidRGB(t)){var o=t.substr(4).substr(0,t.length-5).split(",").map(function(t){return parseInt(t)});t=e.RGBToHex(o[0],o[1],o[2])}if(!0===e.isValidHex(t)){var n=e.hexToHSV(t);var r={h:n.h,s:.8*n.s,v:Math.min(1,1.02*n.v)};var s={h:n.h,s:Math.min(1,1.25*n.s),v:.8*n.v};var a=e.HSVToHex(s.h,s.s,s.v);var h=e.HSVToHex(r.h,r.s,r.v);i={background:t,border:a,highlight:{background:h,border:a},hover:{background:h,border:a}}}else i={background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else{(i={}).background=t.background||void 0;i.border=t.border||void 0;if(e.isString(t.highlight))i.highlight={border:t.highlight,background:t.highlight};else{i.highlight={};i.highlight.background=t.highlight&&t.highlight.background||void 0;i.highlight.border=t.highlight&&t.highlight.border||void 0}if(e.isString(t.hover))i.hover={border:t.hover,background:t.hover};else{i.hover={};i.hover.background=t.hover&&t.hover.background||void 0;i.hover.border=t.hover&&t.hover.border||void 0}}return i};e.RGBToHSV=function(t,e,i){t/=255;e/=255;i/=255;var o=Math.min(t,Math.min(e,i));var n=Math.max(t,Math.max(e,i));if(o==n)return{h:0,s:0,v:o};var r;var s;var a;var h;var d;return{h:60*((t==o?3:i==o?1:5)-(t==o?e-i:i==o?t-e:i-t)/(n-o))/360,s:(n-o)/n,v:n}};var m=function t(e){var i={};e.split(";").forEach(function(t){if(""!=t.trim()){var e=t.split(":");var o=e[0].trim();var n=e[1].trim();i[o]=n}});return i},g=function t(e){return(0,h["default"])(e).map(function(t){return t+": "+e[t]}).join("; ")};e.addCssText=function(t,i){var o=m(t.style.cssText);var n=m(i);var r=e.extend(o,n);t.style.cssText=g(r)};e.removeCssText=function(t,e){var i=m(t.style.cssText);var o=m(e);for(var n in o)o.hasOwnProperty(n)&&delete i[n];t.style.cssText=g(i)};e.HSVToRGB=function(t,e,i){var o,n,r;var s=Math.floor(6*t);var a=6*t-s;var h=i*(1-e);var d=i*(1-a*e);var l=i*(1-(1-a)*e);switch(s%6){case 0:o=i,n=l,r=h;break;case 1:o=d,n=i,r=h;break;case 2:o=h,n=i,r=l;break;case 3:o=h,n=d,r=i;break;case 4:o=l,n=h,r=i;break;case 5:o=i,n=h,r=d}return{r:Math.floor(255*o),g:Math.floor(255*n),b:Math.floor(255*r)}};e.HSVToHex=function(t,i,o){var n=e.HSVToRGB(t,i,o);return e.RGBToHex(n.r,n.g,n.b)};e.hexToHSV=function(t){var i=e.hexToRGB(t);return e.RGBToHSV(i.r,i.g,i.b)};e.isValidHex=function(t){var e;return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)};e.isValidRGB=function(t){t=t.replace(" ","");var e;return/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(t)};e.isValidRGBA=function(t){t=t.replace(" ","");var e;return/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(t)};e.selectiveBridgeObject=function(t,i){if(null!==i&&"object"===(void 0===i?"undefined":(0,l["default"])(i))){var o=(0,s["default"])(i);for(var n=0;n<t.length;n++)i.hasOwnProperty(t[n])&&"object"==(0,l["default"])(i[t[n]])&&(o[t[n]]=e.bridgeObject(i[t[n]]));return o}return null};e.bridgeObject=function(t){if(null!==t&&"object"===(void 0===t?"undefined":(0,l["default"])(t))){var i=(0,s["default"])(t);if(t instanceof Element)i=t;else{i=(0,s["default"])(t);for(var o in t)t.hasOwnProperty(o)&&"object"==(0,l["default"])(t[o])&&(i[o]=e.bridgeObject(t[o]))}return i}return null};e.insertSort=function(t,e){for(var i=0;i<t.length;i++){var o=t[i];for(var n=i;n>0&&e(o,t[n-1])<0;n--)t[n]=t[n-1];t[n]=o}return t};e.mergeOptions=function(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var n=function t(e){return null!==e&&void 0!==e};var r=function t(e){return null!==e&&"object"===(void 0===e?"undefined":(0,l["default"])(e))};var a=function t(e){for(var i in e)if(e.hasOwnProperty(i))return!1;return!0};if(!r(t))throw new Error("Parameter mergeTarget must be an object");if(!r(e))throw new Error("Parameter options must be an object");if(!n(i))throw new Error("Parameter option must have a value");if(!r(o))throw new Error("Parameter globalOptions must be an object");var h=function t(e,i,o){r(e[o])||(e[o]={});var n=i[o];var s=e[o];for(var a in n)n.hasOwnProperty(a)&&(s[a]=n[a])};var d=e[i];var u;var c=r(o)&&!a(o)?o[i]:void 0;var p=c?c.enabled:void 0;if(void 0===d)return;if("boolean"==typeof d){r(t[i])||(t[i]={});t[i].enabled=d;return}if(null===d&&!r(t[i])){if(!n(c))return;t[i]=(0,s["default"])(c)}if(!r(d))return;var f=!0;void 0!==d.enabled?f=d.enabled:void 0!==p&&(f=c.enabled);h(t,e,i);t[i].enabled=f};e.binarySearchCustom=function(t,e,i,o){var n=1e4;var r=0;var s=0;var a=t.length-1;for(;s<=a&&r<1e4;){var h=Math.floor((s+a)/2);var d=t[h];var l;var u=e(void 0===o?d[i]:d[i][o]);if(0==u)return h;-1==u?s=h+1:a=h-1;r++}return-1};e.binarySearchValue=function(t,e,i,o,n){var r=1e4;var s=0;var a=0;var h=t.length-1;var d,l,u,c;n=void 0!=n?n:function(t,e){return t==e?0:t<e?-1:1};for(;a<=h&&s<1e4;){c=Math.floor(.5*(h+a));d=t[Math.max(0,c-1)][i];l=t[c][i];u=t[Math.min(t.length-1,c+1)][i];if(0==n(l,e))return c;if(n(d,e)<0&&n(l,e)>0)return"before"==o?Math.max(0,c-1):c;if(n(l,e)<0&&n(u,e)>0)return"before"==o?c:Math.min(t.length-1,c+1);n(l,e)<0?a=c+1:h=c-1;s++}return-1};e.easingFunctions={linear:function t(e){return e},easeInQuad:function t(e){return e*e},easeOutQuad:function t(e){return e*(2-e)},easeInOutQuad:function t(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function t(e){return e*e*e},easeOutCubic:function t(e){return--e*e*e+1},easeInOutCubic:function t(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function t(e){return e*e*e*e},easeOutQuart:function t(e){return 1- --e*e*e*e},easeInOutQuart:function t(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function t(e){return e*e*e*e*e},easeOutQuint:function t(e){return 1+--e*e*e*e*e},easeInOutQuint:function t(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};e.getScrollBarWidth=function(){var t=document.createElement("p");t.style.width="100%";t.style.height="200px";var e=document.createElement("div");e.style.position="absolute";e.style.top="0px";e.style.left="0px";e.style.visibility="hidden";e.style.width="200px";e.style.height="150px";e.style.overflow="hidden";e.appendChild(t);document.body.appendChild(e);var i=t.offsetWidth;e.style.overflow="scroll";var o=t.offsetWidth;i==o&&(o=e.clientWidth);document.body.removeChild(e);return i-o};e.topMost=function(t,e){var i=void 0;Array.isArray(e)||(e=[e]);var o=!0;var r=!1;var s=void 0;try{for(var a=(0,n["default"])(t),h;!(o=(h=a.next()).done);o=!0){var d=h.value;if(d){i=d[e[0]];for(var l=1;l<e.length;l++){if(!i)continue;i=i[e[l]]}if(void 0!==i)break}}}catch(t){r=!0;s=t}finally{try{!o&&a["return"]&&a["return"]()}finally{if(r)throw s}}return i}},function(t,e,i){t.exports={default:i(194),__esModule:!0}},function(t,e,i){e.__esModule=!0;var o;var n=r(i(6));function r(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,n.default)(e))&&"function"!=typeof e?t:e}},function(t,e,i){e.__esModule=!0;var o;var n=d(i(196));var r;var s=d(i(29));var a;var h=d(i(6));function d(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,h.default)(e)));t.prototype=(0,s.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(n.default?(0,n.default)(t,e):t.__proto__=e)}},function(t,e,i){e.__esModule=!0;var o;var n=h(i(142));var r;var s=h(i(144));var a="function"==typeof s.default&&"symbol"==typeof n.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};function h(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof s.default&&"symbol"===a(n.default)?function(t){return void 0===t?"undefined":a(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":void 0===t?"undefined":a(t)}},function(t,e){var i=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=i)},function(t,e,i){t.exports={default:i(140),__esModule:!0}},function(t,e,i){t.exports="undefined"!=typeof window&&window["moment"]||i(154)},function(t,e,i){function o(){var t=function t(){};return{on:t,off:t,destroy:t,emit:t,get:function e(i){return{set:t}}}}if("undefined"!=typeof window){var n=i(175);var r=window["Hammer"]||i(176);t.exports=n(r,{preventDefault:"mouse"})}else t.exports=function(){return o()}},function(t,e,i){var o;var n=d(i(19));var r;var s=d(i(6));var a;var h=d(i(8));function d(t){return t&&t.__esModule?t:{default:t}}var l=i(2);var u=i(43);function c(t,e){if(t&&!Array.isArray(t)){e=t;t=null}this._options=e||{};this._data={};this.length=0;this._fieldId=this._options.fieldId||"id";this._type={};if(this._options.type){var i=(0,h["default"])(this._options.type);for(var o=0,n=i.length;o<n;o++){var r=i[o];var s=this._options.type[r];this._type[r]="Date"==s||"ISODate"==s||"ASPDate"==s?"Date":s}}this._subscribers={};t&&this.add(t);this.setOptions(e)}c.prototype.setOptions=function(t){if(t&&void 0!==t.queue)if(!1===t.queue){if(this._queue){this._queue.destroy();delete this._queue}}else{this._queue||(this._queue=u.extend(this,{replace:["add","update","remove"]}));"object"===(0,s["default"])(t.queue)&&this._queue.setOptions(t.queue)}};c.prototype.on=function(t,e){var i=this._subscribers[t];if(!i){i=[];this._subscribers[t]=i}i.push({callback:e})};c.prototype.off=function(t,e){var i=this._subscribers[t];i&&(this._subscribers[t]=i.filter(function(t){return t.callback!=e}))};c.prototype._trigger=function(t,e,i){if("*"==t)throw new Error("Cannot trigger event *");var o=[];t in this._subscribers&&(o=o.concat(this._subscribers[t]));"*"in this._subscribers&&(o=o.concat(this._subscribers["*"]));for(var n=0,r=o.length;n<r;n++){var s=o[n];s.callback&&s.callback(t,e,i||null)}};c.prototype.add=function(t,e){var i=[],o,n=this;if(Array.isArray(t))for(var r=0,a=t.length;r<a;r++){o=n._addItem(t[r]);i.push(o)}else{if(!t||"object"!==(void 0===t?"undefined":(0,s["default"])(t)))throw new Error("Unknown dataType");o=n._addItem(t);i.push(o)}i.length&&this._trigger("add",{items:i},e);return i};c.prototype.update=function(t,e){var i=[];var o=[];var n=[];var r=[];var a=this;var h=a._fieldId;var d=function t(e){var s=e[h];if(a._data[s]){var d=l.extend({},a._data[s]);s=a._updateItem(e);o.push(s);r.push(e);n.push(d)}else{s=a._addItem(e);i.push(s)}};if(Array.isArray(t))for(var u=0,c=t.length;u<c;u++)t[u]&&"object"===(0,s["default"])(t[u])?d(t[u]):console.warn("Ignoring input item, which is not an object at index "+u);else{if(!t||"object"!==(void 0===t?"undefined":(0,s["default"])(t)))throw new Error("Unknown dataType");d(t)}i.length&&this._trigger("add",{items:i},e);if(o.length){var p={items:o,oldData:n,data:r};this._trigger("update",p,e)}return i.concat(o)};c.prototype.get=function(t){var e=this;var i,o,n;var r=l.getType(arguments[0]);if("String"==r||"Number"==r){i=arguments[0];n=arguments[1]}else if("Array"==r){o=arguments[0];n=arguments[1]}else n=arguments[0];var s;if(n&&n.returnType){var a;s=-1==["Array","Object"].indexOf(n.returnType)?"Array":n.returnType}else s="Array";var d=n&&n.type||this._options.type;var u=n&&n.filter;var c=[],p,f,v,m,g;if(void 0!=i)(p=e._getItem(i,d))&&u&&!u(p)&&(p=null);else if(void 0!=o)for(m=0,g=o.length;m<g;m++){p=e._getItem(o[m],d);u&&!u(p)||c.push(p)}else for(m=0,g=(f=(0,h["default"])(this._data)).length;m<g;m++){v=f[m];p=e._getItem(v,d);u&&!u(p)||c.push(p)}n&&n.order&&void 0==i&&this._sort(c,n.order);if(n&&n.fields){var y=n.fields;if(void 0!=i)p=this._filterFields(p,y);else for(m=0,g=c.length;m<g;m++)c[m]=this._filterFields(c[m],y)}if("Object"==s){var b={},_;for(m=0,g=c.length;m<g;m++)b[(_=c[m]).id]=_;return b}return void 0!=i?p:c};c.prototype.getIds=function(t){var e=this._data,i=t&&t.filter,o=t&&t.order,n=t&&t.type||this._options.type,r=(0,h["default"])(e),s,a,d,l,u,c=[];if(i)if(o){u=[];for(s=0,a=r.length;s<a;s++){d=r[s];i(l=this._getItem(d,n))&&u.push(l)}this._sort(u,o);for(s=0,a=u.length;s<a;s++)c.push(u[s][this._fieldId])}else for(s=0,a=r.length;s<a;s++){d=r[s];i(l=this._getItem(d,n))&&c.push(l[this._fieldId])}else if(o){u=[];for(s=0,a=r.length;s<a;s++){d=r[s];u.push(e[d])}this._sort(u,o);for(s=0,a=u.length;s<a;s++)c.push(u[s][this._fieldId])}else for(s=0,a=r.length;s<a;s++){l=e[d=r[s]];c.push(l[this._fieldId])}return c};c.prototype.getDataSet=function(){return this};c.prototype.forEach=function(t,e){var i=e&&e.filter,o=e&&e.type||this._options.type,n=this._data,r=(0,h["default"])(n),s,a,d,l;if(e&&e.order){var u=this.get(e);for(s=0,a=u.length;s<a;s++)t(d=u[s],l=d[this._fieldId])}else for(s=0,a=r.length;s<a;s++){l=r[s];d=this._getItem(l,o);i&&!i(d)||t(d,l)}};c.prototype.map=function(t,e){var i=e&&e.filter,o=e&&e.type||this._options.type,n=[],r=this._data,s=(0,h["default"])(r),a,d,l,u;for(a=0,d=s.length;a<d;a++){l=s[a];u=this._getItem(l,o);i&&!i(u)||n.push(t(u,l))}e&&e.order&&this._sort(n,e.order);return n};c.prototype._filterFields=function(t,e){if(!t)return t;var i={},o=(0,h["default"])(t),n=o.length,r,s;if(Array.isArray(e))for(r=0;r<n;r++){s=o[r];-1!=e.indexOf(s)&&(i[s]=t[s])}else for(r=0;r<n;r++){s=o[r];e.hasOwnProperty(s)&&(i[e[s]]=t[s])}return i};c.prototype._sort=function(t,e){if(l.isString(e)){var i=e;t.sort(function(t,e){var o=t[i];var n=e[i];return o>n?1:o<n?-1:0})}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");t.sort(e)}};c.prototype.remove=function(t,e){var i=[],o=[],n=[],r,s,a,h;for(r=0,s=(n=Array.isArray(t)?t:[t]).length;r<s;r++)if((h=this._remove(n[r]))&&void 0!=(a=h[this._fieldId])){i.push(a);o.push(h)}i.length&&this._trigger("remove",{items:i,oldData:o},e);return i};c.prototype._remove=function(t){var e,i;l.isNumber(t)||l.isString(t)?i=t:t&&"object"===(void 0===t?"undefined":(0,s["default"])(t))&&(i=t[this._fieldId]);if(void 0!==i&&this._data[i]){e=this._data[i];delete this._data[i];this.length--;return e}return null};c.prototype.clear=function(t){var e,i;var o=(0,h["default"])(this._data);var n=[];for(e=0,i=o.length;e<i;e++)n.push(this._data[o[e]]);this._data={};this.length=0;this._trigger("remove",{items:o,oldData:n},t);return o};c.prototype.max=function(t){var e=this._data,i=(0,h["default"])(e),o=null,n=null,r,s;for(r=0,s=i.length;r<s;r++){var a;var d=e[i[r]];var l=d[t];if(null!=l&&(!o||l>n)){o=d;n=l}}return o};c.prototype.min=function(t){var e=this._data,i=(0,h["default"])(e),o=null,n=null,r,s;for(r=0,s=i.length;r<s;r++){var a;var d=e[i[r]];var l=d[t];if(null!=l&&(!o||l<n)){o=d;n=l}}return o};c.prototype.distinct=function(t){var e=this._data;var i=(0,h["default"])(e);var o=[];var n=this._options.type&&this._options.type[t]||null;var r=0;var s,a,d;for(s=0,d=i.length;s<d;s++){var u;var c;var p=e[i[s]][t];var f=!1;for(a=0;a<r;a++)if(o[a]==p){f=!0;break}if(!f&&void 0!==p){o[r]=p;r++}}if(n)for(s=0,d=o.length;s<d;s++)o[s]=l.convert(o[s],n);return o};c.prototype._addItem=function(t){var e=t[this._fieldId];if(void 0!=e){if(this._data[e])throw new Error("Cannot add item: item with id "+e+" already exists")}else{e=l.randomUUID();t[this._fieldId]=e}var i={},o=(0,h["default"])(t),n,r;for(n=0,r=o.length;n<r;n++){var s=o[n];var a=this._type[s];i[s]=l.convert(t[s],a)}this._data[e]=i;this.length++;return e};c.prototype._getItem=function(t,e){var i,o,n,r;var s=this._data[t];if(!s)return null;var a={},d=(0,h["default"])(s);if(e)for(n=0,r=d.length;n<r;n++){o=s[i=d[n]];a[i]=l.convert(o,e[i])}else for(n=0,r=d.length;n<r;n++){o=s[i=d[n]];a[i]=o}a[this._fieldId]||(a[this._fieldId]=s.id);return a};c.prototype._updateItem=function(t){var e=t[this._fieldId];if(void 0==e)throw new Error("Cannot update item: item has no id (item: "+(0,n["default"])(t)+")");var i=this._data[e];if(!i)throw new Error("Cannot update item: no item with id "+e+" found");var o=(0,h["default"])(t);for(var r=0,s=o.length;r<s;r++){var a=o[r];var d=this._type[a];i[a]=l.convert(t[a],d)}return e};t.exports=c},function(t,e,i){var o;var n=r(i(8));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(2);var a=i(11);function h(t,e){this._data=null;this._ids={};this.length=0;this._options=e||{};this._fieldId="id";this._subscribers={};var i=this;this.listener=function(){i._onEvent.apply(i,arguments)};this.setData(t)}h.prototype.setData=function(t){var e,i,o,n,r;if(this._data){this._data.off&&this._data.off("*",this.listener);e=this._data.getIds({filter:this._options&&this._options.filter});r=[];for(o=0,n=e.length;o<n;o++)r.push(this._data._data[e[o]]);this._ids={};this.length=0;this._trigger("remove",{items:e,oldData:r})}this._data=t;if(this._data){this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id";for(o=0,n=(e=this._data.getIds({filter:this._options&&this._options.filter})).length;o<n;o++){i=e[o];this._ids[i]=!0}this.length=e.length;this._trigger("add",{items:e});this._data.on&&this._data.on("*",this.listener)}};h.prototype.refresh=function(){var t,e,i;var o=this._data.getIds({filter:this._options&&this._options.filter}),r=(0,n["default"])(this._ids),s={},a=[],h=[],d=[];for(e=0,i=o.length;e<i;e++){s[t=o[e]]=!0;if(!this._ids[t]){a.push(t);this._ids[t]=!0}}for(e=0,i=r.length;e<i;e++)if(!s[t=r[e]]){h.push(t);d.push(this._data._data[t]);delete this._ids[t]}this.length+=a.length-h.length;a.length&&this._trigger("add",{items:a});h.length&&this._trigger("remove",{items:h,oldData:d})};h.prototype.get=function(t){var e=this;var i,o,n;var r=s.getType(arguments[0]);if("String"==r||"Number"==r||"Array"==r){i=arguments[0];o=arguments[1];n=arguments[2]}else{o=arguments[0];n=arguments[1]}var a=s.extend({},this._options,o);this._options.filter&&o&&o.filter&&(a.filter=function(t){return e._options.filter(t)&&o.filter(t)});var h=[];void 0!=i&&h.push(i);h.push(a);h.push(n);return this._data&&this._data.get.apply(this._data,h)};h.prototype.getIds=function(t){var e;if(this._data){var i=this._options.filter;var o;o=t&&t.filter?i?function e(o){return i(o)&&t.filter(o)}:t.filter:i;e=this._data.getIds({filter:o,order:t&&t.order})}else e=[];return e};h.prototype.map=function(t,e){var i=[];if(this._data){var o=this._options.filter;var n;n=e&&e.filter?o?function t(i){return o(i)&&e.filter(i)}:e.filter:o;i=this._data.map(t,{filter:n,order:e&&e.order})}else i=[];return i};h.prototype.getDataSet=function(){var t=this;for(;t instanceof h;)t=t._data;return t||null};h.prototype._onEvent=function(t,e,i){var o,n,r,s;var a=e&&e.items;var h=[],d=[],l=[],u=[],c=[],p=[];if(a&&this._data){switch(t){case"add":for(o=0,n=a.length;o<n;o++){r=a[o];if(s=this.get(r)){this._ids[r]=!0;h.push(r)}}break;case"update":for(o=0,n=a.length;o<n;o++){r=a[o];if(s=this.get(r))if(this._ids[r]){d.push(r);c.push(e.data[o]);u.push(e.oldData[o])}else{this._ids[r]=!0;h.push(r)}else if(this._ids[r]){delete this._ids[r];l.push(r);p.push(e.oldData[o])}}break;case"remove":for(o=0,n=a.length;o<n;o++){r=a[o];if(this._ids[r]){delete this._ids[r];l.push(r);p.push(e.oldData[o])}}}this.length+=h.length-l.length;h.length&&this._trigger("add",{items:h},i);d.length&&this._trigger("update",{items:d,oldData:u,data:c},i);l.length&&this._trigger("remove",{items:l,oldData:p},i)}};h.prototype.on=a.prototype.on;h.prototype.off=a.prototype.off;h.prototype._trigger=a.prototype._trigger;h.prototype.subscribe=h.prototype.on;h.prototype.unsubscribe=h.prototype.off;t.exports=h},function(t,e,i){var o=i(57)("wks");var n=i(40);var r=i(18).Symbol;var s="function"==typeof r;var a;(t.exports=function(t){return o[t]||(o[t]=s&&r[t]||(s?r:n)("Symbol."+t))}).store=o},function(t,e,i){e.prepareElements=function(t){for(var e in t)if(t.hasOwnProperty(e)){t[e].redundant=t[e].used;t[e].used=[]}};e.cleanupElements=function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].redundant){for(var i=0;i<t[e].redundant.length;i++)t[e].redundant[i].parentNode.removeChild(t[e].redundant[i]);t[e].redundant=[]}};e.resetElements=function(t){e.prepareElements(t);e.cleanupElements(t);e.prepareElements(t)};e.getSVGElement=function(t,e,i){var o;if(e.hasOwnProperty(t))if(e[t].redundant.length>0){o=e[t].redundant[0];e[t].redundant.shift()}else{o=document.createElementNS("http://www.w3.org/2000/svg",t);i.appendChild(o)}else{o=document.createElementNS("http://www.w3.org/2000/svg",t);e[t]={used:[],redundant:[]};i.appendChild(o)}e[t].used.push(o);return o};e.getDOMElement=function(t,e,i,o){var n;if(e.hasOwnProperty(t))if(e[t].redundant.length>0){n=e[t].redundant[0];e[t].redundant.shift()}else{n=document.createElement(t);void 0!==o?i.insertBefore(n,o):i.appendChild(n)}else{n=document.createElement(t);e[t]={used:[],redundant:[]};void 0!==o?i.insertBefore(n,o):i.appendChild(n)}e[t].used.push(n);return n};e.drawPoint=function(t,i,o,n,r,s){var a;if("circle"==o.style){(a=e.getSVGElement("circle",n,r)).setAttributeNS(null,"cx",t);a.setAttributeNS(null,"cy",i);a.setAttributeNS(null,"r",.5*o.size)}else{(a=e.getSVGElement("rect",n,r)).setAttributeNS(null,"x",t-.5*o.size);a.setAttributeNS(null,"y",i-.5*o.size);a.setAttributeNS(null,"width",o.size);a.setAttributeNS(null,"height",o.size)}void 0!==o.styles&&a.setAttributeNS(null,"style",o.styles);a.setAttributeNS(null,"class",o.className+" vis-point");if(s){var h=e.getSVGElement("text",n,r);s.xOffset&&(t+=s.xOffset);s.yOffset&&(i+=s.yOffset);s.content&&(h.textContent=s.content);s.className&&h.setAttributeNS(null,"class",s.className+" vis-label");h.setAttributeNS(null,"x",t);h.setAttributeNS(null,"y",i)}return a};e.drawBar=function(t,i,o,n,r,s,a,h){if(0!=n){n<0&&(i-=n*=-1);var d=e.getSVGElement("rect",s,a);d.setAttributeNS(null,"x",t-.5*o);d.setAttributeNS(null,"y",i);d.setAttributeNS(null,"width",o);d.setAttributeNS(null,"height",n);d.setAttributeNS(null,"class",r);h&&d.setAttributeNS(null,"style",h)}}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});e.printStyle=void 0;var o;var n=p(i(19));var r;var s=p(i(6));var a;var h=p(i(8));var d;var l=p(i(0));var u;var c=p(i(1));function p(t){return t&&t.__esModule?t:{default:t}}var f=i(2);var v=!1;var m=void 0;var g="background: #FFeeee; color: #dd0000";var y=function(){function t(){(0,l["default"])(this,t)}(0,c["default"])(t,null,[{key:"validate",value:function e(i,o,n){v=!1;m=o;var r=o;void 0!==n&&(r=o[n]);t.parse(i,r,[]);return v}},{key:"parse",value:function e(i,o,n){for(var r in i)i.hasOwnProperty(r)&&t.check(r,i,o,n)}},{key:"check",value:function e(i,o,n,r){if(void 0===n[i]&&void 0===n.__any__){t.getSuggestion(i,n,r);return}var s=i;var a=!0;if(void 0===n[i]&&void 0!==n.__any__){s="__any__";a="object"===t.getType(o[i])}var h=n[s];a&&void 0!==h.__type__&&(h=h.__type__);t.checkFields(i,o,n,s,h,r)}},{key:"checkFields",value:function e(i,o,n,r,s,a){var d=function e(o){console.log("%c"+o+t.printLocation(a,i),g)};var l=t.getType(o[i]);var u=s[l];if(void 0!==u){if("array"===t.getType(u)&&-1===u.indexOf(o[i])){d('Invalid option detected in "'+i+'". Allowed values are:'+t.print(u)+' not "'+o[i]+'". ');v=!0}else if("object"===l&&"__any__"!==r){a=f.copyAndExtendArray(a,i);t.parse(o[i],n[r],a)}}else if(void 0===s["any"]){d('Invalid type received for "'+i+'". Expected: '+t.print((0,h["default"])(s))+". Received ["+l+'] "'+o[i]+'"');v=!0}}},{key:"getType",value:function t(e){var i=void 0===e?"undefined":(0,s["default"])(e);if("object"===i){if(null===e)return"null";if(e instanceof Boolean)return"boolean";if(e instanceof Number)return"number";if(e instanceof String)return"string";if(Array.isArray(e))return"array";if(e instanceof Date)return"date";if(void 0!==e.nodeType)return"dom";if(!0===e._isAMomentObject)return"moment";return"object"}if("number"===i)return"number";if("boolean"===i)return"boolean";if("string"===i)return"string";if(void 0===i)return"undefined";return i}},{key:"getSuggestion",value:function e(i,o,n){var r=t.findInOptions(i,o,n,!1);var s=t.findInOptions(i,m,[],!0);var a=8;var d=4;var l=void 0;l=void 0!==r.indexMatch?" in "+t.printLocation(r.path,i,"")+'Perhaps it was incomplete? Did you mean: "'+r.indexMatch+'"?\n\n':s.distance<=4&&r.distance>s.distance?" in "+t.printLocation(r.path,i,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(s.path,s.closestMatch,""):r.distance<=8?'. Did you mean "'+r.closestMatch+'"?'+t.printLocation(r.path,i):". Did you mean one of these: "+t.print((0,h["default"])(o))+t.printLocation(n,i);console.log('%cUnknown option detected: "'+i+'"'+l,g);v=!0}},{key:"findInOptions",value:function e(i,o,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];var s=1e9;var a="";var h=[];var d=i.toLowerCase();var l=void 0;for(var u in o){var c=void 0;if(void 0!==o[u].__type__&&!0===r){var p=t.findInOptions(i,o[u],f.copyAndExtendArray(n,u));if(s>p.distance){a=p.closestMatch;h=p.path;s=p.distance;l=p.indexMatch}}else{-1!==u.toLowerCase().indexOf(d)&&(l=u);if(s>(c=t.levenshteinDistance(i,u))){a=u;h=f.copyArray(n);s=c}}}return{closestMatch:a,path:h,distance:s,indexMatch:l}}},{key:"printLocation",value:function t(e,i){var o;var n="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n";for(var r=0;r<e.length;r++){for(var s=0;s<r+1;s++)n+="  ";n+=e[r]+": {\n"}for(var a=0;a<e.length+1;a++)n+="  ";n+=i+"\n";for(var h=0;h<e.length+1;h++){for(var d=0;d<e.length-h;d++)n+="  ";n+="}\n"}return n+"\n\n"}},{key:"print",value:function t(e){return(0,n["default"])(e).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function t(e,i){if(0===e.length)return i.length;if(0===i.length)return e.length;var o=[];var n;for(n=0;n<=i.length;n++)o[n]=[n];var r;for(r=0;r<=e.length;r++)o[0][r]=r;for(n=1;n<=i.length;n++)for(r=1;r<=e.length;r++)i.charAt(n-1)==e.charAt(r-1)?o[n][r]=o[n-1][r-1]:o[n][r]=Math.min(o[n-1][r-1]+1,Math.min(o[n][r-1]+1,o[n-1][r]+1));return o[i.length][e.length]}}]);return t}();e["default"]=y;e.printStyle=g},function(t,e,i){var o=i(2);function n(t,e){this.options=null;this.props=null}n.prototype.setOptions=function(t){t&&o.extend(this.options,t)};n.prototype.redraw=function(){return!1};n.prototype.destroy=function(){};n.prototype._isResized=function(){var t=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;this.props._previousWidth=this.props.width;this.props._previousHeight=this.props.height;return t};t.exports=n},function(t,e,i){var o=i(18);var n=i(7);var r=i(80);var s=i(26);var a="prototype";var h=function(t,e,i){var d=t&h.F;var l=t&h.G;var u=t&h.S;var c=t&h.P;var p=t&h.B;var f=t&h.W;var v=l?n:n[e]||(n[e]={});var m=v[a];var g=l?o:u?o[e]:(o[e]||{})[a];var y,b,_;l&&(i=e);for(y in i){if((b=!d&&g&&void 0!==g[y])&&y in v)continue;_=b?g[y]:i[y];v[y]=l&&"function"!=typeof g[y]?i[y]:p&&b?r(_,o):f&&g[y]==_?function(t){var e=function(e,i,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,o)}return t.apply(this,arguments)};e[a]=t[a];return e}(_):c&&"function"==typeof _?r(Function.call,_):_;if(c){(v.virtual||(v.virtual={}))[y]=_;t&h.R&&m&&!m[y]&&s(m,y,_)}}};h.F=1;h.G=2;h.S=4;h.P=8;h.B=16;h.W=32;h.U=64;h.R=128;t.exports=h},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e,i){t.exports={default:i(160),__esModule:!0}},function(t,e,i){var o=i(27);var n=i(81);var r=i(53);var s=Object.defineProperty;e.f=i(21)?Object.defineProperty:function t(e,i,a){o(e);i=r(i,!0);o(a);if(n)try{return s(e,i,a)}catch(t){}if("get"in a||"set"in a)throw TypeError("Accessors not supported!");"value"in a&&(e[i]=a.value);return e}},function(t,e,i){t.exports=!i(28)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=d(i(6));var r;var s=d(i(0));var a;var h=d(i(1));function d(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e,i,o){(0,s["default"])(this,t);this.body=i;this.labelModule=o;this.setOptions(e);this.top=void 0;this.left=void 0;this.height=void 0;this.width=void 0;this.radius=void 0;this.margin=void 0;this.refreshNeeded=!0;this.boundingBox={top:0,left:0,right:0,bottom:0}}(0,h["default"])(t,[{key:"setOptions",value:function t(e){this.options=e}},{key:"_setMargins",value:function t(e){this.margin={};if(this.options.margin)if("object"==(0,n["default"])(this.options.margin)){this.margin.top=this.options.margin.top;this.margin.right=this.options.margin.right;this.margin.bottom=this.options.margin.bottom;this.margin.left=this.options.margin.left}else{this.margin.top=this.options.margin;this.margin.right=this.options.margin;this.margin.bottom=this.options.margin;this.margin.left=this.options.margin}e.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function t(e,i){var o=this.options.borderWidth;this.resize(e);return Math.min(Math.abs(this.width/2/Math.cos(i)),Math.abs(this.height/2/Math.sin(i)))+o}},{key:"enableShadow",value:function t(e,i){if(i.shadow){e.shadowColor=i.shadowColor;e.shadowBlur=i.shadowSize;e.shadowOffsetX=i.shadowX;e.shadowOffsetY=i.shadowY}}},{key:"disableShadow",value:function t(e,i){if(i.shadow){e.shadowColor="rgba(0,0,0,0)";e.shadowBlur=0;e.shadowOffsetX=0;e.shadowOffsetY=0}}},{key:"enableBorderDashes",value:function t(e,i){if(!1!==i.borderDashes)if(void 0!==e.setLineDash){var o=i.borderDashes;!0===o&&(o=[5,15]);e.setLineDash(o)}else{console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used.");this.options.shapeProperties.borderDashes=!1;i.borderDashes=!1}}},{key:"disableBorderDashes",value:function t(e,i){if(!1!==i.borderDashes)if(void 0!==e.setLineDash)e.setLineDash([0]);else{console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used.");this.options.shapeProperties.borderDashes=!1;i.borderDashes=!1}}},{key:"needsRefresh",value:function t(e,i){if(!0===this.refreshNeeded){this.refreshNeeded=!1;return!0}return void 0===this.width||this.labelModule.differentState(e,i)}},{key:"initContextForDraw",value:function t(e,i){var o=i.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,o);e.strokeStyle=i.borderColor;e.fillStyle=i.color}},{key:"performStroke",value:function t(e,i){var o=i.borderWidth/this.body.view.scale;e.save();if(o>0){this.enableBorderDashes(e,i);e.stroke();this.disableBorderDashes(e,i)}e.restore()}},{key:"performFill",value:function t(e,i){this.enableShadow(e,i);e.fill();this.disableShadow(e,i);this.performStroke(e,i)}},{key:"_addBoundingBoxMargin",value:function t(e){this.boundingBox.left-=e;this.boundingBox.top-=e;this.boundingBox.bottom+=e;this.boundingBox.right+=e}},{key:"_updateBoundingBox",value:function t(e,i,o,n,r){void 0!==o&&this.resize(o,n,r);this.left=e-this.width/2;this.top=i-this.height/2;this.boundingBox.left=this.left;this.boundingBox.top=this.top;this.boundingBox.bottom=this.top+this.height;this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function t(e,i,o,n,r){this._updateBoundingBox(e,i,o,n,r)}},{key:"getDimensionsFromLabel",value:function t(e,i,o){this.textSize=this.labelModule.getTextSize(e,i,o);var n=this.textSize.width;var r=this.textSize.height;var s=14;if(0===n){n=14;r=14}return{width:n,height:r}}}]);return t}();e["default"]=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=v(i(3));var r;var s=v(i(0));var a;var h=v(i(1));var d;var l=v(i(4));var u;var c=v(i(5));var p;var f;function v(t){return t&&t.__esModule?t:{default:t}}var m=function(t){(0,c["default"])(e,t);function e(t,i,o){(0,s["default"])(this,e);return(0,l["default"])(this,(e.__proto__||(0,n["default"])(e)).call(this,t,i,o))}(0,h["default"])(e,[{key:"resize",value:function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected;var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(i,o)){this.labelModule.getTextSize(e,i,o);var r=2*n.size;this.width=r;this.height=r;this.radius=.5*this.width}}},{key:"_drawShape",value:function t(e,i,o,n,r,s,a,h){this.resize(e,s,a,h);this.left=n-this.width/2;this.top=r-this.height/2;this.initContextForDraw(e,h);e[i](n,r,h.size);this.performFill(e,h);if(void 0!==this.options.label){this.labelModule.calculateLabelSize(e,s,a,n,r,"hanging");var d=r+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,n,d,s,a,"hanging")}this.updateBoundingBox(n,r)}},{key:"updateBoundingBox",value:function t(e,i){this.boundingBox.top=i-this.options.size;this.boundingBox.left=e-this.options.size;this.boundingBox.right=e+this.options.size;this.boundingBox.bottom=i+this.options.size;if(void 0!==this.options.label&&this.labelModule.size.width>0){this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left);this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width);this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height)}}}]);return e}(v(i(23))["default"]);e["default"]=m},function(t,e,i){var o=i(78);var n=i(51);t.exports=function(t){return o(n(t))}},function(t,e,i){var o=i(20);var n=i(39);t.exports=i(21)?function(t,e,i){return o.f(t,e,n(1,i))}:function(t,e,i){t[e]=i;return t}},function(t,e,i){var o=i(32);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){t.exports={default:i(138),__esModule:!0}},function(t,e,i){e.__esModule=!0;var o;var n=a(i(188));var r;var s=a(i(77));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(){function t(t,e){var i=[];var o=!0;var n=!1;var r=void 0;try{for(var a=(0,s.default)(t),h;!(o=(h=a.next()).done);o=!0){i.push(h.value);if(e&&i.length===e)break}}catch(t){n=!0;r=t}finally{try{!o&&a["return"]&&a["return"]()}finally{if(n)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if((0,n.default)(Object(e)))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e){t.exports={}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){var o=i(84);var n=i(58);t.exports=Object.keys||function t(e){return o(e,n)}},function(t,e,i){function o(t,e,i){this.x=void 0!==t?t:0;this.y=void 0!==e?e:0;this.z=void 0!==i?i:0}o.subtract=function(t,e){var i=new o;i.x=t.x-e.x;i.y=t.y-e.y;i.z=t.z-e.z;return i};o.add=function(t,e){var i=new o;i.x=t.x+e.x;i.y=t.y+e.y;i.z=t.z+e.z;return i};o.avg=function(t,e){return new o((t.x+e.x)/2,(t.y+e.y)/2,(t.z+e.z)/2)};o.crossProduct=function(t,e){var i=new o;i.x=t.y*e.z-t.z*e.y;i.y=t.z*e.x-t.x*e.z;i.z=t.x*e.y-t.y*e.x;return i};o.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)};t.exports=o},function(t,e,i){var o,n,r;s=this,n=[],void 0!==(r="function"==typeof(o=a=function(){function t(t){var e=t&&t.preventDefault||!1;var i=t&&t.container||window;var o={};var n={keydown:{},keyup:{}};var r={};var s;for(s=97;s<=122;s++)r[String.fromCharCode(s)]={code:s-97+65,shift:!1};for(s=65;s<=90;s++)r[String.fromCharCode(s)]={code:s,shift:!0};for(s=0;s<=9;s++)r[""+s]={code:48+s,shift:!1};for(s=1;s<=12;s++)r["F"+s]={code:111+s,shift:!1};for(s=0;s<=9;s++)r["num"+s]={code:96+s,shift:!1};r["num*"]={code:106,shift:!1};r["num+"]={code:107,shift:!1};r["num-"]={code:109,shift:!1};r["num/"]={code:111,shift:!1};r["num."]={code:110,shift:!1};r["left"]={code:37,shift:!1};r["up"]={code:38,shift:!1};r["right"]={code:39,shift:!1};r["down"]={code:40,shift:!1};r["space"]={code:32,shift:!1};r["enter"]={code:13,shift:!1};r["shift"]={code:16,shift:void 0};r["esc"]={code:27,shift:!1};r["backspace"]={code:8,shift:!1};r["tab"]={code:9,shift:!1};r["ctrl"]={code:17,shift:!1};r["alt"]={code:18,shift:!1};r["delete"]={code:46,shift:!1};r["pageup"]={code:33,shift:!1};r["pagedown"]={code:34,shift:!1};r["="]={code:187,shift:!1};r["-"]={code:189,shift:!1};r["]"]={code:221,shift:!1};r["["]={code:219,shift:!1};var a=function(t){d(t,"keydown")};var h=function(t){d(t,"keyup")};var d=function(t,i){if(void 0!==n[i][t.keyCode]){var o=n[i][t.keyCode];for(var r=0;r<o.length;r++)void 0===o[r].shift?o[r].fn(t):1==o[r].shift&&1==t.shiftKey?o[r].fn(t):0==o[r].shift&&0==t.shiftKey&&o[r].fn(t);1==e&&t.preventDefault()}};o.bind=function(t,e,i){void 0===i&&(i="keydown");if(void 0===r[t])throw new Error("unsupported key: "+t);void 0===n[i][r[t].code]&&(n[i][r[t].code]=[]);n[i][r[t].code].push({fn:e,shift:r[t].shift})};o.bindAll=function(t,e){void 0===e&&(e="keydown");for(var i in r)r.hasOwnProperty(i)&&o.bind(i,t,e)};o.getKey=function(t){for(var e in r)if(r.hasOwnProperty(e)){if(1==t.shiftKey&&1==r[e].shift&&t.keyCode==r[e].code)return e;if(0==t.shiftKey&&0==r[e].shift&&t.keyCode==r[e].code)return e;if(t.keyCode==r[e].code&&"shift"==e)return e}return"unknown key, currently not supported"};o.unbind=function(t,e,i){void 0===i&&(i="keydown");if(void 0===r[t])throw new Error("unsupported key: "+t);if(void 0!==e){var o=[];var s=n[i][r[t].code];if(void 0!==s)for(var a=0;a<s.length;a++)s[a].fn==e&&s[a].shift==r[t].shift||o.push(n[i][r[t].code][a]);n[i][r[t].code]=o}else n[i][r[t].code]=[]};o.reset=function(){n={keydown:{},keyup:{}}};o.destroy=function(){n={keydown:{},keyup:{}};i.removeEventListener("keydown",a,!0);i.removeEventListener("keyup",h,!0)};i.addEventListener("keydown",a,!0);i.addEventListener("keyup",h,!0);return o}return t})?o.apply(e,n):o)&&(t.exports=r);var s,a},function(t,e,i){e.convertHiddenOptions=function(t,i,o){if(o&&!Array.isArray(o))return e.convertHiddenOptions(t,i,[o]);i.hiddenDates=[];if(o&&1==Array.isArray(o)){for(var n=0;n<o.length;n++)if(void 0===o[n].repeat){var r={};r.start=t(o[n].start).toDate().valueOf();r.end=t(o[n].end).toDate().valueOf();i.hiddenDates.push(r)}i.hiddenDates.sort(function(t,e){return t.start-e.start})}};e.updateHiddenDates=function(t,i,o){if(o&&!Array.isArray(o))return e.updateHiddenDates(t,i,[o]);if(o&&void 0!==i.domProps.centerContainer.width){e.convertHiddenOptions(t,i,o);var n=t(i.range.start);var r=t(i.range.end);var s;var a=(i.range.end-i.range.start)/i.domProps.centerContainer.width;for(var h=0;h<o.length;h++)if(void 0!==o[h].repeat){var d=t(o[h].start);var l=t(o[h].end);if("Invalid Date"==d._d)throw new Error("Supplied start date is not valid: "+o[h].start);if("Invalid Date"==l._d)throw new Error("Supplied end date is not valid: "+o[h].end);var u;if(l-d>=4*a){var c=0;var p=r.clone();switch(o[h].repeat){case"daily":d.day()!=l.day()&&(c=1);d.dayOfYear(n.dayOfYear());d.year(n.year());d.subtract(7,"days");l.dayOfYear(n.dayOfYear());l.year(n.year());l.subtract(7-c,"days");p.add(1,"weeks");break;case"weekly":var f=l.diff(d,"days");var v=d.day();d.date(n.date());d.month(n.month());d.year(n.year());l=d.clone();d.day(v);l.day(v);l.add(f,"days");d.subtract(1,"weeks");l.subtract(1,"weeks");p.add(1,"weeks");break;case"monthly":d.month()!=l.month()&&(c=1);d.month(n.month());d.year(n.year());d.subtract(1,"months");l.month(n.month());l.year(n.year());l.subtract(1,"months");l.add(c,"months");p.add(1,"months");break;case"yearly":d.year()!=l.year()&&(c=1);d.year(n.year());d.subtract(1,"years");l.year(n.year());l.subtract(1,"years");l.add(c,"years");p.add(1,"years");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",o[h].repeat);return}for(;d<p;){i.hiddenDates.push({start:d.valueOf(),end:l.valueOf()});switch(o[h].repeat){case"daily":d.add(1,"days");l.add(1,"days");break;case"weekly":d.add(1,"weeks");l.add(1,"weeks");break;case"monthly":d.add(1,"months");l.add(1,"months");break;case"yearly":d.add(1,"y");l.add(1,"y");break;default:console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",o[h].repeat);return}}i.hiddenDates.push({start:d.valueOf(),end:l.valueOf()})}}e.removeDuplicates(i);var m=e.isHidden(i.range.start,i.hiddenDates);var g=e.isHidden(i.range.end,i.hiddenDates);var y=i.range.start;var b=i.range.end;1==m.hidden&&(y=1==i.range.startToFront?m.startDate-1:m.endDate+1);1==g.hidden&&(b=1==i.range.endToFront?g.startDate-1:g.endDate+1);1!=m.hidden&&1!=g.hidden||i.range._applyRange(y,b)}};e.removeDuplicates=function(t){var e=t.hiddenDates;var i=[];for(var o=0;o<e.length;o++)for(var n=0;n<e.length;n++)if(o!=n&&1!=e[n].remove&&1!=e[o].remove)if(e[n].start>=e[o].start&&e[n].end<=e[o].end)e[n].remove=!0;else if(e[n].start>=e[o].start&&e[n].start<=e[o].end){e[o].end=e[n].end;e[n].remove=!0}else if(e[n].end>=e[o].start&&e[n].end<=e[o].end){e[o].start=e[n].start;e[n].remove=!0}for(o=0;o<e.length;o++)!0!==e[o].remove&&i.push(e[o]);t.hiddenDates=i;t.hiddenDates.sort(function(t,e){return t.start-e.start})};e.printDates=function(t){for(var e=0;e<t.length;e++)console.log(e,new Date(t[e].start),new Date(t[e].end),t[e].start,t[e].end,t[e].remove)};e.stepOverHiddenDates=function(t,e,i){var o=!1;var n=e.current.valueOf();for(var r=0;r<e.hiddenDates.length;r++){var s=e.hiddenDates[r].start;var a=e.hiddenDates[r].end;if(n>=s&&n<a){o=!0;break}}if(1==o&&n<e._end.valueOf()&&n!=i){var h=t(i);var d=t(a);h.year()!=d.year()?e.switchedYear=!0:h.month()!=d.month()?e.switchedMonth=!0:h.dayOfYear()!=d.dayOfYear()&&(e.switchedDay=!0);e.current=d}};e.toScreen=function(t,i,o){var n;if(0==t.body.hiddenDates.length){n=t.range.conversion(o);return(i.valueOf()-n.offset)*n.scale}var r=e.isHidden(i,t.body.hiddenDates);1==r.hidden&&(i=r.startDate);var s=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end);if(i<t.range.start){n=t.range.conversion(o,s);var a=e.getHiddenDurationBeforeStart(t.body.hiddenDates,i,n.offset);i=t.options.moment(i).toDate().valueOf();i+=a;return-(n.offset-i.valueOf())*n.scale}if(i>t.range.end){var h={start:t.range.start,end:i};i=e.correctTimeForHidden(t.options.moment,t.body.hiddenDates,h,i);n=t.range.conversion(o,s);return(i.valueOf()-n.offset)*n.scale}i=e.correctTimeForHidden(t.options.moment,t.body.hiddenDates,t.range,i);n=t.range.conversion(o,s);return(i.valueOf()-n.offset)*n.scale};e.toTime=function(t,i,o){if(0==t.body.hiddenDates.length){var n=t.range.conversion(o);return new Date(i/n.scale+n.offset)}var r=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end);var s;var a=(t.range.end-t.range.start-r)*i/o;var h=e.getAccumulatedHiddenDuration(t.body.hiddenDates,t.range,a);return new Date(h+a+t.range.start)};e.getHiddenDurationBetween=function(t,e,i){var o=0;for(var n=0;n<t.length;n++){var r=t[n].start;var s=t[n].end;r>=e&&s<i&&(o+=s-r)}return o};e.getHiddenDurationBeforeStart=function(t,e,i){var o=0;for(var n=0;n<t.length;n++){var r=t[n].start;var s=t[n].end;r>=e&&s<=i&&(o+=s-r)}return o};e.correctTimeForHidden=function(t,i,o,n){n=t(n).toDate().valueOf();return n-=e.getHiddenDurationBefore(t,i,o,n)};e.getHiddenDurationBefore=function(t,e,i,o){var n=0;o=t(o).toDate().valueOf();for(var r=0;r<e.length;r++){var s=e[r].start;var a=e[r].end;s>=i.start&&a<i.end&&o>=a&&(n+=a-s)}return n};e.getAccumulatedHiddenDuration=function(t,e,i){var o=0;var n=0;var r=e.start;for(var s=0;s<t.length;s++){var a=t[s].start;var h=t[s].end;if(a>=e.start&&h<e.end){n+=a-r;r=h;if(n>=i)break;o+=h-a}}return o};e.snapAwayFromHidden=function(t,i,o,n){var r=e.isHidden(i,t);return 1==r.hidden?o<0?1==n?r.startDate-(r.endDate-i)-1:r.startDate-1:1==n?r.endDate+(i-r.startDate)+1:r.endDate+1:i};e.isHidden=function(t,e){for(var i=0;i<e.length;i++){var o=e[i].start;var n=e[i].end;if(t>=o&&t<n)return{hidden:!0,startDate:o,endDate:n}}return{hidden:!1,startDate:o,endDate:n}}},function(t,e,i){e.onTouch=function(t,e){e.inputHandler=function(t){t.isFirst&&e(t)};t.on("hammer.input",e.inputHandler)};e.onRelease=function(t,e){e.inputHandler=function(t){t.isFinal&&e(t)};return t.on("hammer.input",e.inputHandler)};e.offTouch=function(t,e){t.off("hammer.input",e.inputHandler)};e.offRelease=e.offTouch;e.disablePreventDefaultVertically=function(t){var e="pan-y";t.getTouchAction=function(){return["pan-y"]};return t}},function(t,e,i){var o;var n=a(i(6));var r;var s=a(i(8));function a(t){return t&&t.__esModule?t:{default:t}}var h=i(10);var d=i(2);var l=i(9);function u(t,e,i){this.id=null;this.parent=null;this.data=t;this.dom=null;this.conversion=e||{};this.options=i||{};this.selected=!1;this.displayed=!1;this.groupShowing=!0;this.dirty=!0;this.top=null;this.right=null;this.left=null;this.width=null;this.height=null;this.editable=null;this._updateEditStatus()}u.prototype.stack=!0;u.prototype.select=function(){this.selected=!0;this.dirty=!0;this.displayed&&this.redraw()};u.prototype.unselect=function(){this.selected=!1;this.dirty=!0;this.displayed&&this.redraw()};u.prototype.setData=function(t){var e;void 0!=t.group&&this.data.group!=t.group&&null!=this.parent&&this.parent.itemSet._moveToGroup(this,t.group);this.parent&&(this.parent.stackDirty=!0);var i;void 0!=t.subgroup&&this.data.subgroup!=t.subgroup&&null!=this.parent&&this.parent.changeSubgroup(this,this.data.subgroup,t.subgroup);this.data=t;this._updateEditStatus();this.dirty=!0;this.displayed&&this.redraw()};u.prototype.setParent=function(t){if(this.displayed){this.hide();this.parent=t;this.parent&&this.show()}else this.parent=t};u.prototype.isVisible=function(t){return!1};u.prototype.show=function(){return!1};u.prototype.hide=function(){return!1};u.prototype.redraw=function(){};u.prototype.repositionX=function(){};u.prototype.repositionY=function(){};u.prototype._repaintDragCenter=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragCenter){var t=this;var e=document.createElement("div");e.className="vis-drag-center";e.dragCenterItem=this;var i=new h(e);i.on("tap",function(e){t.parent.itemSet.body.emitter.emit("click",{event:e,item:t.id})});i.on("doubletap",function(e){e.stopPropagation();t.parent.itemSet._onUpdateItem(t);t.parent.itemSet.body.emitter.emit("doubleClick",{event:e,item:t.id})});this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(e,this.dom.dragLeft):this.dom.box.appendChild(e):this.dom.point&&this.dom.point.appendChild(e);this.dom.dragCenter=e}else if(!this.selected&&this.dom.dragCenter){this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter);this.dom.dragCenter=null}};u.prototype._repaintDeleteButton=function(t){var e=(this.options.editable.overrideItems||null==this.editable)&&this.options.editable.remove||!this.options.editable.overrideItems&&null!=this.editable&&this.editable.remove;if(this.selected&&e&&!this.dom.deleteButton){var i=this;var o=document.createElement("div");this.options.rtl?o.className="vis-delete-rtl":o.className="vis-delete";o.title="Delete this item";new h(o).on("tap",function(t){t.stopPropagation();i.parent.removeFromDataSet(i)});t.appendChild(o);this.dom.deleteButton=o}else if(!this.selected&&this.dom.deleteButton){this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton);this.dom.deleteButton=null}};u.prototype._repaintOnItemUpdateTimeTooltip=function(t){if(!this.options.tooltipOnItemUpdateTime)return;var e=(this.options.editable.updateTime||!0===this.data.editable)&&!1!==this.data.editable;if(this.selected&&e&&!this.dom.onItemUpdateTimeTooltip){var i=document.createElement("div");i.className="vis-onUpdateTime-tooltip";t.appendChild(i);this.dom.onItemUpdateTimeTooltip=i}else if(!this.selected&&this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip);this.dom.onItemUpdateTimeTooltip=null}if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden";this.options.rtl?this.dom.onItemUpdateTimeTooltip.style.right=this.dom.content.style.right:this.dom.onItemUpdateTimeTooltip.style.left=this.dom.content.style.left;var o=50;var n=this.parent.itemSet.body.domProps.scrollTop;var r;var s;if((r="top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height)+this.parent.top-50<-n){this.dom.onItemUpdateTimeTooltip.style.bottom="";this.dom.onItemUpdateTimeTooltip.style.top=this.height+2+"px"}else{this.dom.onItemUpdateTimeTooltip.style.top="";this.dom.onItemUpdateTimeTooltip.style.bottom=this.height+2+"px"}var a;var h;if(this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template)a=(h=this.options.tooltipOnItemUpdateTime.template.bind(this))(this.data);else{a="start: "+l(this.data.start).format("MM/DD/YYYY hh:mm");this.data.end&&(a+="<br> end: "+l(this.data.end).format("MM/DD/YYYY hh:mm"))}this.dom.onItemUpdateTimeTooltip.innerHTML=a}};u.prototype._updateContents=function(t){var e;var i;var o;var n;var r;var s=this.parent.itemSet.itemsData.get(this.id);var a=this.dom.box||this.dom.point;var h=a.getElementsByClassName("vis-item-visible-frame")[0];n=this.options.visibleFrameTemplate?(r=this.options.visibleFrameTemplate.bind(this))(s,a):"";if(h)if(n instanceof Object&&!(n instanceof Element))r(s,h);else if(i=this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(n)){if(n instanceof Element){h.innerHTML="";h.appendChild(n)}else if(void 0!=n)h.innerHTML=n;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.itemVisibleFrameContent=n}if((e=this.options.template?(o=this.options.template.bind(this))(s,t,this.data):this.data.content)instanceof Object&&!(e instanceof Element))o(s,t);else if(i=this._contentToString(this.content)!==this._contentToString(e)){if(e instanceof Element){t.innerHTML="";t.appendChild(e)}else if(void 0!=e)t.innerHTML=e;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=e}};u.prototype._updateDataAttributes=function(t){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var e=[];if(Array.isArray(this.options.dataAttributes))e=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;e=(0,s["default"])(this.data)}for(var i=0;i<e.length;i++){var o=e[i];var n=this.data[o];null!=n?t.setAttribute("data-"+o,n):t.removeAttribute("data-"+o)}}};u.prototype._updateStyle=function(t){if(this.style){d.removeCssText(t,this.style);this.style=null}if(this.data.style){d.addCssText(t,this.data.style);this.style=this.data.style}};u.prototype._contentToString=function(t){if("string"==typeof t)return t;if(t&&"outerHTML"in t)return t.outerHTML;return t};u.prototype._updateEditStatus=function(){if(this.options)if("boolean"==typeof this.options.editable)this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable};else if("object"===(0,n["default"])(this.options.editable)){this.editable={};d.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable)}if((!this.options||!this.options.editable||!0!==this.options.editable.overrideItems)&&this.data)if("boolean"==typeof this.data.editable)this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable};else if("object"===(0,n["default"])(this.data.editable)){this.editable={};d.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)}};u.prototype.getWidthLeft=function(){return 0};u.prototype.getWidthRight=function(){return 0};u.prototype.getTitle=function(){return this.data.title};t.exports=u},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var i=0;var o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+o).toString(36))}},function(t,e,i){var o=i(51);t.exports=function(t){return Object(o(t))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){function o(t){this.delay=null;this.max=1/0;this._queue=[];this._timeout=null;this._extended=null;this.setOptions(t)}o.prototype.setOptions=function(t){t&&void 0!==t.delay&&(this.delay=t.delay);t&&void 0!==t.max&&(this.max=t.max);this._flushIfNeeded()};o.extend=function(t,e){var i=new o(e);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=function(){i.flush()};var n=[{name:"flush",original:void 0}];if(e&&e.replace)for(var r=0;r<e.replace.length;r++){var s=e.replace[r];n.push({name:s,original:t[s]});i.replace(t,s)}i._extended={object:t,methods:n};return i};o.prototype.destroy=function(){this.flush();if(this._extended){var t=this._extended.object;var e=this._extended.methods;for(var i=0;i<e.length;i++){var o=e[i];o.original?t[o.name]=o.original:delete t[o.name]}this._extended=null}};o.prototype.replace=function(t,e){var i=this;var o=t[e];if(!o)throw new Error("Method "+e+" undefined");t[e]=function(){var t=[];for(var e=0;e<arguments.length;e++)t[e]=arguments[e];i.queue({args:t,fn:o,context:this})}};o.prototype.queue=function(t){"function"==typeof t?this._queue.push({fn:t}):this._queue.push(t);this._flushIfNeeded()};o.prototype._flushIfNeeded=function(){this._queue.length>this.max&&this.flush();clearTimeout(this._timeout);if(this.queue.length>0&&"number"==typeof this.delay){var t=this;this._timeout=setTimeout(function(){t.flush()},this.delay)}};o.prototype.flush=function(){for(;this._queue.length>0;){var t=this._queue.shift();t.fn.apply(t.context||t.fn,t.args||[])}};t.exports=o},function(t,e){t.exports=i;function i(t){if(t)return o(t)}function o(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}i.prototype.on=i.prototype.addEventListener=function(t,e){this._callbacks=this._callbacks||{};(this._callbacks[t]=this._callbacks[t]||[]).push(e);return this};i.prototype.once=function(t,e){var i=this;this._callbacks=this._callbacks||{};function o(){i.off(t,o);e.apply(this,arguments)}o.fn=e;this.on(t,o);return this};i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var i=this._callbacks[t];if(!i)return this;if(1==arguments.length){delete this._callbacks[t];return this}var o;for(var n=0;n<i.length;n++)if((o=i[n])===e||o.fn===e){i.splice(n,1);break}return this};i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i)for(var o=0,n=(i=i.slice(0)).length;o<n;++o)i[o].apply(this,e);return this};i.prototype.listeners=function(t){this._callbacks=this._callbacks||{};return this._callbacks[t]||[]};i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,i){var o;var n=r(i(6));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(2);var a=i(16);var h=i(66);var d=i(36);var l=i(9);function u(t,e){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}};this.props={range:{start:0,end:0,minimumStep:0},lineTop:0};this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:h.FORMAT,moment:l,timeAxis:null};this.options=s.extend({},this.defaultOptions);this.body=t;this._create();this.setOptions(e)}u.prototype=new a;u.prototype.setOptions=function(t){if(t){s.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,t);s.selectiveDeepExtend(["format"],this.options,t);"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.axis=t.orientation:"object"===(0,n["default"])(t.orientation)&&"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis));"locale"in t&&("function"==typeof l.locale?l.locale(t.locale):l.lang(t.locale))}};u.prototype._create=function(){this.dom.foreground=document.createElement("div");this.dom.background=document.createElement("div");this.dom.foreground.className="vis-time-axis vis-foreground";this.dom.background.className="vis-time-axis vis-background"};u.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground);this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background);this.body=null};u.prototype.redraw=function(){var t=this.props;var e=this.dom.foreground;var i=this.dom.background;var o="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom;var n=e.parentNode!==o;this._calculateCharSize();var r=this.options.showMinorLabels&&"none"!==this.options.orientation.axis;var s=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;t.minorLabelHeight=r?t.minorCharHeight:0;t.majorLabelHeight=s?t.majorCharHeight:0;t.height=t.minorLabelHeight+t.majorLabelHeight;t.width=e.offsetWidth;t.minorLineHeight=this.body.domProps.root.height-t.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height);t.minorLineWidth=1;t.majorLineHeight=t.minorLineHeight+t.majorLabelHeight;t.majorLineWidth=1;var a=e.nextSibling;var h=i.nextSibling;e.parentNode&&e.parentNode.removeChild(e);i.parentNode&&i.parentNode.removeChild(i);e.style.height=this.props.height+"px";this._repaintLabels();a?o.insertBefore(e,a):o.appendChild(e);h?this.body.dom.backgroundVertical.insertBefore(i,h):this.body.dom.backgroundVertical.appendChild(i);return this._isResized()||n};u.prototype._repaintLabels=function(){var t=this.options.orientation.axis;var e=s.convert(this.body.range.start,"Number");var i=s.convert(this.body.range.end,"Number");var o=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf();var n=o-d.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,o);n-=this.body.util.toTime(0).valueOf();var r=new h(new Date(e),new Date(i),n,this.body.hiddenDates,this.options);r.setMoment(this.options.moment);this.options.format&&r.setFormat(this.options.format);this.options.timeAxis&&r.setScale(this.options.timeAxis);this.step=r;var a=this.dom;a.redundant.lines=a.lines;a.redundant.majorTexts=a.majorTexts;a.redundant.minorTexts=a.minorTexts;a.lines=[];a.majorTexts=[];a.minorTexts=[];var l;var u;var p;var f;var v;var m;var g;var y=0,b;var _;var w;var x=void 0;var k=0;var S=1e3;var D;r.start();u=r.getCurrent();f=this.body.util.toScreen(u);for(;r.hasNext()&&k<1e3;){k++;v=r.isMajor();D=r.getClassName();w=r.getLabelMinor();l=u;p=f;r.next();u=r.getCurrent();m=r.isMajor();f=this.body.util.toScreen(u);b=y;y=f-p;switch(r.scale){case"week":g=!0;break;default:g=y>=.4*b}if(this.options.showMinorLabels&&g){var O=this._repaintMinorText(p,w,t,D);O.style.width=y+"px"}if(v&&this.options.showMajorLabels){if(p>0){void 0==x&&(x=p);O=this._repaintMajorText(p,r.getLabelMajor(),t,D)}_=this._repaintMajorLine(p,y,t,D)}else g?_=this._repaintMinorLine(p,y,t,D):_&&(_.style.width=parseInt(_.style.width)+y+"px")}if(1e3===k&&!c){console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to 1000 lines.");c=!0}if(this.options.showMajorLabels){var M=this.body.util.toTime(0),C=r.getLabelMajor(M),E=C.length*(this.props.majorCharWidth||10)+10;(void 0==x||E<x)&&this._repaintMajorText(0,C,t,D)}s.forEach(this.dom.redundant,function(t){for(;t.length;){var e=t.pop();e&&e.parentNode&&e.parentNode.removeChild(e)}})};u.prototype._repaintMinorText=function(t,e,i,o){var n=this.dom.redundant.minorTexts.shift();if(!n){var r=document.createTextNode("");(n=document.createElement("div")).appendChild(r);this.dom.foreground.appendChild(n)}this.dom.minorTexts.push(n);n.innerHTML=e;n.style.top="top"==i?this.props.majorLabelHeight+"px":"0";if(this.options.rtl){n.style.left="";n.style.right=t+"px"}else n.style.left=t+"px";n.className="vis-text vis-minor "+o;return n};u.prototype._repaintMajorText=function(t,e,i,o){var n=this.dom.redundant.majorTexts.shift();if(!n){var r=document.createElement("div");(n=document.createElement("div")).appendChild(r);this.dom.foreground.appendChild(n)}n.childNodes[0].innerHTML=e;n.className="vis-text vis-major "+o;n.style.top="top"==i?"0":this.props.minorLabelHeight+"px";if(this.options.rtl){n.style.left="";n.style.right=t+"px"}else n.style.left=t+"px";this.dom.majorTexts.push(n);return n};u.prototype._repaintMinorLine=function(t,e,i,o){var n=this.dom.redundant.lines.shift();if(!n){n=document.createElement("div");this.dom.background.appendChild(n)}this.dom.lines.push(n);var r=this.props;n.style.top="top"==i?r.majorLabelHeight+"px":this.body.domProps.top.height+"px";n.style.height=r.minorLineHeight+"px";if(this.options.rtl){n.style.left="";n.style.right=t-r.minorLineWidth/2+"px";n.className="vis-grid vis-vertical-rtl vis-minor "+o}else{n.style.left=t-r.minorLineWidth/2+"px";n.className="vis-grid vis-vertical vis-minor "+o}n.style.width=e+"px";return n};u.prototype._repaintMajorLine=function(t,e,i,o){var n=this.dom.redundant.lines.shift();if(!n){n=document.createElement("div");this.dom.background.appendChild(n)}this.dom.lines.push(n);var r=this.props;n.style.top="top"==i?"0":this.body.domProps.top.height+"px";if(this.options.rtl){n.style.left="";n.style.right=t-r.majorLineWidth/2+"px";n.className="vis-grid vis-vertical-rtl vis-major "+o}else{n.style.left=t-r.majorLineWidth/2+"px";n.className="vis-grid vis-vertical vis-major "+o}n.style.height=r.majorLineHeight+"px";n.style.width=e+"px";return n};u.prototype._calculateCharSize=function(){if(!this.dom.measureCharMinor){this.dom.measureCharMinor=document.createElement("DIV");this.dom.measureCharMinor.className="vis-text vis-minor vis-measure";this.dom.measureCharMinor.style.position="absolute";this.dom.measureCharMinor.appendChild(document.createTextNode("0"));this.dom.foreground.appendChild(this.dom.measureCharMinor)}this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight;this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth;if(!this.dom.measureCharMajor){this.dom.measureCharMajor=document.createElement("DIV");this.dom.measureCharMajor.className="vis-text vis-major vis-measure";this.dom.measureCharMajor.style.position="absolute";this.dom.measureCharMajor.appendChild(document.createTextNode("0"));this.dom.foreground.appendChild(this.dom.measureCharMajor)}this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight;this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};var c=!1;t.exports=u},function(t,e,i){var o=i(10);var n=i(2);var r=i(16);var s=i(9);var a=i(98);function h(t,e){this.body=t;this.defaultOptions={moment:s,locales:a,locale:"en",id:void 0,title:void 0};this.options=n.extend({},this.defaultOptions);e&&e.time?this.customTime=e.time:this.customTime=new Date;this.eventParams={};this.setOptions(e);this._create()}h.prototype=new r;h.prototype.setOptions=function(t){t&&n.selectiveExtend(["moment","locale","locales","id"],this.options,t)};h.prototype._create=function(){var t=document.createElement("div");t["custom-time"]=this;t.className="vis-custom-time "+(this.options.id||"");t.style.position="absolute";t.style.top="0px";t.style.height="100%";this.bar=t;var e=document.createElement("div");e.style.position="relative";e.style.top="0px";e.style.left="-10px";e.style.height="100%";e.style.width="20px";function i(t){this.body.range._onMouseWheel(t)}if(e.addEventListener){e.addEventListener("mousewheel",i.bind(this),!1);e.addEventListener("DOMMouseScroll",i.bind(this),!1)}else e.attachEvent("onmousewheel",i.bind(this));t.appendChild(e);this.hammer=new o(e);this.hammer.on("panstart",this._onDragStart.bind(this));this.hammer.on("panmove",this._onDrag.bind(this));this.hammer.on("panend",this._onDragEnd.bind(this));this.hammer.get("pan").set({threshold:5,direction:o.DIRECTION_HORIZONTAL})};h.prototype.destroy=function(){this.hide();this.hammer.destroy();this.hammer=null;this.body=null};h.prototype.redraw=function(){var t=this.body.dom.backgroundVertical;if(this.bar.parentNode!=t){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar);t.appendChild(this.bar)}var e=this.body.util.toScreen(this.customTime);var i=this.options.locales[this.options.locale];if(!i){if(!this.warned){console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization");this.warned=!0}i=this.options.locales["en"]}var o=this.options.title;void 0===o?o=(o=i.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")).charAt(0).toUpperCase()+o.substring(1):"function"==typeof o&&(o=o.call(this.customTime));this.bar.style.left=e+"px";this.bar.title=o;return!1};h.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)};h.prototype.setCustomTime=function(t){this.customTime=n.convert(t,"Date");this.redraw()};h.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())};h.prototype.setCustomTitle=function(t){this.options.title=t};h.prototype._onDragStart=function(t){this.eventParams.dragging=!0;this.eventParams.customTime=this.customTime;t.stopPropagation()};h.prototype._onDrag=function(t){if(!this.eventParams.dragging)return;var e=this.body.util.toScreen(this.eventParams.customTime)+t.deltaX;var i=this.body.util.toTime(e);this.setCustomTime(i);this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t});t.stopPropagation()};h.prototype._onDragEnd=function(t){if(!this.eventParams.dragging)return;this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t});t.stopPropagation()};h.customTimeFromTarget=function(t){var e=t.target;for(;e;){if(e.hasOwnProperty("custom-time"))return e["custom-time"];e=e.parentNode}return null};t.exports=h},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=a(i(0));var r;var s=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var h=i(2);var d=i(117)["default"];var l=i(48)["default"];var u=i(193)["default"];var c=i(200)["default"];var p=i(201)["default"];var f=i(202)["default"];var v=i(203)["default"];var m=i(204)["default"];var g=i(205)["default"];var y=i(206)["default"];var b=i(207)["default"];var _=i(208)["default"];var w=i(209)["default"];var x=i(210)["default"];var k=i(211)["default"];var S=i(212)["default"];var D=i(213)["default"];var O,M=i(15).printStyle;var C=function(){function t(e,i,o,r,s,a){(0,n["default"])(this,t);this.options=h.bridgeObject(s);this.globalOptions=s;this.defaultOptions=a;this.body=i;this.edges=[];this.id=void 0;this.imagelist=o;this.grouplist=r;this.x=void 0;this.y=void 0;this.baseSize=this.options.size;this.baseFontSize=this.options.font.size;this.predefinedPosition=!1;this.selected=!1;this.hover=!1;this.labelModule=new d(this.body,this.options,!1);this.setOptions(e)}(0,s["default"])(t,[{key:"attachEdge",value:function t(e){-1===this.edges.indexOf(e)&&this.edges.push(e)}},{key:"detachEdge",value:function t(e){var i=this.edges.indexOf(e);-1!=i&&this.edges.splice(i,1)}},{key:"setOptions",value:function e(i){var o=this.options.shape;if(!i)return;void 0!==i.id&&(this.id=i.id);if(void 0===this.id)throw new Error("Node must have an id");t.checkMass(i,this.id);if(void 0!==i.x)if(null===i.x){this.x=void 0;this.predefinedPosition=!1}else{this.x=parseInt(i.x);this.predefinedPosition=!0}if(void 0!==i.y)if(null===i.y){this.y=void 0;this.predefinedPosition=!1}else{this.y=parseInt(i.y);this.predefinedPosition=!0}void 0!==i.size&&(this.baseSize=i.size);void 0!==i.value&&(i.value=parseFloat(i.value));t.parseOptions(this.options,i,!0,this.globalOptions,this.grouplist);var n=[i,this.options,this.defaultOptions];this.chooser=l.choosify("node",n);this._load_images();this.updateLabelModule(i);this.updateShape(o);return void 0!==i.hidden||void 0!==i.physics}},{key:"_load_images",value:function t(){if("circularImage"!==this.options.shape&&"image"!==this.options.shape)return;if(void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id);void 0!==this.options.image.selected?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}},{key:"getFormattingValues",value:function t(){var e={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover){if(!0===this.chooser){if(this.selected){e.borderWidth*=2;e.color=this.options.color.highlight.background;e.borderColor=this.options.color.highlight.border;e.shadow=this.options.shadow.enabled}else if(this.hover){e.color=this.options.color.hover.background;e.borderColor=this.options.color.hover.border;e.shadow=this.options.shadow.enabled}}else if("function"==typeof this.chooser){this.chooser(e,this.options.id,this.selected,this.hover);!1===e.shadow&&(e.shadowColor===this.options.shadow.color&&e.shadowSize===this.options.shadow.size&&e.shadowX===this.options.shadow.x&&e.shadowY===this.options.shadow.y||(e.shadow=!0))}}else e.shadow=this.options.shadow.enabled;return e}},{key:"updateLabelModule",value:function e(i){void 0!==this.options.label&&null!==this.options.label||(this.options.label="");t.updateGroupOptions(this.options,i,this.grouplist);var o=this.grouplist.get(this.options.group,!1);var n=[i,this.options,o,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n);void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function t(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new u(this.options,this.body,this.labelModule);break;case"circle":this.shape=new c(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new p(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new f(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new v(this.options,this.body,this.labelModule);break;case"dot":this.shape=new m(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new g(this.options,this.body,this.labelModule);break;case"icon":this.shape=new y(this.options,this.body,this.labelModule);break;case"image":this.shape=new b(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new _(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new w(this.options,this.body,this.labelModule);break;case"star":this.shape=new x(this.options,this.body,this.labelModule);break;case"text":this.shape=new k(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new S(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new D(this.options,this.body,this.labelModule);break;default:this.shape=new g(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function t(){this.selected=!0;this.needsRefresh()}},{key:"unselect",value:function t(){this.selected=!1;this.needsRefresh()}},{key:"needsRefresh",value:function t(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function t(){return this.options.title}},{key:"distanceToBorder",value:function t(e,i){return this.shape.distanceToBorder(e,i)}},{key:"isFixed",value:function t(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function t(){return this.selected}},{key:"getValue",value:function t(){return this.options.value}},{key:"getLabelSize",value:function t(){return this.labelModule.size()}},{key:"setValueRange",value:function t(e,i,o){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(e,i,o,this.options.value);var r=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*s}this.options.size=this.options.scaling.min+n*r}else{this.options.size=this.baseSize;this.options.font.size=this.baseFontSize}this.updateLabelModule()}},{key:"draw",value:function t(e){var i=this.getFormattingValues();this.shape.draw(e,this.x,this.y,this.selected,this.hover,i)}},{key:"updateBoundingBox",value:function t(e){this.shape.updateBoundingBox(this.x,this.y,e)}},{key:"resize",value:function t(e){var i=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,i)}},{key:"getItemsOnPoint",value:function t(e){var i=[];this.labelModule.visible()&&l.pointInRect(this.labelModule.getSize(),e)&&i.push({nodeId:this.id,labelId:0});l.pointInRect(this.shape.boundingBox,e)&&i.push({nodeId:this.id});return i}},{key:"isOverlappingWith",value:function t(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:"isBoundingBoxOverlappingWith",value:function t(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:"updateGroupOptions",value:function t(e,i,o){if(void 0===o)return;var n=e.group;if(void 0!==i&&void 0!==i.group&&n!==i.group)throw new Error("updateGroupOptions: group values in options don't match.");var r;if(!("number"==typeof n||"string"==typeof n&&""!=n))return;var s=o.get(n);h.selectiveNotDeepExtend(["font"],e,s);e.color=h.parseColor(e.color)}},{key:"parseOptions",value:function e(i,o){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var s=arguments[4];var a=["color","fixed","shadow"];h.selectiveNotDeepExtend(a,i,o,n);t.checkMass(o);h.mergeOptions(i,o,"shadow",r);if(void 0!==o.color&&null!==o.color){var d=h.parseColor(o.color);h.fillIfDefined(i.color,d)}else!0===n&&null===o.color&&(i.color=h.bridgeObject(r.color));if(void 0!==o.fixed&&null!==o.fixed)if("boolean"==typeof o.fixed){i.fixed.x=o.fixed;i.fixed.y=o.fixed}else{void 0!==o.fixed.x&&"boolean"==typeof o.fixed.x&&(i.fixed.x=o.fixed.x);void 0!==o.fixed.y&&"boolean"==typeof o.fixed.y&&(i.fixed.y=o.fixed.y)}!0===n&&null===o.font&&(i.font=h.bridgeObject(r.font));t.updateGroupOptions(i,o,s);void 0!==o.scaling&&h.mergeOptions(i.scaling,o.scaling,"label",r.scaling)}},{key:"checkMass",value:function t(e,i){if(void 0!==e.mass&&e.mass<=0){var o="";void 0!==i&&(o=" in node id: "+i);console.log("%cNegative or zero mass disallowed"+o+", setting mass to 1.",M);e.mass=1}}}]);return t}();e["default"]=C},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=d(i(6));var r;var s=d(i(0));var a;var h=d(i(1));function d(t){return t&&t.__esModule?t:{default:t}}var l=i(2);var u=function(){function t(){(0,s["default"])(this,t)}(0,h["default"])(t,null,[{key:"choosify",value:function t(e,i){var o=["node","edge","label"];var r=!0;var s=l.topMost(i,"chosen");if("boolean"==typeof s)r=s;else if("object"===(void 0===s?"undefined":(0,n["default"])(s))){if(-1===o.indexOf(e))throw new Error("choosify: subOption '"+e+"' should be one of '"+o.join("', '")+"'");var a=l.topMost(i,["chosen",e]);"boolean"!=typeof a&&"function"!=typeof a||(r=a)}return r}},{key:"pointInRect",value:function t(e,i,o){if(e.width<=0||e.height<=0)return!1;if(void 0!==o){var n={x:i.x-o.x,y:i.y-o.y};if(0!==o.angle){var r=-o.angle;var s;i={x:Math.cos(r)*n.x-Math.sin(r)*n.y,y:Math.sin(r)*n.x+Math.cos(r)*n.y}}else i=n}var a=e.x+e.width;var h=e.y+e.width;return e.left<i.x&&a>i.x&&e.top<i.y&&h>i.y}},{key:"isValidLabel",value:function t(e){return"string"==typeof e&&""!==e}}]);return t}();e["default"]=u},function(t,e,i){i(125);var o=i(18);var n=i(26);var r=i(31);var s=i(13)("toStringTag");var a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(",");for(var h=0;h<a.length;h++){var d=a[h];var l=o[d];var u=l&&l.prototype;u&&!u[s]&&n(u,s,d);r[d]=r.Array}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=!0},function(t,e,i){var o=i(32);t.exports=function(t,e){if(!o(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!o(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!o(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!o(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){var o=i(27);var n=i(130);var r=i(58);var s=i(56)("IE_PROTO");var a=function(){};var h="prototype";var d=function(){var t=i(82)("iframe");var e=r.length;var o="<";var n=">";var s;t.style.display="none";i(134).appendChild(t);t.src="javascript:";(s=t.contentWindow.document).open();s.write("<script>document.F=Object<\/script>");s.close();d=s.F;for(;e--;)delete d[h][r[e]];return d()};t.exports=Object.create||function t(e,i){var r;if(null!==e){a[h]=o(e);r=new a;a[h]=null;r[s]=e}else r=d();return void 0===i?r:n(r,i)}},function(t,e){var i=Math.ceil;var o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:i)(t)}},function(t,e,i){var o=i(57)("keys");var n=i(40);t.exports=function(t){return o[t]||(o[t]=n(t))}},function(t,e,i){var o=i(18);var n="__core-js_shared__";var r=o[n]||(o[n]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var o=i(20).f;var n=i(22);var r=i(13)("toStringTag");t.exports=function(t,e,i){t&&!n(t=i?t:t.prototype,r)&&o(t,r,{configurable:!0,value:e})}},function(t,e,i){var o=i(135)(!0);i(79)(String,"String",function(t){this._t=String(t);this._i=0},function(){var t=this._t;var e=this._i;var i;if(e>=t.length)return{value:void 0,done:!0};i=o(t,e);this._i+=i.length;return{value:i,done:!1}})},function(t,e,i){e.f=i(13)},function(t,e,i){var o=i(18);var n=i(7);var r=i(52);var s=i(61);var a=i(20).f;t.exports=function(t){var e=n.Symbol||(n.Symbol=r?{}:o.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var o;var n=d(i(8));var r;var s=d(i(19));var a;var h=d(i(6));function d(t){return t&&t.__esModule?t:{default:t}}var l=i(2);var u=i(9);var c=i(16);var p=i(36);function f(t,e){var i=u().hours(0).minutes(0).seconds(0).milliseconds(0);var o=i.clone().add(-3,"days").valueOf();var n=i.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0;if(void 0===e){this.start=o;this.end=n}else{this.start=e.start||o;this.end=e.end||n}this.rolling=!1;this.body=t;this.deltaDifference=0;this.scaleOffset=0;this.startToFront=!1;this.endToFront=!0;this.defaultOptions={rtl:!1,start:null,end:null,moment:u,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10,rollingMode:{follow:!1,offset:.5}};this.options=l.extend({},this.defaultOptions);this.props={touch:{}};this.animationTimer=null;this.body.emitter.on("panstart",this._onDragStart.bind(this));this.body.emitter.on("panmove",this._onDrag.bind(this));this.body.emitter.on("panend",this._onDragEnd.bind(this));this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this));this.body.emitter.on("touch",this._onTouch.bind(this));this.body.emitter.on("pinch",this._onPinch.bind(this));this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this));this.setOptions(e)}f.prototype=new c;f.prototype.setOptions=function(t){if(t){var e=["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl","showCurrentTime","rollingMode","horizontalScroll"];l.selectiveExtend(e,this.options,t);t.rollingMode&&t.rollingMode.follow&&this.startRolling();("start"in t||"end"in t)&&this.setRange(t.start,t.end)}};function v(t){if("horizontal"!=t&&"vertical"!=t)throw new TypeError('Unknown direction "'+t+'". Choose "horizontal" or "vertical".')}f.prototype.startRolling=function(){var t=this;function e(){t.stopRolling();t.rolling=!0;var i=t.end-t.start;var o=l.convert(new Date,"Date").valueOf();var n=o-i*t.options.rollingMode.offset;var r=o+i*(1-t.options.rollingMode.offset);var s={animation:!1};t.setRange(n,r,s);var a;(i=1/t.conversion(t.body.domProps.center.width).scale/10)<30&&(i=30);i>1e3&&(i=1e3);t.body.dom.rollingModeBtn.style.visibility="hidden";t.currentTimeTimer=setTimeout(e,i)}e()};f.prototype.stopRolling=function(){if(void 0!==this.currentTimeTimer){clearTimeout(this.currentTimeTimer);this.rolling=!1;this.body.dom.rollingModeBtn.style.visibility="visible"}};f.prototype.setRange=function(t,e,i,o,r){i||(i={});!0!==i.byUser&&(i.byUser=!1);var a=this;var d=void 0!=t?l.convert(t,"Date").valueOf():null;var u=void 0!=e?l.convert(e,"Date").valueOf():null;this._cancelAnimation();this.millisecondsPerPixelCache=void 0;if(i.animation){var c=this.start;var f=this.end;var v="object"===(0,h["default"])(i.animation)&&"duration"in i.animation?i.animation.duration:500;var m="object"===(0,h["default"])(i.animation)&&"easingFunction"in i.animation?i.animation.easingFunction:"easeInOutQuad";var g=l.easingFunctions[m];if(!g)throw new Error("Unknown easing function "+(0,s["default"])(m)+". Choose from: "+(0,n["default"])(l.easingFunctions).join(", "));var y=(new Date).valueOf();var b=!1;var _;return function t(){if(!a.props.touch.dragging){var e;var n=(new Date).valueOf()-y;var s=g(n/v);var h=n>v;var l=h||null===d?d:c+(d-c)*s;var m=h||null===u?u:f+(u-f)*s;w=a._applyRange(l,m);p.updateHiddenDates(a.options.moment,a.body,a.options.hiddenDates);b=b||w;var _={start:new Date(a.start),end:new Date(a.end),byUser:i.byUser,event:i.event};r&&r(s,w,h);w&&a.body.emitter.emit("rangechange",_);if(h){if(b){a.body.emitter.emit("rangechanged",_);if(o)return o()}}else a.animationTimer=setTimeout(t,20)}}()}var w=this._applyRange(d,u);p.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates);if(w){var x={start:new Date(this.start),end:new Date(this.end),byUser:i.byUser,event:i.event};this.body.emitter.emit("rangechange",x);clearTimeout(a.timeoutID);a.timeoutID=setTimeout(function(){a.body.emitter.emit("rangechanged",x)},200);if(o)return o()}};f.prototype.getMillisecondsPerPixel=function(){void 0===this.millisecondsPerPixelCache&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth);return this.millisecondsPerPixelCache};f.prototype._cancelAnimation=function(){if(this.animationTimer){clearTimeout(this.animationTimer);this.animationTimer=null}};f.prototype._applyRange=function(t,e){var i=null!=t?l.convert(t,"Date").valueOf():this.start,o=null!=e?l.convert(e,"Date").valueOf():this.end,n=null!=this.options.max?l.convert(this.options.max,"Date").valueOf():null,r=null!=this.options.min?l.convert(this.options.min,"Date").valueOf():null,s;if(isNaN(i)||null===i)throw new Error('Invalid start "'+t+'"');if(isNaN(o)||null===o)throw new Error('Invalid end "'+e+'"');o<i&&(o=i);if(null!==r&&i<r){i+=s=r-i;o+=s;null!=n&&o>n&&(o=n)}if(null!==n&&o>n){i-=s=o-n;o-=s;null!=r&&i<r&&(i=r)}if(null!==this.options.zoomMin){var a=parseFloat(this.options.zoomMin);a<0&&(a=0);if(o-i<a){var h=.5;if(this.end-this.start===a&&i>=this.start-.5&&o<=this.end){i=this.start;o=this.end}else{i-=(s=a-(o-i))/2;o+=s/2}}}if(null!==this.options.zoomMax){var d=parseFloat(this.options.zoomMax);d<0&&(d=0);if(o-i>d)if(this.end-this.start===d&&i<this.start&&o>this.end){i=this.start;o=this.end}else{i+=(s=o-i-d)/2;o-=s/2}}var u=this.start!=i||this.end!=o;i>=this.start&&i<=this.end||o>=this.start&&o<=this.end||this.start>=i&&this.start<=o||this.end>=i&&this.end<=o||this.body.emitter.emit("checkRangedItems");this.start=i;this.end=o;return u};f.prototype.getRange=function(){return{start:this.start,end:this.end}};f.prototype.conversion=function(t,e){return f.conversion(this.start,this.end,t,e)};f.conversion=function(t,e,i,o){void 0===o&&(o=0);return 0!=i&&e-t!=0?{offset:t,scale:i/(e-t-o)}:{offset:0,scale:1}};f.prototype._onDragStart=function(t){this.deltaDifference=0;this.previousDelta=0;if(!this.options.moveable)return;if(!this._isInsideRange(t))return;if(!this.props.touch.allowDragging)return;this.stopRolling();this.props.touch.start=this.start;this.props.touch.end=this.end;this.props.touch.dragging=!0;this.body.dom.root&&(this.body.dom.root.style.cursor="move")};f.prototype._onDrag=function(t){if(!t)return;if(!this.props.touch.dragging)return;if(!this.options.moveable)return;if(!this.props.touch.allowDragging)return;var e=this.options.direction;v(e);var i="horizontal"==e?t.deltaX:t.deltaY;i-=this.deltaDifference;var o=this.props.touch.end-this.props.touch.start;var n;o-=p.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);var r="horizontal"==e?this.body.domProps.center.width:this.body.domProps.center.height;var s;s=this.options.rtl?i/r*o:-i/r*o;var a=this.props.touch.start+s;var h=this.props.touch.end+s;var d=p.snapAwayFromHidden(this.body.hiddenDates,a,this.previousDelta-i,!0);var l=p.snapAwayFromHidden(this.body.hiddenDates,h,this.previousDelta-i,!0);if(d!=a||l!=h){this.deltaDifference+=i;this.props.touch.start=d;this.props.touch.end=l;this._onDrag(t);return}this.previousDelta=i;this._applyRange(a,h);var u=new Date(this.start);var c=new Date(this.end);this.body.emitter.emit("rangechange",{start:u,end:c,byUser:!0,event:t});this.body.emitter.emit("panmove")};f.prototype._onDragEnd=function(t){if(!this.props.touch.dragging)return;if(!this.options.moveable)return;if(!this.props.touch.allowDragging)return;this.props.touch.dragging=!1;this.body.dom.root&&(this.body.dom.root.style.cursor="auto");this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:t})};f.prototype._onMouseWheel=function(t){var e=0;t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3);if(this.options.zoomKey&&!t[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)return;if(!this.options.zoomable||!this.options.moveable)return;if(!this._isInsideRange(t))return;if(e){var i;i=e<0?1-e/5:1/(1+e/5);var o;if(this.rolling)o=this.start+(this.end-this.start)*this.options.rollingMode.offset;else{var n=this.getPointer({x:t.clientX,y:t.clientY},this.body.dom.center);o=this._pointerToDate(n)}this.zoom(i,o,e,t);t.preventDefault()}};f.prototype._onTouch=function(t){this.props.touch.start=this.start;this.props.touch.end=this.end;this.props.touch.allowDragging=!0;this.props.touch.center=null;this.scaleOffset=0;this.deltaDifference=0;l.preventDefault(t)};f.prototype._onPinch=function(t){if(!this.options.zoomable||!this.options.moveable)return;l.preventDefault(t);this.props.touch.allowDragging=!1;this.props.touch.center||(this.props.touch.center=this.getPointer(t.center,this.body.dom.center));this.stopRolling();var e=1/(t.scale+this.scaleOffset);var i=this._pointerToDate(this.props.touch.center);var o=p.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);var n=p.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,i);var r=o-n;var s=i-n+(this.props.touch.start-(i-n))*e;var a=i+r+(this.props.touch.end-(i+r))*e;this.startToFront=1-e<=0;this.endToFront=e-1<=0;var h=p.snapAwayFromHidden(this.body.hiddenDates,s,1-e,!0);var d=p.snapAwayFromHidden(this.body.hiddenDates,a,e-1,!0);if(h!=s||d!=a){this.props.touch.start=h;this.props.touch.end=d;this.scaleOffset=1-t.scale;s=h;a=d}var u={animation:!1,byUser:!0,event:t};this.setRange(s,a,u);this.startToFront=!1;this.endToFront=!0};f.prototype._isInsideRange=function(t){var e=t.center?t.center.x:t.clientX;var i;i=this.options.rtl?e-l.getAbsoluteLeft(this.body.dom.centerContainer):l.getAbsoluteRight(this.body.dom.centerContainer)-e;var o=this.body.util.toTime(i);return o>=this.start&&o<=this.end};f.prototype._pointerToDate=function(t){var e;var i=this.options.direction;v(i);if("horizontal"==i)return this.body.util.toTime(t.x).valueOf();var o=this.body.domProps.center.height;e=this.conversion(o);return t.y/e.scale+e.offset};f.prototype.getPointer=function(t,e){return this.options.rtl?{x:l.getAbsoluteRight(e)-t.x,y:t.y-l.getAbsoluteTop(e)}:{x:t.x-l.getAbsoluteLeft(e),y:t.y-l.getAbsoluteTop(e)}};f.prototype.zoom=function(t,e,i,o){null==e&&(e=(this.start+this.end)/2);var n=p.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);var r=p.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,e);var s=n-r;var a=e-r+(this.start-(e-r))*t;var h=e+s+(this.end-(e+s))*t;this.startToFront=!(i>0);this.endToFront=!(-i>0);var d=p.snapAwayFromHidden(this.body.hiddenDates,a,i,!0);var l=p.snapAwayFromHidden(this.body.hiddenDates,h,-i,!0);if(d!=a||l!=h){a=d;h=l}var u={animation:!1,byUser:!0,event:o};this.setRange(a,h,u);this.startToFront=!1;this.endToFront=!0};f.prototype.move=function(t){var e=this.end-this.start;var i=this.start+e*t;var o=this.end+e*t;this.start=i;this.end=o};f.prototype.moveTo=function(t){var e;var i=(this.start+this.end)/2-t;var o=this.start-i;var n=this.end-i;var r={animation:!1,byUser:!0,event:null};this.setRange(o,n,r)};t.exports=f},function(t,e,i){var o;var n=a(i(19));var r;var s=a(i(6));function a(t){return t&&t.__esModule?t:{default:t}}var h=i(44);var d=i(10);var l=i(37);var u=i(2);var c=i(45);var p=i(97);var f=i(36);var v=i(46);function m(){}h(m.prototype);m.prototype._create=function(t){this.dom={};this.dom.container=t;this.dom.root=document.createElement("div");this.dom.background=document.createElement("div");this.dom.backgroundVertical=document.createElement("div");this.dom.backgroundHorizontal=document.createElement("div");this.dom.centerContainer=document.createElement("div");this.dom.leftContainer=document.createElement("div");this.dom.rightContainer=document.createElement("div");this.dom.center=document.createElement("div");this.dom.left=document.createElement("div");this.dom.right=document.createElement("div");this.dom.top=document.createElement("div");this.dom.bottom=document.createElement("div");this.dom.shadowTop=document.createElement("div");this.dom.shadowBottom=document.createElement("div");this.dom.shadowTopLeft=document.createElement("div");this.dom.shadowBottomLeft=document.createElement("div");this.dom.shadowTopRight=document.createElement("div");this.dom.shadowBottomRight=document.createElement("div");this.dom.rollingModeBtn=document.createElement("div");this.dom.root.className="vis-timeline";this.dom.background.className="vis-panel vis-background";this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical";this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal";this.dom.centerContainer.className="vis-panel vis-center";this.dom.leftContainer.className="vis-panel vis-left";this.dom.rightContainer.className="vis-panel vis-right";this.dom.top.className="vis-panel vis-top";this.dom.bottom.className="vis-panel vis-bottom";this.dom.left.className="vis-content";this.dom.center.className="vis-content";this.dom.right.className="vis-content";this.dom.shadowTop.className="vis-shadow vis-top";this.dom.shadowBottom.className="vis-shadow vis-bottom";this.dom.shadowTopLeft.className="vis-shadow vis-top";this.dom.shadowBottomLeft.className="vis-shadow vis-bottom";this.dom.shadowTopRight.className="vis-shadow vis-top";this.dom.shadowBottomRight.className="vis-shadow vis-bottom";this.dom.rollingModeBtn.className="vis-rolling-mode-btn";this.dom.root.appendChild(this.dom.background);this.dom.root.appendChild(this.dom.backgroundVertical);this.dom.root.appendChild(this.dom.backgroundHorizontal);this.dom.root.appendChild(this.dom.centerContainer);this.dom.root.appendChild(this.dom.leftContainer);this.dom.root.appendChild(this.dom.rightContainer);this.dom.root.appendChild(this.dom.top);this.dom.root.appendChild(this.dom.bottom);this.dom.root.appendChild(this.dom.bottom);this.dom.root.appendChild(this.dom.rollingModeBtn);this.dom.centerContainer.appendChild(this.dom.center);this.dom.leftContainer.appendChild(this.dom.left);this.dom.rightContainer.appendChild(this.dom.right);this.dom.centerContainer.appendChild(this.dom.shadowTop);this.dom.centerContainer.appendChild(this.dom.shadowBottom);this.dom.leftContainer.appendChild(this.dom.shadowTopLeft);this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft);this.dom.rightContainer.appendChild(this.dom.shadowTopRight);this.dom.rightContainer.appendChild(this.dom.shadowBottomRight);this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0};this.on("rangechange",function(){!0===this.initialDrawDone&&this._redraw()}.bind(this));this.on("rangechanged",function(){this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}.bind(this));this.on("touch",this._onTouch.bind(this));this.on("panmove",this._onDrag.bind(this));var e=this;this._origRedraw=this._redraw.bind(this);this._redraw=u.throttle(this._origRedraw);this.on("_change",function(t){e.itemSet&&e.itemSet.initialItemSetDrawn&&t&&1==t.queue?e._redraw():e._origRedraw()});this.hammer=new d(this.dom.root);var i=this.hammer.get("pinch").set({enable:!0});l.disablePreventDefaultVertically(i);this.hammer.get("pan").set({threshold:5,direction:d.DIRECTION_HORIZONTAL});this.listeners={};var o;["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(t){var i=function i(o){e.isActive()&&e.emit(t,o)};e.hammer.on(t,i);e.listeners[t]=i});l.onTouch(this.hammer,function(t){e.emit("touch",t)}.bind(this));l.onRelease(this.hammer,function(t){e.emit("release",t)}.bind(this));function n(t){this.isActive()&&this.emit("mousewheel",t);var e=0;var i=0;"detail"in t&&(i=-1*t.detail);"wheelDelta"in t&&(i=t.wheelDelta);"wheelDeltaY"in t&&(i=t.wheelDeltaY);"wheelDeltaX"in t&&(e=-1*t.wheelDeltaX);if("axis"in t&&t.axis===t.HORIZONTAL_AXIS){e=-1*i;i=0}"deltaY"in t&&(i=-1*t.deltaY);"deltaX"in t&&(e=t.deltaX);if(!this.options.zoomKey||t[this.options.zoomKey])return;t.preventDefault();if(this.options.verticalScroll&&Math.abs(i)>=Math.abs(e)){var o;var n=this.props.scrollTop+i;if(this.isActive()){this._setScrollTop(n);this._redraw();this.emit("scroll",t)}}else if(this.options.horizontalScroll){var r;var s=(Math.abs(e)>=Math.abs(i)?e:i)/120*(this.range.end-this.range.start)/20;var a=this.range.start+s;var h=this.range.end+s;var d={animation:!1,byUser:!0,event:t};this.range.setRange(a,h,d)}}if(this.dom.centerContainer.addEventListener){this.dom.centerContainer.addEventListener("mousewheel",n.bind(this),!1);this.dom.centerContainer.addEventListener("DOMMouseScroll",n.bind(this),!1)}else this.dom.centerContainer.attachEvent("onmousewheel",n.bind(this));function r(t){if(!e.options.verticalScroll)return;t.preventDefault();if(e.isActive()){var i=-t.target.scrollTop;e._setScrollTop(i);e._redraw();e.emit("scrollSide",t)}}this.dom.left.parentNode.addEventListener("scroll",r.bind(this));this.dom.right.parentNode.addEventListener("scroll",r.bind(this));var s=!1;function a(t){t.preventDefault&&t.preventDefault();if(!t.target.className.indexOf("vis")>-1)return;if(s)return;t.dataTransfer.dropEffect="move";s=!0;return!1}function h(t){t.preventDefault&&t.preventDefault();t.stopPropagation&&t.stopPropagation();try{var i=JSON.parse(t.dataTransfer.getData("text"));if(!i||!i.content)return}catch(t){return!1}s=!1;t.center={x:t.clientX,y:t.clientY};"item"!==i.target?e.itemSet._onAddItem(t):e.itemSet._onDropObjectOnItem(t);e.emit("drop",e.getEventProperties(t));return!1}this.dom.center.addEventListener("dragover",a.bind(this),!1);this.dom.center.addEventListener("drop",h.bind(this),!1);this.customTimes=[];this.touch={};this.redrawCount=0;this.initialDrawDone=!1;this.initialRangeChangeDone=!1;if(!t)throw new Error("No container provided");t.appendChild(this.dom.root)};m.prototype.setOptions=function(t){if(t){var e=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","zoomKey","horizontalScroll","verticalScroll"];u.selectiveExtend(e,this.options,t);this.dom.rollingModeBtn.style.visibility="hidden";if(this.options.rtl){this.dom.container.style.direction="rtl";this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"}this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll");"object"!==(0,s["default"])(this.options.orientation)&&(this.options.orientation={item:void 0,axis:void 0});if("orientation"in t)if("string"==typeof t.orientation)this.options.orientation={item:t.orientation,axis:t.orientation};else if("object"===(0,s["default"])(t.orientation)){"item"in t.orientation&&(this.options.orientation.item=t.orientation.item);"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis)}if("both"===this.options.orientation.axis){if(!this.timeAxis2){var i=this.timeAxis2=new c(this.body);i.setOptions=function(t){var e=t?u.extend({},t):{};e.orientation="top";c.prototype.setOptions.call(i,e)};this.components.push(i)}}else if(this.timeAxis2){var o=this.components.indexOf(this.timeAxis2);-1!==o&&this.components.splice(o,1);this.timeAxis2.destroy();this.timeAxis2=null}"function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints});"hiddenDates"in this.options&&f.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates);if("clickToUse"in t)if(t.clickToUse)this.activator||(this.activator=new p(this.dom.root));else if(this.activator){this.activator.destroy();delete this.activator}if("showCustomTime"in t)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}this.components.forEach(function(e){return e.setOptions(t)});if("configure"in t){this.configurator||(this.configurator=this._createConfigurator());this.configurator.setOptions(t.configure);var n=u.deepExtend({},this.options);this.components.forEach(function(t){u.deepExtend(n,t.options)});this.configurator.setModuleOptions({global:n})}this._redraw()};m.prototype.isActive=function(){return!this.activator||this.activator.active};m.prototype.destroy=function(){this.setItems(null);this.setGroups(null);this.off();this._stopAutoResize();this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root);this.dom=null;if(this.activator){this.activator.destroy();delete this.activator}for(var t in this.listeners)this.listeners.hasOwnProperty(t)&&delete this.listeners[t];this.listeners=null;this.hammer=null;this.components.forEach(function(t){return t.destroy()});this.body=null};m.prototype.setCustomTime=function(t,e){var i=this.customTimes.filter(function(t){return e===t.options.id});if(0===i.length)throw new Error("No custom time bar found with id "+(0,n["default"])(e));i.length>0&&i[0].setCustomTime(t)};m.prototype.getCustomTime=function(t){var e=this.customTimes.filter(function(e){return e.options.id===t});if(0===e.length)throw new Error("No custom time bar found with id "+(0,n["default"])(t));return e[0].getCustomTime()};m.prototype.setCustomTimeTitle=function(t,e){var i=this.customTimes.filter(function(t){return t.options.id===e});if(0===i.length)throw new Error("No custom time bar found with id "+(0,n["default"])(e));if(i.length>0)return i[0].setCustomTitle(t)};m.prototype.getEventProperties=function(t){return{event:t}};m.prototype.addCustomTime=function(t,e){var i=void 0!==t?u.convert(t,"Date").valueOf():new Date;var o;if(this.customTimes.some(function(t){return t.options.id===e}))throw new Error("A custom time with id "+(0,n["default"])(e)+" already exists");var r=new v(this.body,u.extend({},this.options,{time:i,id:e}));this.customTimes.push(r);this.components.push(r);this._redraw();return e};m.prototype.removeCustomTime=function(t){var e=this.customTimes.filter(function(e){return e.options.id===t});if(0===e.length)throw new Error("No custom time bar found with id "+(0,n["default"])(t));e.forEach(function(t){this.customTimes.splice(this.customTimes.indexOf(t),1);this.components.splice(this.components.indexOf(t),1);t.destroy()}.bind(this))};m.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]};m.prototype.fit=function(t,e){var i=this.getDataRange();if(null===i.min&&null===i.max)return;var o=i.max-i.min;var n=new Date(i.min.valueOf()-.01*o);var r=new Date(i.max.valueOf()+.01*o);var s=!t||void 0===t.animation||t.animation;this.range.setRange(n,r,{animation:s},e)};m.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")};m.prototype.setWindow=function(t,e,i,o){if("function"==typeof arguments[2]){o=arguments[2];i={}}var n;var r;if(1==arguments.length){n=void 0===(r=arguments[0]).animation||r.animation;this.range.setRange(r.start,r.end,{animation:n})}else if(2==arguments.length&&"function"==typeof arguments[1]){r=arguments[0];o=arguments[1];n=void 0===r.animation||r.animation;this.range.setRange(r.start,r.end,{animation:n},o)}else{n=!i||void 0===i.animation||i.animation;this.range.setRange(t,e,{animation:n},o)}};m.prototype.moveTo=function(t,e,i){if("function"==typeof arguments[1]){i=arguments[1];e={}}var o=this.range.end-this.range.start;var n=u.convert(t,"Date").valueOf();var r=n-o/2;var s=n+o/2;var a=!e||void 0===e.animation||e.animation;this.range.setRange(r,s,{animation:a},i)};m.prototype.getWindow=function(){var t=this.range.getRange();return{start:new Date(t.start),end:new Date(t.end)}};m.prototype.zoomIn=function(t,e,i){if(!t||t<0||t>1)return;if("function"==typeof arguments[1]){i=arguments[1];e={}}var o=this.getWindow();var n=o.start.valueOf();var r=o.end.valueOf();var s=r-n;var a;var h=(s-s/(1+t))/2;var d=n+h;var l=r-h;this.setWindow(d,l,e,i)};m.prototype.zoomOut=function(t,e,i){if(!t||t<0||t>1)return;if("function"==typeof arguments[1]){i=arguments[1];e={}}var o=this.getWindow();var n=o.start.valueOf();var r=o.end.valueOf();var s=r-n;var a=n-s*t/2;var h=r+s*t/2;this.setWindow(a,h,e,i)};m.prototype.redraw=function(){this._redraw()};m.prototype._redraw=function(){this.redrawCount++;var t=!1;var e=this.options;var i=this.props;var o=this.dom;if(!o||!o.container||0==o.root.offsetWidth)return;f.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates);if("top"==e.orientation){u.addClassName(o.root,"vis-top");u.removeClassName(o.root,"vis-bottom")}else{u.removeClassName(o.root,"vis-top");u.addClassName(o.root,"vis-bottom")}o.root.style.maxHeight=u.option.asSize(e.maxHeight,"");o.root.style.minHeight=u.option.asSize(e.minHeight,"");o.root.style.width=u.option.asSize(e.width,"");i.border.left=(o.centerContainer.offsetWidth-o.centerContainer.clientWidth)/2;i.border.right=i.border.left;i.border.top=(o.centerContainer.offsetHeight-o.centerContainer.clientHeight)/2;i.border.bottom=i.border.top;i.borderRootHeight=o.root.offsetHeight-o.root.clientHeight;i.borderRootWidth=o.root.offsetWidth-o.root.clientWidth;if(0===o.centerContainer.clientHeight){i.border.left=i.border.top;i.border.right=i.border.left}0===o.root.clientHeight&&(i.borderRootWidth=i.borderRootHeight);i.center.height=o.center.offsetHeight;i.left.height=o.left.offsetHeight;i.right.height=o.right.offsetHeight;i.top.height=o.top.clientHeight||-i.border.top;i.bottom.height=o.bottom.clientHeight||-i.border.bottom;var n=Math.max(i.left.height,i.center.height,i.right.height);var r=i.top.height+n+i.bottom.height+i.borderRootHeight+i.border.top+i.border.bottom;o.root.style.height=u.option.asSize(e.height,r+"px");i.root.height=o.root.offsetHeight;i.background.height=i.root.height-i.borderRootHeight;var s=i.root.height-i.top.height-i.bottom.height-i.borderRootHeight;i.centerContainer.height=s;i.leftContainer.height=s;i.rightContainer.height=i.leftContainer.height;i.root.width=o.root.offsetWidth;i.background.width=i.root.width-i.borderRootWidth;this.initialDrawDone||(i.scrollbarWidth=u.getScrollBarWidth());if(e.verticalScroll)if(e.rtl){i.left.width=o.leftContainer.clientWidth||-i.border.left;i.right.width=o.rightContainer.clientWidth+i.scrollbarWidth||-i.border.right}else{i.left.width=o.leftContainer.clientWidth+i.scrollbarWidth||-i.border.left;i.right.width=o.rightContainer.clientWidth||-i.border.right}else{i.left.width=o.leftContainer.clientWidth||-i.border.left;i.right.width=o.rightContainer.clientWidth||-i.border.right}this._setDOM();var a=this._updateScrollTop();"top"!=e.orientation.item&&(a+=Math.max(i.centerContainer.height-i.center.height-i.border.top-i.border.bottom,0));o.center.style.top=a+"px";var h=0==i.scrollTop?"hidden":"";var l=i.scrollTop==i.scrollTopMin?"hidden":"";o.shadowTop.style.visibility=h;o.shadowBottom.style.visibility=l;o.shadowTopLeft.style.visibility=h;o.shadowBottomLeft.style.visibility=l;o.shadowTopRight.style.visibility=h;o.shadowBottomRight.style.visibility=l;if(e.verticalScroll){o.rightContainer.className="vis-panel vis-right vis-vertical-scroll";o.leftContainer.className="vis-panel vis-left vis-vertical-scroll";o.shadowTopRight.style.visibility="hidden";o.shadowBottomRight.style.visibility="hidden";o.shadowTopLeft.style.visibility="hidden";o.shadowBottomLeft.style.visibility="hidden";o.left.style.top="0px";o.right.style.top="0px"}if(!e.verticalScroll||i.center.height<i.centerContainer.height){o.left.style.top=a+"px";o.right.style.top=a+"px";o.rightContainer.className=o.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," ");o.leftContainer.className=o.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," ");i.left.width=o.leftContainer.clientWidth||-i.border.left;i.right.width=o.rightContainer.clientWidth||-i.border.right;this._setDOM()}var c=i.center.height>i.centerContainer.height;this.hammer.get("pan").set({direction:c?d.DIRECTION_ALL:d.DIRECTION_HORIZONTAL});this.components.forEach(function(e){t=e.redraw()||t});var p=5;if(t){if(this.redrawCount<5){this.body.emitter.emit("_change");return}console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.body.emitter.emit("changed")};m.prototype._setDOM=function(){var t=this.props;var e=this.dom;t.leftContainer.width=t.left.width;t.rightContainer.width=t.right.width;var i=t.root.width-t.left.width-t.right.width-t.borderRootWidth;t.center.width=i;t.centerContainer.width=i;t.top.width=i;t.bottom.width=i;e.background.style.height=t.background.height+"px";e.backgroundVertical.style.height=t.background.height+"px";e.backgroundHorizontal.style.height=t.centerContainer.height+"px";e.centerContainer.style.height=t.centerContainer.height+"px";e.leftContainer.style.height=t.leftContainer.height+"px";e.rightContainer.style.height=t.rightContainer.height+"px";e.background.style.width=t.background.width+"px";e.backgroundVertical.style.width=t.centerContainer.width+"px";e.backgroundHorizontal.style.width=t.background.width+"px";e.centerContainer.style.width=t.center.width+"px";e.top.style.width=t.top.width+"px";e.bottom.style.width=t.bottom.width+"px";e.background.style.left="0";e.background.style.top="0";e.backgroundVertical.style.left=t.left.width+t.border.left+"px";e.backgroundVertical.style.top="0";e.backgroundHorizontal.style.left="0";e.backgroundHorizontal.style.top=t.top.height+"px";e.centerContainer.style.left=t.left.width+"px";e.centerContainer.style.top=t.top.height+"px";e.leftContainer.style.left="0";e.leftContainer.style.top=t.top.height+"px";e.rightContainer.style.left=t.left.width+t.center.width+"px";e.rightContainer.style.top=t.top.height+"px";e.top.style.left=t.left.width+"px";e.top.style.top="0";e.bottom.style.left=t.left.width+"px";e.bottom.style.top=t.top.height+t.centerContainer.height+"px";e.center.style.left="0";e.left.style.left="0";e.right.style.left="0"};m.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")};m.prototype.setCurrentTime=function(t){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(t)};m.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()};m.prototype._toTime=function(t){return f.toTime(this,t,this.props.center.width)};m.prototype._toGlobalTime=function(t){return f.toTime(this,t,this.props.root.width)};m.prototype._toScreen=function(t){return f.toScreen(this,t,this.props.center.width)};m.prototype._toGlobalScreen=function(t){return f.toScreen(this,t,this.props.root.width)};m.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()};m.prototype._startAutoResize=function(){var t=this;this._stopAutoResize();this._onResize=function(){if(1!=t.options.autoResize){t._stopAutoResize();return}if(t.dom.root&&(t.dom.root.offsetWidth!=t.props.lastWidth||t.dom.root.offsetHeight!=t.props.lastHeight)){t.props.lastWidth=t.dom.root.offsetWidth;t.props.lastHeight=t.dom.root.offsetHeight;t.props.scrollbarWidth=u.getScrollBarWidth();t.body.emitter.emit("_change")}};u.addEventListener(window,"resize",this._onResize);if(t.dom.root){t.props.lastWidth=t.dom.root.offsetWidth;t.props.lastHeight=t.dom.root.offsetHeight}this.watchTimer=setInterval(this._onResize,1e3)};m.prototype._stopAutoResize=function(){if(this.watchTimer){clearInterval(this.watchTimer);this.watchTimer=void 0}if(this._onResize){u.removeEventListener(window,"resize",this._onResize);this._onResize=null}};m.prototype._onTouch=function(t){this.touch.allowDragging=!0;this.touch.initialScrollTop=this.props.scrollTop};m.prototype._onPinch=function(t){this.touch.allowDragging=!1};m.prototype._onDrag=function(t){if(!t)return;if(!this.touch.allowDragging)return;var e=t.deltaY;var i=this._getScrollTop();var o=this._setScrollTop(this.touch.initialScrollTop+e);if(this.options.verticalScroll){this.dom.left.parentNode.scrollTop=-this.props.scrollTop;this.dom.right.parentNode.scrollTop=-this.props.scrollTop}o!=i&&this.emit("verticalDrag")};m.prototype._setScrollTop=function(t){this.props.scrollTop=t;this._updateScrollTop();return this.props.scrollTop};m.prototype._updateScrollTop=function(){var t=Math.min(this.props.centerContainer.height-this.props.center.height,0);if(t!=this.props.scrollTopMin){"top"!=this.options.orientation.item&&(this.props.scrollTop+=t-this.props.scrollTopMin);this.props.scrollTopMin=t}this.props.scrollTop>0&&(this.props.scrollTop=0);this.props.scrollTop<t&&(this.props.scrollTop=t);if(this.options.verticalScroll){this.dom.left.parentNode.scrollTop=-this.props.scrollTop;this.dom.right.parentNode.scrollTop=-this.props.scrollTop}return this.props.scrollTop};m.prototype._getScrollTop=function(){return this.props.scrollTop};m.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")};t.exports=m},function(t,e,i){var o=i(9);var n=i(36);var r=i(2);function s(t,e,i,n,r){this.moment=o;this.current=this.moment();this._start=this.moment();this._end=this.moment();this.autoScale=!0;this.scale="day";this.step=1;this.setRange(t,e,i);this.switchedDay=!1;this.switchedMonth=!1;this.switchedYear=!1;Array.isArray(n)?this.hiddenDates=n:this.hiddenDates=void 0!=n?[n]:[];this.format=s.FORMAT;this.options=r||{}}s.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}};s.prototype.setMoment=function(t){this.moment=t;this.current=this.moment(this.current.valueOf());this._start=this.moment(this._start.valueOf());this._end=this.moment(this._end.valueOf())};s.prototype.setFormat=function(t){var e=r.deepExtend({},s.FORMAT);this.format=r.deepExtend(e,t)};s.prototype.setRange=function(t,e,i){if(!(t instanceof Date&&e instanceof Date))throw"No legal start or end date in method setRange";this._start=void 0!=t?this.moment(t.valueOf()):new Date;this._end=void 0!=e?this.moment(e.valueOf()):new Date;this.autoScale&&this.setMinimumStep(i)};s.prototype.start=function(){this.current=this._start.clone();this.roundToMinor()};s.prototype.roundToMinor=function(){"week"==this.scale&&this.current.weekday(0);switch(this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step));this.current.month(0);case"month":this.current.date(1);case"week":case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}};s.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()};s.prototype.next=function(){var t=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour");this.current.month()<6?this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!=0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"week":if(0!==this.current.weekday()){this.current.weekday(0);this.current.add(this.step,"week")}else if(!1===this.options.showMajorLabels)this.current.add(this.step,"week");else{var e=this.current.clone();e.add(1,"week");if(e.isSame(this.current,"month"))this.current.add(this.step,"week");else{this.current.add(this.step,"week");this.current.date(1)}}break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"week":this.current.week()<this.step&&this.current.week(1);break;case"month":this.current.month()<this.step&&this.current.month(0)}this.current.valueOf()==t&&(this.current=this._end.clone());this.switchedDay=!1;this.switchedMonth=!1;this.switchedYear=!1;n.stepOverHiddenDates(this.moment,this,t)};s.prototype.getCurrent=function(){return this.current};s.prototype.setScale=function(t){if(t&&"string"==typeof t.scale){this.scale=t.scale;this.step=t.step>0?t.step:1;this.autoScale=!1}};s.prototype.setAutoScale=function(t){this.autoScale=t};s.prototype.setMinimumStep=function(t){if(void 0==t)return;var e=31104e6;var i=2592e6;var o=864e5;var n=36e5;var r=6e4;var s=1e3;var a=1;if(31104e9>t){this.scale="year";this.step=1e3}if(15552e9>t){this.scale="year";this.step=500}if(31104e8>t){this.scale="year";this.step=100}if(15552e8>t){this.scale="year";this.step=50}if(31104e7>t){this.scale="year";this.step=10}if(15552e7>t){this.scale="year";this.step=5}if(31104e6>t){this.scale="year";this.step=1}if(7776e6>t){this.scale="month";this.step=3}if(2592e6>t){this.scale="month";this.step=1}if(432e6>t){this.scale="day";this.step=5}if(1728e5>t){this.scale="day";this.step=2}if(864e5>t){this.scale="day";this.step=1}if(432e5>t){this.scale="weekday";this.step=1}if(144e5>t){this.scale="hour";this.step=4}if(36e5>t){this.scale="hour";this.step=1}if(9e5>t){this.scale="minute";this.step=15}if(6e5>t){this.scale="minute";this.step=10}if(3e5>t){this.scale="minute";this.step=5}if(6e4>t){this.scale="minute";this.step=1}if(15e3>t){this.scale="second";this.step=15}if(1e4>t){this.scale="second";this.step=10}if(5e3>t){this.scale="second";this.step=5}if(1e3>t){this.scale="second";this.step=1}if(200>t){this.scale="millisecond";this.step=200}if(100>t){this.scale="millisecond";this.step=100}if(50>t){this.scale="millisecond";this.step=50}if(10>t){this.scale="millisecond";this.step=10}if(5>t){this.scale="millisecond";this.step=5}if(1>t){this.scale="millisecond";this.step=1}};s.snap=function(t,e,i){var n=o(t);if("year"==e){var r=n.year()+Math.round(n.month()/12);n.year(Math.round(r/i)*i);n.month(0);n.date(0);n.hours(0);n.minutes(0);n.seconds(0);n.milliseconds(0)}else if("month"==e){if(n.date()>15){n.date(1);n.add(1,"month")}else n.date(1);n.hours(0);n.minutes(0);n.seconds(0);n.milliseconds(0)}else if("week"==e){if(n.weekday()>2){n.weekday(0);n.add(1,"week")}else n.weekday(0);n.hours(0);n.minutes(0);n.seconds(0);n.milliseconds(0)}else if("day"==e){switch(i){case 5:case 2:n.hours(24*Math.round(n.hours()/24));break;default:n.hours(12*Math.round(n.hours()/12))}n.minutes(0);n.seconds(0);n.milliseconds(0)}else if("weekday"==e){switch(i){case 5:case 2:n.hours(12*Math.round(n.hours()/12));break;default:n.hours(6*Math.round(n.hours()/6))}n.minutes(0);n.seconds(0);n.milliseconds(0)}else if("hour"==e){switch(i){case 4:n.minutes(60*Math.round(n.minutes()/60));break;default:n.minutes(30*Math.round(n.minutes()/30))}n.seconds(0);n.milliseconds(0)}else if("minute"==e){switch(i){case 15:case 10:n.minutes(5*Math.round(n.minutes()/5));n.seconds(0);break;case 5:n.seconds(60*Math.round(n.seconds()/60));break;default:n.seconds(30*Math.round(n.seconds()/30))}n.milliseconds(0)}else if("second"==e)switch(i){case 15:case 10:n.seconds(5*Math.round(n.seconds()/5));n.milliseconds(0);break;case 5:n.milliseconds(1e3*Math.round(n.milliseconds()/1e3));break;default:n.milliseconds(500*Math.round(n.milliseconds()/500))}else if("millisecond"==e){var s=i>5?i/2:1;n.milliseconds(Math.round(n.milliseconds()/s)*s)}return n};s.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var t=this.moment(this.current);switch(this.scale){case"millisecond":return 0==t.milliseconds();case"second":return 0==t.seconds();case"minute":return 0==t.hours()&&0==t.minutes();case"hour":return 0==t.hours();case"weekday":case"day":case"week":return 1==t.date();case"month":return 0==t.month();case"year":default:return!1}};s.prototype.getLabelMinor=function(t){void 0==t&&(t=this.current);t instanceof Date&&(t=this.moment(t));if("function"==typeof this.format.minorLabels)return this.format.minorLabels(t,this.scale,this.step);var e=this.format.minorLabels[this.scale];switch(this.scale){case"week":if(this.isMajor()&&0!==t.weekday())return"";default:return e&&e.length>0?this.moment(t).format(e):""}};s.prototype.getLabelMajor=function(t){void 0==t&&(t=this.current);t instanceof Date&&(t=this.moment(t));if("function"==typeof this.format.majorLabels)return this.format.majorLabels(t,this.scale,this.step);var e=this.format.majorLabels[this.scale];return e&&e.length>0?this.moment(t).format(e):""};s.prototype.getClassName=function(){var t=this.moment;var e=this.moment(this.current);var i=e.locale?e.locale("en"):e.lang("en");var o=this.step;var n=[];function r(t){return t/o%2==0?" vis-even":" vis-odd"}function s(e){if(e.isSame(new Date,"day"))return" vis-today";if(e.isSame(t().add(1,"day"),"day"))return" vis-tomorrow";if(e.isSame(t().add(-1,"day"),"day"))return" vis-yesterday";return""}function a(t){return t.isSame(new Date,"week")?" vis-current-week":""}function h(t){return t.isSame(new Date,"month")?" vis-current-month":""}function d(t){return t.isSame(new Date,"year")?" vis-current-year":""}switch(this.scale){case"millisecond":n.push(s(i));n.push(r(i.milliseconds()));break;case"second":n.push(s(i));n.push(r(i.seconds()));break;case"minute":n.push(s(i));n.push(r(i.minutes()));break;case"hour":n.push("vis-h"+i.hours()+(4==this.step?"-h"+(i.hours()+4):""));n.push(s(i));n.push(r(i.hours()));break;case"weekday":n.push("vis-"+i.format("dddd").toLowerCase());n.push(s(i));n.push(a(i));n.push(r(i.date()));break;case"day":n.push("vis-day"+i.date());n.push("vis-"+i.format("MMMM").toLowerCase());n.push(s(i));n.push(h(i));n.push(this.step<=2?s(i):"");n.push(this.step<=2?"vis-"+i.format("dddd").toLowerCase():"");n.push(r(i.date()-1));break;case"week":n.push("vis-week"+i.format("w"));n.push(a(i));n.push(r(i.week()));break;case"month":n.push("vis-"+i.format("MMMM").toLowerCase());n.push(h(i));n.push(r(i.month()));break;case"year":n.push("vis-year"+i.year());n.push(d(i));n.push(r(i.year()))}return n.filter(String).join(" ")};t.exports=s},function(t,e,i){var o=i(2);var n=i(16);var r=i(9);var s=i(98);function a(t,e){this.body=t;this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:r,locales:s,locale:"en"};this.options=o.extend({},this.defaultOptions);this.offset=0;this._create();this.setOptions(e)}a.prototype=new n;a.prototype._create=function(){var t=document.createElement("div");t.className="vis-current-time";t.style.position="absolute";t.style.top="0px";t.style.height="100%";this.bar=t};a.prototype.destroy=function(){this.options.showCurrentTime=!1;this.redraw();this.body=null};a.prototype.setOptions=function(t){t&&o.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,t)};a.prototype.redraw=function(){if(this.options.showCurrentTime){var t=this.body.dom.backgroundVertical;if(this.bar.parentNode!=t){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar);t.appendChild(this.bar);this.start()}var e=this.options.moment((new Date).valueOf()+this.offset);var i=this.body.util.toScreen(e);var o=this.options.locales[this.options.locale];if(!o){if(!this.warned){console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization");this.warned=!0}o=this.options.locales["en"]}var n=o.current+" "+o.time+": "+e.format("dddd, MMMM Do YYYY, H:mm:ss");n=n.charAt(0).toUpperCase()+n.substring(1);this.options.rtl?this.bar.style.right=i+"px":this.bar.style.left=i+"px";this.bar.title=n}else{this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar);this.stop()}return!1};a.prototype.start=function(){var t=this;function e(){t.stop();var i;var o=1/t.body.range.conversion(t.body.domProps.center.width).scale/10;o<30&&(o=30);o>1e3&&(o=1e3);t.redraw();t.body.emitter.emit("currentTimeTick");t.currentTimeTimer=setTimeout(e,o)}e()};a.prototype.stop=function(){if(void 0!==this.currentTimeTimer){clearTimeout(this.currentTimeTimer);delete this.currentTimeTimer}};a.prototype.setCurrentTime=function(t){var e=o.convert(t,"Date").valueOf();var i=(new Date).valueOf();this.offset=e-i;this.redraw()};a.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)};t.exports=a},function(t,e,i){var o;var n=r(i(8));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(2);var a=i(100);function h(t,e,i){this.groupId=t;this.subgroups={};this.subgroupStack={};this.subgroupStackAll=!1;this.doInnerStack=!1;this.subgroupIndex=0;this.subgroupOrderer=e&&e.subgroupOrder;this.itemSet=i;this.isVisible=null;this.stackDirty=!0;if(e&&e.nestedGroups){this.nestedGroups=e.nestedGroups;0==e.showNested?this.showNested=!1:this.showNested=!0}if(e&&e.subgroupStack)if("boolean"==typeof e.subgroupStack){this.doInnerStack=e.subgroupStack;this.subgroupStackAll=e.subgroupStack}else for(var o in e.subgroupStack){this.subgroupStack[o]=e.subgroupStack[o];this.doInnerStack=this.doInnerStack||e.subgroupStack[o]}this.nestedInGroup=null;this.dom={};this.props={label:{width:0,height:0}};this.className=null;this.items={};this.visibleItems=[];this.itemsInRange=[];this.orderedItems={byStart:[],byEnd:[]};this.checkRangedItems=!1;var n=this;this.itemSet.body.emitter.on("checkRangedItems",function(){n.checkRangedItems=!0});this._create();this.setData(e)}h.prototype._create=function(){var t=document.createElement("div");this.itemSet.options.groupEditable.order?t.className="vis-label draggable":t.className="vis-label";this.dom.label=t;var e=document.createElement("div");e.className="vis-inner";t.appendChild(e);this.dom.inner=e;var i=document.createElement("div");i.className="vis-group";i["timeline-group"]=this;this.dom.foreground=i;this.dom.background=document.createElement("div");this.dom.background.className="vis-group";this.dom.axis=document.createElement("div");this.dom.axis.className="vis-group";this.dom.marker=document.createElement("div");this.dom.marker.style.visibility="hidden";this.dom.marker.style.position="absolute";this.dom.marker.innerHTML="";this.dom.background.appendChild(this.dom.marker)};h.prototype.setData=function(t){var e;var i;if((e=this.itemSet.options&&this.itemSet.options.groupTemplate?(i=this.itemSet.options.groupTemplate.bind(this))(t,this.dom.inner):t&&t.content)instanceof Element){this.dom.inner.appendChild(e);for(;this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(e)}else e instanceof Object?i(t,this.dom.inner):this.dom.inner.innerHTML=void 0!==e&&null!==e?e:this.groupId||"";this.dom.label.title=t&&t.title||"";this.dom.inner.firstChild?s.removeClassName(this.dom.inner,"vis-hidden"):s.addClassName(this.dom.inner,"vis-hidden");if(t&&t.nestedGroups){this.nestedGroups&&this.nestedGroups==t.nestedGroups||(this.nestedGroups=t.nestedGroups);void 0===t.showNested&&void 0!==this.showNested||(0==t.showNested?this.showNested=!1:this.showNested=!0);s.addClassName(this.dom.label,"vis-nesting-group");var o=this.itemSet.options.rtl?"collapsed-rtl":"collapsed";if(this.showNested){s.removeClassName(this.dom.label,o);s.addClassName(this.dom.label,"expanded")}else{s.removeClassName(this.dom.label,"expanded");s.addClassName(this.dom.label,o)}}else if(this.nestedGroups){this.nestedGroups=null;o=this.itemSet.options.rtl?"collapsed-rtl":"collapsed";s.removeClassName(this.dom.label,o);s.removeClassName(this.dom.label,"expanded");s.removeClassName(this.dom.label,"vis-nesting-group")}if(t&&t.nestedInGroup){s.addClassName(this.dom.label,"vis-nested-group");this.itemSet.options&&this.itemSet.options.rtl?this.dom.inner.style.paddingRight="30px":this.dom.inner.style.paddingLeft="30px"}var n=t&&t.className||null;if(n!=this.className){if(this.className){s.removeClassName(this.dom.label,this.className);s.removeClassName(this.dom.foreground,this.className);s.removeClassName(this.dom.background,this.className);s.removeClassName(this.dom.axis,this.className)}s.addClassName(this.dom.label,n);s.addClassName(this.dom.foreground,n);s.addClassName(this.dom.background,n);s.addClassName(this.dom.axis,n);this.className=n}if(this.style){s.removeCssText(this.dom.label,this.style);this.style=null}if(t&&t.style){s.addCssText(this.dom.label,t.style);this.style=t.style}};h.prototype.getLabelWidth=function(){return this.props.label.width};h.prototype._didMarkerHeightChange=function(){var t=this.dom.marker.clientHeight;if(t!=this.lastMarkerHeight){this.lastMarkerHeight=t;var e={};var i=0;s.forEach(this.items,function(t,o){t.dirty=!0;if(t.displayed){var n=!0;e[o]=t.redraw(!0);i=e[o].length}});var o;if(i>0)for(var n=0;n<i;n++)s.forEach(e,function(t){t[n]()});return!0}};h.prototype._calculateGroupSizeAndPosition=function(){var t=this.dom.foreground.offsetTop;var e=this.dom.foreground.offsetLeft;var i=this.dom.foreground.offsetWidth;this.top=t;this.right=e;this.width=i};h.prototype._redrawItems=function(t,e,i,o){var n;if(t||this.stackDirty||this.isVisible&&!e){var r={};var h=null;if("function"==typeof this.itemSet.options.order){var d=this;var l=!1;var u={};var c=0;s.forEach(this.items,function(t,e){if(!t.displayed){var i=!0;u[e]=t.redraw(!0);c=u[e].length;d.visibleItems.push(t)}});var p;if(c>0)for(var f=0;f<c;f++)s.forEach(u,function(t){t[f]()});s.forEach(this.items,function(t){t.repositionX(!1)});if(this.doInnerStack&&this.itemSet.options.stackSubgroups){for(h in this.subgroups)r[h]=this.subgroups[h].items.slice().sort(function(t,e){return d.itemSet.options.order(t.data,e.data)});a.stackSubgroupsWithInnerStack(r,i,this.subgroups)}else{var v=this.orderedItems.byStart.slice().sort(function(t,e){return d.itemSet.options.order(t.data,e.data)});a.stack(v,i,!0)}this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,o)}else{this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,o);if(this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){for(h in this.subgroups)r[h]=this.subgroups[h].items;a.stackSubgroupsWithInnerStack(r,i,this.subgroups)}else a.stack(this.visibleItems,i,!0);else a.nostack(this.visibleItems,i,this.subgroups,this.itemSet.options.stackSubgroups)}this.stackDirty=!1}};h.prototype._didResize=function(t,e){t=s.updateProperty(this,"height",e)||t;var i=this.dom.inner.clientWidth;var o=this.dom.inner.clientHeight;t=s.updateProperty(this.props.label,"width",i)||t;return t=s.updateProperty(this.props.label,"height",o)||t};h.prototype._applyGroupHeight=function(t){this.dom.background.style.height=t+"px";this.dom.foreground.style.height=t+"px";this.dom.label.style.height=t+"px"};h.prototype._updateItemsVerticalPosition=function(t){for(var e=0,i=this.visibleItems.length;e<i;e++){var o=this.visibleItems[e];o.repositionY(t);this.isVisible||"__background__"==this.groupId||o.displayed&&o.hide()}};h.prototype.redraw=function(t,e,i,o){var n=!1;var r=this.isVisible;var s;var a=[function(){i=this._didMarkerHeightChange.bind(this)}.bind(this),this._updateSubGroupHeights.bind(this,e),this._calculateGroupSizeAndPosition.bind(this),function(){this.isVisible=this._isGroupVisible.bind(this)(t,e)}.bind(this),function(){this._redrawItems.bind(this)(i,r,e,t)}.bind(this),this._updateSubgroupsSizes.bind(this),function(){s=this._calculateHeight.bind(this)(e)}.bind(this),this._calculateGroupSizeAndPosition.bind(this),function(){n=this._didResize.bind(this)(n,s)}.bind(this),function(){this._applyGroupHeight.bind(this)(s)}.bind(this),function(){this._updateItemsVerticalPosition.bind(this)(e)}.bind(this),function(){!this.isVisible&&this.height&&(n=!1);return n}];if(o)return a;var h;a.forEach(function(t){h=t()});return h};h.prototype._updateSubGroupHeights=function(t){if((0,n["default"])(this.subgroups).length>0){var e=this;this.resetSubgroups();s.forEach(this.visibleItems,function(i){if(void 0!==i.data.subgroup){e.subgroups[i.data.subgroup].height=Math.max(e.subgroups[i.data.subgroup].height,i.height+t.item.vertical);e.subgroups[i.data.subgroup].visible=!0}})}};h.prototype._isGroupVisible=function(t,e){return this.top<=t.body.domProps.centerContainer.height-t.body.domProps.scrollTop+e.axis&&this.top+this.height+e.axis>=-t.body.domProps.scrollTop};h.prototype._calculateHeight=function(t){var e;var i=this.visibleItems;if(i.length>0){var o=i[0].top;var n=i[0].top+i[0].height;s.forEach(i,function(t){o=Math.min(o,t.top);n=Math.max(n,t.top+t.height)});if(o>t.axis){var r=o-t.axis;n-=r;s.forEach(i,function(t){t.top-=r})}e=n+t.item.vertical/2}else e=0;return e=Math.max(e,this.props.label.height)};h.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label);this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground);this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background);this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)};h.prototype.hide=function(){var t=this.dom.label;t.parentNode&&t.parentNode.removeChild(t);var e=this.dom.foreground;e.parentNode&&e.parentNode.removeChild(e);var i=this.dom.background;i.parentNode&&i.parentNode.removeChild(i);var o=this.dom.axis;o.parentNode&&o.parentNode.removeChild(o)};h.prototype.add=function(t){this.items[t.id]=t;t.setParent(this);this.stackDirty=!0;if(void 0!==t.data.subgroup){this._addToSubgroup(t);this.orderSubgroups()}if(-1==this.visibleItems.indexOf(t)){var e=this.itemSet.body.range;this._checkIfVisible(t,this.visibleItems,e)}};h.prototype._addToSubgroup=function(t,e){if(void 0!=(e=e||t.data.subgroup)&&void 0===this.subgroups[e]){this.subgroups[e]={height:0,top:0,start:t.data.start,end:t.data.end||t.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[e]||!1};this.subgroupIndex++}new Date(t.data.start)<new Date(this.subgroups[e].start)&&(this.subgroups[e].start=t.data.start);var i=t.data.end||t.data.start;new Date(i)>new Date(this.subgroups[e].end)&&(this.subgroups[e].end=i);this.subgroups[e].items.push(t)};h.prototype._updateSubgroupsSizes=function(){var t=this;if(t.subgroups)for(var e in t.subgroups){var i=t.subgroups[e].items[0].data.end||t.subgroups[e].items[0].data.start;var o=t.subgroups[e].items[0].data.start;var n=i-1;t.subgroups[e].items.forEach(function(t){new Date(t.data.start)<new Date(o)&&(o=t.data.start);var e=t.data.end||t.data.start;new Date(e)>new Date(n)&&(n=e)});t.subgroups[e].start=o;t.subgroups[e].end=new Date(n-1)}};h.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var t=[];var e;if("string"==typeof this.subgroupOrderer){for(e in this.subgroups)t.push({subgroup:e,sortField:this.subgroups[e].items[0].data[this.subgroupOrderer]});t.sort(function(t,e){return t.sortField-e.sortField})}else if("function"==typeof this.subgroupOrderer){for(e in this.subgroups)t.push(this.subgroups[e].items[0].data);t.sort(this.subgroupOrderer)}if(t.length>0)for(var i=0;i<t.length;i++)this.subgroups[t[i].subgroup].index=i}};h.prototype.resetSubgroups=function(){for(var t in this.subgroups)if(this.subgroups.hasOwnProperty(t)){this.subgroups[t].visible=!1;this.subgroups[t].height=0}};h.prototype.remove=function(t){delete this.items[t.id];t.setParent(null);this.stackDirty=!0;var e=this.visibleItems.indexOf(t);-1!=e&&this.visibleItems.splice(e,1);if(void 0!==t.data.subgroup){this._removeFromSubgroup(t);this.orderSubgroups()}};h.prototype._removeFromSubgroup=function(t,e){if(void 0!=(e=e||t.data.subgroup)){var i=this.subgroups[e];if(i){var o=i.items.indexOf(t);if(o>=0){i.items.splice(o,1);i.items.length?this._updateSubgroupsSizes():delete this.subgroups[e]}}}};h.prototype.removeFromDataSet=function(t){this.itemSet.removeItem(t.id)};h.prototype.order=function(){var t=s.toArray(this.items);var e=[];var i=[];for(var o=0;o<t.length;o++){void 0!==t[o].data.end&&i.push(t[o]);e.push(t[o])}this.orderedItems={byStart:e,byEnd:i};a.orderByStart(this.orderedItems.byStart);a.orderByEnd(this.orderedItems.byEnd)};h.prototype._updateItemsInRange=function(t,e,i){var o=[];var n={};var r=(i.end-i.start)/4;var a=i.start-r;var h=i.end+r;var d=function t(e){return e<a?-1:e<=h?0:1};if(e.length>0)for(var l=0;l<e.length;l++)this._checkIfVisibleWithReference(e[l],o,n,i);var u=s.binarySearchCustom(t.byStart,d,"data","start");this._traceVisible(u,t.byStart,o,n,function(t){return t.data.start<a||t.data.start>h});if(1==this.checkRangedItems){this.checkRangedItems=!1;for(l=0;l<t.byEnd.length;l++)this._checkIfVisibleWithReference(t.byEnd[l],o,n,i)}else{var c=s.binarySearchCustom(t.byEnd,d,"data","end");this._traceVisible(c,t.byEnd,o,n,function(t){return t.data.end<a||t.data.end>h})}var p={};var f=0;for(l=0;l<o.length;l++){var v=o[l];if(!v.displayed){var m=!0;p[l]=v.redraw(!0);f=p[l].length}}var g;if(f>0)for(var y=0;y<f;y++)s.forEach(p,function(t){t[y]()});for(l=0;l<o.length;l++)o[l].repositionX();return o};h.prototype._traceVisible=function(t,e,i,o,n){if(-1!=t){var r,s;for(r=t;r>=0&&!n(s=e[r]);r--)if(void 0===o[s.id]){o[s.id]=!0;i.push(s)}for(r=t+1;r<e.length&&!n(s=e[r]);r++)if(void 0===o[s.id]){o[s.id]=!0;i.push(s)}}};h.prototype._checkIfVisible=function(t,e,i){if(t.isVisible(i)){t.displayed||t.show();t.repositionX();e.push(t)}else t.displayed&&t.hide()};h.prototype._checkIfVisibleWithReference=function(t,e,i,o){if(t.isVisible(o)){if(void 0===i[t.id]){i[t.id]=!0;e.push(t)}}else t.displayed&&t.hide()};h.prototype.changeSubgroup=function(t,e,i){this._removeFromSubgroup(t,e);this._addToSubgroup(t,i);this.orderSubgroups()};t.exports=h},function(t,e,i){var o;var n=r(i(29));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(68);function a(t,e,i){s.call(this,t,e,i);this.width=0;this.height=0;this.top=0;this.left=0}a.prototype=(0,n["default"])(s.prototype);a.prototype.redraw=function(t,e,i){var o=!1;this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,t);this.width=this.dom.background.offsetWidth;this.dom.background.style.height="0";for(var n=0,r=this.visibleItems.length;n<r;n++){var s;this.visibleItems[n].repositionY(e)}return!1};a.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)};t.exports=a},function(t,e,i){var o=i(38);function n(t,e,i){this.props={content:{width:0}};this.overflow=!1;this.options=i;if(t){if(void 0==t.start)throw new Error('Property "start" missing in item '+t.id);if(void 0==t.end)throw new Error('Property "end" missing in item '+t.id)}o.call(this,t,e,i)}n.prototype=new o(null,null,null);n.prototype.baseClassName="vis-item vis-range";n.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start};n.prototype._createDomElement=function(){if(!this.dom){this.dom={};this.dom.box=document.createElement("div");this.dom.frame=document.createElement("div");this.dom.frame.className="vis-item-overflow";this.dom.box.appendChild(this.dom.frame);this.dom.visibleFrame=document.createElement("div");this.dom.visibleFrame.className="vis-item-visible-frame";this.dom.box.appendChild(this.dom.visibleFrame);this.dom.content=document.createElement("div");this.dom.content.className="vis-item-content";this.dom.frame.appendChild(this.dom.content);this.dom.box["timeline-item"]=this;this.dirty=!0}};n.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}this.displayed=!0};n.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content);this._updateDataAttributes(this.dom.box);this._updateStyle(this.dom.box);var t=this.editable.updateTime||this.editable.updateGroup;var e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly");this.dom.box.className=this.baseClassName+e;this.dom.content.style.maxWidth="none"}};n.prototype._getDomComponentsSizes=function(){this.overflow="hidden"!==window.getComputedStyle(this.dom.frame).overflow;return{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}};n.prototype._updateDomComponentsSizes=function(t){this.props.content.width=t.content.width;this.height=t.box.height;this.dom.content.style.maxWidth="";this.dirty=!1};n.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box);this._repaintDeleteButton(this.dom.box);this._repaintDragCenter();this._repaintDragLeft();this._repaintDragRight()};n.prototype.redraw=function(t){var e;var i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];if(t)return i;var o;i.forEach(function(t){o=t()});return o};n.prototype.show=function(){this.displayed||this.redraw()};n.prototype.hide=function(){if(this.displayed){var t=this.dom.box;t.parentNode&&t.parentNode.removeChild(t);this.displayed=!1}};n.prototype.repositionX=function(t){var e=this.parent.width;var i=this.conversion.toScreen(this.data.start);var o=this.conversion.toScreen(this.data.end);var n=void 0===this.data.align?this.options.align:this.data.align;var r;var s;if(!1!==this.data.limitSize&&(void 0===t||!0===t)){i<-e&&(i=-e);o>2*e&&(o=2*e)}var a=Math.max(o-i+.5,1);if(this.overflow){this.options.rtl?this.right=i:this.left=i;this.width=a+this.props.content.width;s=this.props.content.width}else{this.options.rtl?this.right=i:this.left=i;this.width=a;s=Math.min(o-i,this.props.content.width)}this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px";this.dom.box.style.width=a+"px";switch(n){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(a-s,0)+"px":this.dom.content.style.left=Math.max(a-s,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((a-s)/2,0)+"px":this.dom.content.style.left=Math.max((a-s)/2,0)+"px";break;default:r=this.overflow?o>0?Math.max(-i,0):-s:i<0?-i:0;if(this.options.rtl)this.dom.content.style.right=r+"px";else{this.dom.content.style.left=r+"px";this.dom.content.style.width="calc(100% - "+r+"px)"}}};n.prototype.repositionY=function(){var t=this.options.orientation.item;var e=this.dom.box;e.style.top="top"==t?this.top+"px":this.parent.height-this.top-this.height+"px"};n.prototype._repaintDragLeft=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragLeft){var t=document.createElement("div");t.className="vis-drag-left";t.dragLeftItem=this;this.dom.box.appendChild(t);this.dom.dragLeft=t}else if(!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragLeft){this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft);this.dom.dragLeft=null}};n.prototype._repaintDragRight=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragRight){var t=document.createElement("div");t.className="vis-drag-right";t.dragRightItem=this;this.dom.box.appendChild(t);this.dom.dragRight=t}else if(!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragRight){this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight);this.dom.dragRight=null}};t.exports=n},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=u(i(19));var r;var s=u(i(6));var a;var h=u(i(0));var d;var l=u(i(1));function u(t){return t&&t.__esModule?t:{default:t}}var c=i(2);var p=i(179)["default"];var f=function(){function t(e,i,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,h["default"])(this,t);this.parent=e;this.changedOptions=[];this.container=i;this.allowCreation=!1;this.options={};this.initialized=!1;this.popupCounter=0;this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0};c.extend(this.options,this.defaultOptions);this.configureOptions=o;this.moduleOptions={};this.domElements=[];this.popupDiv={};this.popupLimit=5;this.popupHistory={};this.colorPicker=new p(n);this.wrapper=void 0}(0,l["default"])(t,[{key:"setOptions",value:function t(e){if(void 0!==e){this.popupHistory={};this._removePopup();var i=!0;if("string"==typeof e)this.options.filter=e;else if(e instanceof Array)this.options.filter=e.join();else if("object"===(void 0===e?"undefined":(0,s["default"])(e))){void 0!==e.container&&(this.options.container=e.container);void 0!==e.filter&&(this.options.filter=e.filter);void 0!==e.showButton&&(this.options.showButton=e.showButton);void 0!==e.enabled&&(i=e.enabled)}else if("boolean"==typeof e){this.options.filter=!0;i=e}else if("function"==typeof e){this.options.filter=e;i=!0}!1===this.options.filter&&(i=!1);this.options.enabled=i}this._clean()}},{key:"setModuleOptions",value:function t(e){this.moduleOptions=e;if(!0===this.options.enabled){this._clean();void 0!==this.options.container&&(this.container=this.options.container);this._create()}}},{key:"_create",value:function t(){var e=this;this._clean();this.changedOptions=[];var i=this.options.filter;var o=0;var n=!1;for(var r in this.configureOptions)if(this.configureOptions.hasOwnProperty(r)){this.allowCreation=!1;n=!1;"function"==typeof i?n=(n=i(r,[]))||this._handleObject(this.configureOptions[r],[r],!0):!0!==i&&-1===i.indexOf(r)||(n=!0);if(!1!==n){this.allowCreation=!0;o>0&&this._makeItem([]);this._makeHeader(r);this._handleObject(this.configureOptions[r],[r])}o++}if(!0===this.options.showButton){var s=document.createElement("div");s.className="vis-configuration vis-config-button";s.innerHTML="generate options";s.onclick=function(){e._printOptions()};s.onmouseover=function(){s.className="vis-configuration vis-config-button hover"};s.onmouseout=function(){s.className="vis-configuration vis-config-button"};this.optionsContainer=document.createElement("div");this.optionsContainer.className="vis-configuration vis-config-option-container";this.domElements.push(this.optionsContainer);this.domElements.push(s)}this._push()}},{key:"_push",value:function t(){this.wrapper=document.createElement("div");this.wrapper.className="vis-configuration-wrapper";this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}},{key:"_clean",value:function t(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);if(void 0!==this.wrapper){this.container.removeChild(this.wrapper);this.wrapper=void 0}this.domElements=[];this._removePopup()}},{key:"_getValue",value:function t(e){var i=this.moduleOptions;for(var o=0;o<e.length;o++){if(void 0===i[e[o]]){i=void 0;break}i=i[e[o]]}return i}},{key:"_makeItem",value:function t(e){if(!0===this.allowCreation){var i=document.createElement("div");i.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var o=arguments.length,n=Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];n.forEach(function(t){i.appendChild(t)});this.domElements.push(i);return this.domElements.length}return 0}},{key:"_makeHeader",value:function t(e){var i=document.createElement("div");i.className="vis-configuration vis-config-header";i.innerHTML=e;this._makeItem([],i)}},{key:"_makeLabel",value:function t(e,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n=document.createElement("div");n.className="vis-configuration vis-config-label vis-config-s"+i.length;n.innerHTML=!0===o?"<i><b>"+e+":</b></i>":e+":";return n}},{key:"_makeDropdown",value:function t(e,i,o){var n=document.createElement("select");n.className="vis-configuration vis-config-select";var r=0;void 0!==i&&-1!==e.indexOf(i)&&(r=e.indexOf(i));for(var s=0;s<e.length;s++){var a=document.createElement("option");a.value=e[s];s===r&&(a.selected="selected");a.innerHTML=e[s];n.appendChild(a)}var h=this;n.onchange=function(){h._update(this.value,o)};var d=this._makeLabel(o[o.length-1],o);this._makeItem(o,d,n)}},{key:"_makeRange",value:function t(e,i,o){var n=e[0];var r=e[1];var s=e[2];var a=e[3];var h=document.createElement("input");h.className="vis-configuration vis-config-range";try{h.type="range";h.min=r;h.max=s}catch(t){}h.step=a;var d="";var l=0;if(void 0!==i){var u=1.2;if(i<0&&1.2*i<r){h.min=Math.ceil(1.2*i);l=h.min;d="range increased"}else if(i/1.2<r){h.min=Math.ceil(i/1.2);l=h.min;d="range increased"}if(1.2*i>s&&1!==s){h.max=Math.ceil(1.2*i);l=h.max;d="range increased"}h.value=i}else h.value=n;var c=document.createElement("input");c.className="vis-configuration vis-config-rangeinput";c.value=h.value;var p=this;h.onchange=function(){c.value=this.value;p._update(Number(this.value),o)};h.oninput=function(){c.value=this.value};var f=this._makeLabel(o[o.length-1],o);var v=this._makeItem(o,f,h,c);if(""!==d&&this.popupHistory[v]!==l){this.popupHistory[v]=l;this._setupPopup(d,v)}}},{key:"_setupPopup",value:function t(e,i){var o=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var n=document.createElement("div");n.id="vis-configuration-popup";n.className="vis-configuration-popup";n.innerHTML=e;n.onclick=function(){o._removePopup()};this.popupCounter+=1;this.popupDiv={html:n,index:i}}}},{key:"_removePopup",value:function t(){if(void 0!==this.popupDiv.html){this.popupDiv.html.parentNode.removeChild(this.popupDiv.html);clearTimeout(this.popupDiv.hideTimeout);clearTimeout(this.popupDiv.deleteTimeout);this.popupDiv={}}}},{key:"_showPopupIfNeeded",value:function t(){var e=this;if(void 0!==this.popupDiv.html){var i;var o=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=o.left+"px";this.popupDiv.html.style.top=o.top-30+"px";document.body.appendChild(this.popupDiv.html);this.popupDiv.hideTimeout=setTimeout(function(){e.popupDiv.html.style.opacity=0},1500);this.popupDiv.deleteTimeout=setTimeout(function(){e._removePopup()},1800)}}},{key:"_makeCheckbox",value:function t(e,i,o){var n=document.createElement("input");n.type="checkbox";n.className="vis-configuration vis-config-checkbox";n.checked=e;if(void 0!==i){n.checked=i;i!==e&&("object"===(void 0===e?"undefined":(0,s["default"])(e))?i!==e.enabled&&this.changedOptions.push({path:o,value:i}):this.changedOptions.push({path:o,value:i}))}var r=this;n.onchange=function(){r._update(this.checked,o)};var a=this._makeLabel(o[o.length-1],o);this._makeItem(o,a,n)}},{key:"_makeTextInput",value:function t(e,i,o){var n=document.createElement("input");n.type="text";n.className="vis-configuration vis-config-text";n.value=i;i!==e&&this.changedOptions.push({path:o,value:i});var r=this;n.onchange=function(){r._update(this.value,o)};var s=this._makeLabel(o[o.length-1],o);this._makeItem(o,s,n)}},{key:"_makeColorField",value:function t(e,i,o){var n=this;var r=e[1];var s=document.createElement("div");if("none"!==(i=void 0===i?r:i)){s.className="vis-configuration vis-config-colorBlock";s.style.backgroundColor=i}else s.className="vis-configuration vis-config-colorBlock none";i=void 0===i?r:i;s.onclick=function(){n._showColorPicker(i,s,o)};var a=this._makeLabel(o[o.length-1],o);this._makeItem(o,a,s)}},{key:"_showColorPicker",value:function t(e,i,o){var n=this;i.onclick=function(){};this.colorPicker.insertTo(i);this.colorPicker.show();this.colorPicker.setColor(e);this.colorPicker.setUpdateCallback(function(t){var e="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";i.style.backgroundColor=e;n._update(e,o)});this.colorPicker.setCloseCallback(function(){i.onclick=function(){n._showColorPicker(e,i,o)}})}},{key:"_handleObject",value:function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n=!1;var r=this.options.filter;var s=!1;for(var a in e)if(e.hasOwnProperty(a)){n=!0;var h=e[a];var d=c.copyAndExtendArray(i,a);if("function"==typeof r&&!1===(n=r(a,i))&&!(h instanceof Array)&&"string"!=typeof h&&"boolean"!=typeof h&&h instanceof Object){this.allowCreation=!1;n=this._handleObject(h,d,!0);this.allowCreation=!1===o}if(!1!==n){s=!0;var l=this._getValue(d);if(h instanceof Array)this._handleArray(h,l,d);else if("string"==typeof h)this._makeTextInput(h,l,d);else if("boolean"==typeof h)this._makeCheckbox(h,l,d);else if(h instanceof Object){var u=!0;-1!==i.indexOf("physics")&&this.moduleOptions.physics.solver!==a&&(u=!1);if(!0===u)if(void 0!==h.enabled){var p=c.copyAndExtendArray(d,"enabled");var f=this._getValue(p);if(!0===f){var v=this._makeLabel(a,d,!0);this._makeItem(d,v);s=this._handleObject(h,d)||s}else this._makeCheckbox(h,f,d)}else{var m=this._makeLabel(a,d,!0);this._makeItem(d,m);s=this._handleObject(h,d)||s}}else console.error("dont know how to handle",h,a,d)}}return s}},{key:"_handleArray",value:function t(e,i,o){if("string"==typeof e[0]&&"color"===e[0]){this._makeColorField(e,i,o);e[1]!==i&&this.changedOptions.push({path:o,value:i})}else if("string"==typeof e[0]){this._makeDropdown(e,i,o);e[0]!==i&&this.changedOptions.push({path:o,value:i})}else if("number"==typeof e[0]){this._makeRange(e,i,o);e[0]!==i&&this.changedOptions.push({path:o,value:Number(i)})}}},{key:"_update",value:function t(e,i){var o=this._constructOptions(e,i);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",o);this.initialized=!0;this.parent.setOptions(o)}},{key:"_constructOptions",value:function t(e,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=o;e="false"!==(e="true"===e||e)&&e;for(var r=0;r<i.length;r++)if("global"!==i[r]){void 0===n[i[r]]&&(n[i[r]]={});r!==i.length-1?n=n[i[r]]:n[i[r]]=e}return o}},{key:"_printOptions",value:function t(){var e=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+(0,n["default"])(e,null,2)+"</pre>"}},{key:"getOptions",value:function t(){var e={};for(var i=0;i<this.changedOptions.length;i++)this._constructOptions(this.changedOptions[i].value,this.changedOptions[i].path,e);return e}}]);return t}();e["default"]=f},function(t,e,i){var o;var n=r(i(6));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(14);function a(t,e){}a.draw=function(t,e,i,o){o=o||0;var r=d(i,e);for(var a=0;a<t.length;a++)if(r){var l=r(t[a],e);!0!==l&&"object"!==(void 0===l?"undefined":(0,n["default"])(l))||s.drawPoint(t[a].screen_x+o,t[a].screen_y,h(e,l),i.svgElements,i.svg,t[a].label)}else s.drawPoint(t[a].screen_x+o,t[a].screen_y,h(e),i.svgElements,i.svg,t[a].label)};a.drawIcon=function(t,e,i,o,n,r){var a=.5*n;var d=s.getSVGElement("rect",r.svgElements,r.svg);d.setAttributeNS(null,"x",e);d.setAttributeNS(null,"y",i-a);d.setAttributeNS(null,"width",o);d.setAttributeNS(null,"height",2*a);d.setAttributeNS(null,"class","vis-outline");s.drawPoint(e+.5*o,i,h(t),r.svgElements,r.svg)};function h(t,e){return{style:(e=void 0===e?{}:e).style||t.options.drawPoints.style,styles:e.styles||t.options.drawPoints.styles,size:e.size||t.options.drawPoints.size,className:e.className||t.className}}function d(t,e){var i=void 0;t.options&&t.options.drawPoints&&t.options.drawPoints.onRender&&"function"==typeof t.options.drawPoints.onRender&&(i=t.options.drawPoints.onRender);e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&"function"==typeof e.group.options.drawPoints.onRender&&(i=e.group.options.drawPoints.onRender);return i}t.exports=a},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=v(i(3));var r;var s=v(i(0));var a;var h=v(i(1));var d;var l=v(i(4));var u;var c=v(i(5));var p;var f;function v(t){return t&&t.__esModule?t:{default:t}}var m=function(t){(0,c["default"])(e,t);function e(t,i,o){(0,s["default"])(this,e);var r=(0,l["default"])(this,(e.__proto__||(0,n["default"])(e)).call(this,t,i,o));r.labelOffset=0;r.selected=!1;return r}(0,h["default"])(e,[{key:"setOptions",value:function t(e,i,o){this.options=e;void 0===i&&void 0===o||this.setImages(i,o)}},{key:"setImages",value:function t(e,i){if(i&&this.selected){this.imageObj=i;this.imageObjAlt=e}else{this.imageObj=e;this.imageObjAlt=i}}},{key:"switchImages",value:function t(e){var i=e&&!this.selected||!e&&this.selected;this.selected=e;if(void 0!==this.imageObjAlt&&i){var o=this.imageObj;this.imageObj=this.imageObjAlt;this.imageObjAlt=o}}},{key:"_resizeImage",value:function t(){var e,i;if(!1===this.options.shapeProperties.useImageSize){var o=1;var n=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?o=this.imageObj.width/this.imageObj.height:n=this.imageObj.height/this.imageObj.width);e=2*this.options.size*o;i=2*this.options.size*n}else{e=this.imageObj.width;i=this.imageObj.height}this.width=e;this.height=i;this.radius=.5*this.width}},{key:"_drawRawCircle",value:function t(e,i,o,n){this.initContextForDraw(e,n);e.circle(i,o,n.size);this.performFill(e,n)}},{key:"_drawImageAtPosition",value:function t(e,i){if(0!=this.imageObj.width){e.globalAlpha=1;this.enableShadow(e,i);var o=1;!0===this.options.shapeProperties.interpolation&&(o=this.imageObj.width/this.width/this.body.view.scale);this.imageObj.drawImageAtPosition(e,o,this.left,this.top,this.width,this.height);this.disableShadow(e,i)}}},{key:"_drawImageLabel",value:function t(e,i,o,n,r){var s;var a=0;if(void 0!==this.height){a=.5*this.height;var h=this.labelModule.getTextSize(e,n,r);h.lineCount>=1&&(a+=h.height/2)}s=o+a;this.options.label&&(this.labelOffset=a);this.labelModule.draw(e,i,s,n,r,"hanging")}}]);return e}(v(i(23))["default"]);e["default"]=m},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=p(i(19));var r;var s=p(i(6));var a;var h=p(i(29));var d;var l=p(i(0));var u;var c=p(i(1));function p(t){return t&&t.__esModule?t:{default:t}}var f=i(2);var v=i(117)["default"];var m=i(48)["default"];var g=i(215)["default"];var y=i(217)["default"];var b=i(218)["default"];var _=i(219)["default"];var w=function(){function t(e,i,o,n){(0,l["default"])(this,t);if(void 0===i)throw new Error("No body provided");this.options=f.bridgeObject(o);this.globalOptions=o;this.defaultOptions=n;this.body=i;this.id=void 0;this.fromId=void 0;this.toId=void 0;this.selected=!1;this.hover=!1;this.labelDirty=!0;this.baseWidth=this.options.width;this.baseFontSize=this.options.font.size;this.from=void 0;this.to=void 0;this.edgeType=void 0;this.connected=!1;this.labelModule=new v(this.body,this.options,!0);this.setOptions(e)}(0,c["default"])(t,[{key:"setOptions",value:function e(i){if(!i)return;t.parseOptions(this.options,i,!0,this.globalOptions);void 0!==i.id&&(this.id=i.id);void 0!==i.from&&(this.fromId=i.from);void 0!==i.to&&(this.toId=i.to);void 0!==i.title&&(this.title=i.title);void 0!==i.value&&(i.value=parseFloat(i.value));var o=[i,this.options,this.defaultOptions];this.chooser=m.choosify("edge",o);this.updateLabelModule(i);var n=this.updateEdgeType();this._setInteractionWidths();this.connect();void 0===i.hidden&&void 0===i.physics||(n=!0);return n}},{key:"getFormattingValues",value:function t(){var e=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled;var i=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled;var o=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled;var n=this.options.color.inherit;var r={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:o,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:i,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:n?void 0:this.options.color.color,inheritsColor:n,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width};if(this.selected||this.hover){if(!0===this.chooser){if(this.selected){var s=this.options.selectionWidth;"function"==typeof s?r.width=s(r.width):"number"==typeof s&&(r.width+=s);r.width=Math.max(r.width,.3/this.body.view.scale);r.color=this.options.color.highlight;r.shadow=this.options.shadow.enabled}else if(this.hover){var a=this.options.hoverWidth;"function"==typeof a?r.width=a(r.width):"number"==typeof a&&(r.width+=a);r.width=Math.max(r.width,.3/this.body.view.scale);r.color=this.options.color.hover;r.shadow=this.options.shadow.enabled}}else if("function"==typeof this.chooser){this.chooser(r,this.options.id,this.selected,this.hover);void 0!==r.color&&(r.inheritsColor=!1);!1===r.shadow&&(r.shadowColor===this.options.shadow.color&&r.shadowSize===this.options.shadow.size&&r.shadowX===this.options.shadow.x&&r.shadowY===this.options.shadow.y||(r.shadow=!0))}}else{r.shadow=this.options.shadow.enabled;r.width=Math.max(r.width,.3/this.body.view.scale)}return r}},{key:"updateLabelModule",value:function t(e){var i=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,i);void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function t(){var e=this.options.smooth;var i=!1;var o=!0;if(void 0!==this.edgeType){(this.edgeType instanceof y&&!0===e.enabled&&"dynamic"===e.type||this.edgeType instanceof g&&!0===e.enabled&&"cubicBezier"===e.type||this.edgeType instanceof b&&!0===e.enabled&&"dynamic"!==e.type&&"cubicBezier"!==e.type||this.edgeType instanceof _&&!1===e.type.enabled)&&(o=!1);!0===o&&(i=this.cleanup())}if(!0===o)if(!0===e.enabled)if("dynamic"===e.type){i=!0;this.edgeType=new y(this.options,this.body,this.labelModule)}else"cubicBezier"===e.type?this.edgeType=new g(this.options,this.body,this.labelModule):this.edgeType=new b(this.options,this.body,this.labelModule);else this.edgeType=new _(this.options,this.body,this.labelModule);else this.edgeType.setOptions(this.options);return i}},{key:"connect",value:function t(){this.disconnect();this.from=this.body.nodes[this.fromId]||void 0;this.to=this.body.nodes[this.toId]||void 0;this.connected=void 0!==this.from&&void 0!==this.to;if(!0===this.connected){this.from.attachEdge(this);this.to.attachEdge(this)}else{this.from&&this.from.detachEdge(this);this.to&&this.to.detachEdge(this)}this.edgeType.connect()}},{key:"disconnect",value:function t(){if(this.from){this.from.detachEdge(this);this.from=void 0}if(this.to){this.to.detachEdge(this);this.to=void 0}this.connected=!1}},{key:"getTitle",value:function t(){return this.title}},{key:"isSelected",value:function t(){return this.selected}},{key:"getValue",value:function t(){return this.options.value}},{key:"setValueRange",value:function t(e,i,o){if(void 0!==this.options.value){var n=this.options.scaling.customScalingFunction(e,i,o,this.options.value);var r=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*s}this.options.width=this.options.scaling.min+n*r}else{this.options.width=this.baseWidth;this.options.font.size=this.baseFontSize}this._setInteractionWidths();this.updateLabelModule()}},{key:"_setInteractionWidths",value:function t(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width;"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function t(e){var i=this.getFormattingValues();if(i.hidden)return;var o=this.edgeType.getViaNode();var n={};this.edgeType.fromPoint=this.edgeType.from;this.edgeType.toPoint=this.edgeType.to;if(i.fromArrow){n.from=this.edgeType.getArrowData(e,"from",o,this.selected,this.hover,i);!1===i.arrowStrikethrough&&(this.edgeType.fromPoint=n.from.core)}if(i.toArrow){n.to=this.edgeType.getArrowData(e,"to",o,this.selected,this.hover,i);!1===i.arrowStrikethrough&&(this.edgeType.toPoint=n.to.core)}i.middleArrow&&(n.middle=this.edgeType.getArrowData(e,"middle",o,this.selected,this.hover,i));this.edgeType.drawLine(e,i,this.selected,this.hover,o);this.drawArrows(e,n,i);this.drawLabel(e,o)}},{key:"drawArrows",value:function t(e,i,o){o.fromArrow&&this.edgeType.drawArrowHead(e,o,this.selected,this.hover,i.from);o.middleArrow&&this.edgeType.drawArrowHead(e,o,this.selected,this.hover,i.middle);o.toArrow&&this.edgeType.drawArrowHead(e,o,this.selected,this.hover,i.to)}},{key:"drawLabel",value:function t(e,i){if(void 0!==this.options.label){var o=this.from;var n=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);if(o.id!=n.id){this.labelModule.pointToSelf=!1;var r=this.edgeType.getPoint(.5,i);e.save();var s=this._getRotation(e);if(0!=s.angle){e.translate(s.x,s.y);e.rotate(s.angle)}this.labelModule.draw(e,r.x,r.y,this.selected,this.hover);e.restore()}else{this.labelModule.pointToSelf=!0;var a,h;var d=this.options.selfReferenceSize;if(o.shape.width>o.shape.height){a=o.x+.5*o.shape.width;h=o.y-d}else{a=o.x+d;h=o.y-.5*o.shape.height}r=this._pointOnCircle(a,h,d,.125);this.labelModule.draw(e,r.x,r.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function t(e){var i=[];if(this.labelModule.visible()){var o=this._getRotation();m.pointInRect(this.labelModule.getSize(),e,o)&&i.push({edgeId:this.id,labelId:0})}var n={left:e.x,top:e.y};this.isOverlappingWith(n)&&i.push({edgeId:this.id});return i}},{key:"isOverlappingWith",value:function t(e){if(this.connected){var i=10;var o=this.from.x;var n=this.from.y;var r=this.to.x;var s=this.to.y;var a=e.left;var h=e.top;var d;return this.edgeType.getDistanceToEdge(o,n,r,s,a,h)<10}return!1}},{key:"_getRotation",value:function t(e){var i=this.edgeType.getViaNode();var o=this.edgeType.getPoint(.5,i);void 0!==e&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,o.x,o.y);var n={x:o.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return n;if("horizontal"===this.options.font.align)return n;var r=this.from.y-this.to.y;var s=this.from.x-this.to.x;var a=Math.atan2(r,s);(a<-1&&s<0||a>0&&s<0)&&(a+=Math.PI);n.angle=a;return n}},{key:"_pointOnCircle",value:function t(e,i,o,n){var r=2*n*Math.PI;return{x:e+o*Math.cos(r),y:i-o*Math.sin(r)}}},{key:"select",value:function t(){this.selected=!0}},{key:"unselect",value:function t(){this.selected=!1}},{key:"cleanup",value:function t(){return this.edgeType.cleanup()}},{key:"remove",value:function t(){this.cleanup();this.disconnect();delete this.body.edges[this.id]}},{key:"endPointsValid",value:function t(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function t(e,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];var d=["arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width","font","chosen","widthConstraint"];f.selectiveDeepExtend(d,e,i,o);m.isValidLabel(i.label)?e.label=i.label:e.label=void 0;f.mergeOptions(e,i,"smooth",r);f.mergeOptions(e,i,"shadow",r);void 0!==i.dashes&&null!==i.dashes?e.dashes=i.dashes:!0===o&&null===i.dashes&&(e.dashes=(0,h["default"])(r.dashes));if(void 0!==i.scaling&&null!==i.scaling){void 0!==i.scaling.min&&(e.scaling.min=i.scaling.min);void 0!==i.scaling.max&&(e.scaling.max=i.scaling.max);f.mergeOptions(e.scaling,i.scaling,"label",r.scaling)}else!0===o&&null===i.scaling&&(e.scaling=(0,h["default"])(r.scaling));if(void 0!==i.arrows&&null!==i.arrows)if("string"==typeof i.arrows){var l=i.arrows.toLowerCase();e.arrows.to.enabled=-1!=l.indexOf("to");e.arrows.middle.enabled=-1!=l.indexOf("middle");e.arrows.from.enabled=-1!=l.indexOf("from")}else{if("object"!==(0,s["default"])(i.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+(0,n["default"])(i.arrows));f.mergeOptions(e.arrows,i.arrows,"to",r.arrows);f.mergeOptions(e.arrows,i.arrows,"middle",r.arrows);f.mergeOptions(e.arrows,i.arrows,"from",r.arrows)}else!0===o&&null===i.arrows&&(e.arrows=(0,h["default"])(r.arrows));if(void 0!==i.color&&null!==i.color){var u=i.color;var c=e.color;if(a)f.deepExtend(c,r.color,!1,o);else for(var p in c)c.hasOwnProperty(p)&&delete c[p];if(f.isString(c)){c.color=c;c.highlight=c;c.hover=c;c.inherit=!1;void 0===u.opacity&&(c.opacity=1)}else{var v=!1;if(void 0!==u.color){c.color=u.color;v=!0}if(void 0!==u.highlight){c.highlight=u.highlight;v=!0}if(void 0!==u.hover){c.hover=u.hover;v=!0}void 0!==u.inherit&&(c.inherit=u.inherit);void 0!==u.opacity&&(c.opacity=Math.min(1,Math.max(0,u.opacity)));!0===v?c.inherit=!1:void 0===c.inherit&&(c.inherit="from")}}else!0===o&&null===i.color&&(e.color=f.bridgeObject(r.color));!0===o&&null===i.font&&(e.font=f.bridgeObject(r.font))}}]);return t}();e["default"]=w},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=v(i(3));var r;var s=v(i(0));var a;var h=v(i(1));var d;var l=v(i(4));var u;var c=v(i(5));var p;var f;function v(t){return t&&t.__esModule?t:{default:t}}var m=function(t){(0,c["default"])(e,t);function e(t,i,o){(0,s["default"])(this,e);return(0,l["default"])(this,(e.__proto__||(0,n["default"])(e)).call(this,t,i,o))}(0,h["default"])(e,[{key:"_findBorderPositionBezier",value:function t(e,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates();var n=10;var r=0;var s=0;var a=1;var h,d,l,u,c;var p=.2;var f=this.to;var v=!1;if(e.id===this.from.id){f=this.from;v=!0}for(;s<=a&&r<10;){var m=.5*(s+a);h=this.getPoint(m,o);d=Math.atan2(f.y-h.y,f.x-h.x);c=(l=f.distanceToBorder(i,d))-(u=Math.sqrt(Math.pow(h.x-f.x,2)+Math.pow(h.y-f.y,2)));if(Math.abs(c)<.2)break;c<0?!1===v?s=m:a=m:!1===v?a=m:s=m;r++}h.t=m;return h}},{key:"_getDistanceToBezierEdge",value:function t(e,i,o,n,r,s,a){var h=1e9;var d=void 0;var l=void 0,u=void 0,c=void 0,p=void 0;var f=e;var v=i;for(l=1;l<10;l++){u=.1*l;c=Math.pow(1-u,2)*e+2*u*(1-u)*a.x+Math.pow(u,2)*o;p=Math.pow(1-u,2)*i+2*u*(1-u)*a.y+Math.pow(u,2)*n;l>0&&(h=(d=this._getDistanceToLine(f,v,c,p,r,s))<h?d:h);f=c;v=p}return h}},{key:"_bezierCurve",value:function t(e,i,o,n){var r=void 0!==o&&void 0!==o.x;var s=void 0!==n&&void 0!==n.x;e.beginPath();e.moveTo(this.fromPoint.x,this.fromPoint.y);r&&s?e.bezierCurveTo(o.x,o.y,n.x,n.y,this.toPoint.x,this.toPoint.y):r?e.quadraticCurveTo(o.x,o.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y);this.enableShadow(e,i);e.stroke();this.disableShadow(e,i)}},{key:"getViaNode",value:function t(){return this._getViaCoordinates()}}]);return e}(v(i(118))["default"]);e["default"]=m},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=a(i(0));var r;var s=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var h=i(2);var d=function(){function t(){(0,n["default"])(this,t)}(0,s["default"])(t,null,[{key:"getRange",value:function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var o=1e9,n=-1e9,r=1e9,s=-1e9,a;if(i.length>0)for(var h=0;h<i.length;h++){r>(a=e[i[h]]).shape.boundingBox.left&&(r=a.shape.boundingBox.left);s<a.shape.boundingBox.right&&(s=a.shape.boundingBox.right);o>a.shape.boundingBox.top&&(o=a.shape.boundingBox.top);n<a.shape.boundingBox.bottom&&(n=a.shape.boundingBox.bottom)}1e9===r&&-1e9===s&&1e9===o&&-1e9===n&&(o=0,n=0,r=0,s=0);return{minX:r,maxX:s,minY:o,maxY:n}}},{key:"getRangeCore",value:function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var o=1e9,n=-1e9,r=1e9,s=-1e9,a;if(i.length>0)for(var h=0;h<i.length;h++){r>(a=e[i[h]]).x&&(r=a.x);s<a.x&&(s=a.x);o>a.y&&(o=a.y);n<a.y&&(n=a.y)}1e9===r&&-1e9===s&&1e9===o&&-1e9===n&&(o=0,n=0,r=0,s=0);return{minX:r,maxX:s,minY:o,maxY:n}}},{key:"findCenter",value:function t(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:"cloneOptions",value:function t(e,i){var o={};if(void 0===i||"node"===i){h.deepExtend(o,e.options,!0);o.x=e.x;o.y=e.y;o.amountOfConnections=e.edges.length}else h.deepExtend(o,e.options,!0);return o}}]);return t}();e["default"]=d},function(t,e,i){t.exports={default:i(124),__esModule:!0}},function(t,e,i){var o=i(50);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,e,i){var o=i(52);var n=i(17);var r=i(83);var s=i(26);var a=i(22);var h=i(31);var d=i(129);var l=i(59);var u=i(85);var c=i(13)("iterator");var p=!([].keys&&"next"in[].keys());var f="@@iterator";var v="keys";var m="values";var g=function(){return this};t.exports=function(t,e,i,y,b,_,w){d(i,e,y);var x=function(t){if(!p&&t in O)return O[t];switch(t){case v:return function e(){return new i(this,t)};case m:return function e(){return new i(this,t)}}return function e(){return new i(this,t)}};var k=e+" Iterator";var S=b==m;var D=!1;var O=t.prototype;var M=O[c]||O[f]||b&&O[b];var C=M||x(b);var E=b?S?x("entries"):C:void 0;var T="Array"==e&&O.entries||M;var P,I,N;if(T&&(N=u(T.call(new t)))!==Object.prototype&&N.next){l(N,k,!0);o||a(N,c)||s(N,c,g)}if(S&&M&&M.name!==m){D=!0;C=function t(){return M.call(this)}}o&&!w||!p&&!D&&O[c]||s(O,c,C);h[e]=C;h[k]=g;if(b){P={values:S?C:x(m),keys:_?C:x(v),entries:E};if(w)for(I in P)I in O||r(O,I,P[I]);else n(n.P+n.F*(p||D),e,P)}return P}},function(t,e,i){var o=i(128);t.exports=function(t,e,i){o(t);if(void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,o){return t.call(e,i,o)};case 3:return function(i,o,n){return t.call(e,i,o,n)}}return function(){return t.apply(e,arguments)}}},function(t,e,i){t.exports=!i(21)&&!i(28)(function(){return 7!=Object.defineProperty(i(82)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){var o=i(32);var n=i(18).document;var r=o(n)&&o(n.createElement);t.exports=function(t){return r?n.createElement(t):{}}},function(t,e,i){t.exports=i(26)},function(t,e,i){var o=i(22);var n=i(25);var r=i(131)(!1);var s=i(56)("IE_PROTO");t.exports=function(t,e){var i=n(t);var a=0;var h=[];var d;for(d in i)d!=s&&o(i,d)&&h.push(d);for(;e.length>a;)o(i,d=e[a++])&&(~r(h,d)||h.push(d));return h}},function(t,e,i){var o=i(22);var n=i(41);var r=i(56)("IE_PROTO");var s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){t=n(t);if(o(t,r))return t[r];if("function"==typeof t.constructor&&t instanceof t.constructor)return t.constructor.prototype;return t instanceof Object?s:null}},function(t,e,i){var o=i(50);var n=i(13)("toStringTag");var r="Arguments"==o(function(){return arguments}());var s=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,i,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=s(e=Object(t),n))?i:r?o(e):"Object"==(a=o(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,i){var o=i(17);var n=i(7);var r=i(28);t.exports=function(t,e){var i=(n.Object||{})[t]||Object[t];var s={};s[t]=e(i);o(o.S+o.F*r(function(){i(1)}),"Object",s)}},function(t,e,i){var o=i(84);var n=i(58).concat("length","prototype");e.f=Object.getOwnPropertyNames||function t(e){return o(e,n)}},function(t,e,i){var o=i(42);var n=i(39);var r=i(25);var s=i(53);var a=i(22);var h=i(81);var d=Object.getOwnPropertyDescriptor;e.f=i(21)?d:function t(e,i){e=r(e);i=s(i,!0);if(h)try{return d(e,i)}catch(t){}if(a(e,i))return n(!o.f.call(e,i),e[i])}},function(t,e,i){t.exports={default:i(162),__esModule:!0}},function(t,e,i){function o(t,e){this.x=void 0!==t?t:0;this.y=void 0!==e?e:0}t.exports=o},function(t,e,i){var o=i(2);function n(t,e){if(void 0===t)throw new Error("No container element defined");this.container=t;this.visible=!e||void 0==e.visible||e.visible;if(this.visible){this.frame=document.createElement("DIV");this.frame.style.width="100%";this.frame.style.position="relative";this.container.appendChild(this.frame);this.frame.prev=document.createElement("INPUT");this.frame.prev.type="BUTTON";this.frame.prev.value="Prev";this.frame.appendChild(this.frame.prev);this.frame.play=document.createElement("INPUT");this.frame.play.type="BUTTON";this.frame.play.value="Play";this.frame.appendChild(this.frame.play);this.frame.next=document.createElement("INPUT");this.frame.next.type="BUTTON";this.frame.next.value="Next";this.frame.appendChild(this.frame.next);this.frame.bar=document.createElement("INPUT");this.frame.bar.type="BUTTON";this.frame.bar.style.position="absolute";this.frame.bar.style.border="1px solid red";this.frame.bar.style.width="100px";this.frame.bar.style.height="6px";this.frame.bar.style.borderRadius="2px";this.frame.bar.style.MozBorderRadius="2px";this.frame.bar.style.border="1px solid #7F7F7F";this.frame.bar.style.backgroundColor="#E5E5E5";this.frame.appendChild(this.frame.bar);this.frame.slide=document.createElement("INPUT");this.frame.slide.type="BUTTON";this.frame.slide.style.margin="0px";this.frame.slide.value=" ";this.frame.slide.style.position="relative";this.frame.slide.style.left="-100px";this.frame.appendChild(this.frame.slide);var i=this;this.frame.slide.onmousedown=function(t){i._onMouseDown(t)};this.frame.prev.onclick=function(t){i.prev(t)};this.frame.play.onclick=function(t){i.togglePlay(t)};this.frame.next.onclick=function(t){i.next(t)}}this.onChangeCallback=void 0;this.values=[];this.index=void 0;this.playTimeout=void 0;this.playInterval=1e3;this.playLoop=!0}n.prototype.prev=function(){var t=this.getIndex();if(t>0){t--;this.setIndex(t)}};n.prototype.next=function(){var t=this.getIndex();if(t<this.values.length-1){t++;this.setIndex(t)}};n.prototype.playNext=function(){var t=new Date;var e=this.getIndex();if(e<this.values.length-1){e++;this.setIndex(e)}else if(this.playLoop){e=0;this.setIndex(e)}var i;var o=new Date-t;var n=Math.max(this.playInterval-o,0);var r=this;this.playTimeout=setTimeout(function(){r.playNext()},n)};n.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()};n.prototype.play=function(){if(this.playTimeout)return;this.playNext();this.frame&&(this.frame.play.value="Stop")};n.prototype.stop=function(){clearInterval(this.playTimeout);this.playTimeout=void 0;this.frame&&(this.frame.play.value="Play")};n.prototype.setOnChangeCallback=function(t){this.onChangeCallback=t};n.prototype.setPlayInterval=function(t){this.playInterval=t};n.prototype.getPlayInterval=function(){return this.playInterval};n.prototype.setPlayLoop=function(t){this.playLoop=t};n.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()};n.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px";this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var t=this.indexToLeft(this.index);this.frame.slide.style.left=t+"px"}};n.prototype.setValues=function(t){this.values=t;this.values.length>0?this.setIndex(0):this.index=void 0};n.prototype.setIndex=function(t){if(!(t<this.values.length))throw new Error("Index out of range");this.index=t;this.redraw();this.onChange()};n.prototype.getIndex=function(){return this.index};n.prototype.get=function(){return this.values[this.index]};n.prototype._onMouseDown=function(t){var e;if(!(t.which?1===t.which:1===t.button))return;this.startClientX=t.clientX;this.startSlideX=parseFloat(this.frame.slide.style.left);this.frame.style.cursor="move";var i=this;this.onmousemove=function(t){i._onMouseMove(t)};this.onmouseup=function(t){i._onMouseUp(t)};o.addEventListener(document,"mousemove",this.onmousemove);o.addEventListener(document,"mouseup",this.onmouseup);o.preventDefault(t)};n.prototype.leftToIndex=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;var i=t-3;var o=Math.round(i/e*(this.values.length-1));o<0&&(o=0);o>this.values.length-1&&(o=this.values.length-1);return o};n.prototype.indexToLeft=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;var i;var o;return t/(this.values.length-1)*e+3};n.prototype._onMouseMove=function(t){var e=t.clientX-this.startClientX;var i=this.startSlideX+e;var n=this.leftToIndex(i);this.setIndex(n);o.preventDefault()};n.prototype._onMouseUp=function(t){this.frame.style.cursor="auto";o.removeEventListener(document,"mousemove",this.onmousemove);o.removeEventListener(document,"mouseup",this.onmouseup);o.preventDefault()};t.exports=n},function(t,e,i){function o(t,e,i,o){this._start=0;this._end=0;this._step=1;this.prettyStep=!0;this.precision=5;this._current=0;this.setRange(t,e,i,o)}o.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))&&isFinite(t)};o.prototype.setRange=function(t,e,i,o){if(!this.isNumeric(t))throw new Error("Parameter 'start' is not numeric; value: "+t);if(!this.isNumeric(e))throw new Error("Parameter 'end' is not numeric; value: "+t);if(!this.isNumeric(i))throw new Error("Parameter 'step' is not numeric; value: "+t);this._start=t||0;this._end=e||0;this.setStep(i,o)};o.prototype.setStep=function(t,e){if(void 0===t||t<=0)return;void 0!==e&&(this.prettyStep=e);!0===this.prettyStep?this._step=o.calculatePrettyStep(t):this._step=t};o.calculatePrettyStep=function(t){var e=function t(e){return Math.log(e)/Math.LN10};var i=Math.pow(10,Math.round(e(t))),o=2*Math.pow(10,Math.round(e(t/2))),n=5*Math.pow(10,Math.round(e(t/5)));var r=i;Math.abs(o-t)<=Math.abs(r-t)&&(r=o);Math.abs(n-t)<=Math.abs(r-t)&&(r=n);r<=0&&(r=1);return r};o.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))};o.prototype.getStep=function(){return this._step};o.prototype.start=function(t){void 0===t&&(t=!1);this._current=this._start-this._start%this._step;t&&this.getCurrent()<this._start&&this.next()};o.prototype.next=function(){this._current+=this._step};o.prototype.end=function(){return this._current>this._end};t.exports=o},function(t,e,i){var o;var n=r(i(6));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(2);var a=i(95);var h=i(34);var d={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9};var l={dot:d.DOT,"dot-line":d.DOTLINE,"dot-color":d.DOTCOLOR,"dot-size":d.DOTSIZE,line:d.LINE,grid:d.GRID,surface:d.SURFACE,bar:d.BAR,"bar-color":d.BARCOLOR,"bar-size":d.BARSIZE};var u=["width","height","filterLabel","legendLabel","xLabel","yLabel","zLabel","xValueLabel","yValueLabel","zValueLabel","showXAxis","showYAxis","showZAxis","showGrid","showPerspective","showShadow","keepAspectRatio","verticalRatio","dotSizeRatio","dotSizeMinFraction","dotSizeMaxFraction","showAnimationControls","animationInterval","animationPreload","animationAutoStart","axisColor","gridColor","xCenter","yCenter"];var c=["xBarWidth","yBarWidth","valueMin","valueMax","xMin","xMax","xStep","yMin","yMax","yStep","zMin","zMax","zStep"];var p=void 0;function f(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function v(t){if(void 0===t||""===t||"string"!=typeof t)return t;return t.charAt(0).toUpperCase()+t.slice(1)}function m(t,e){if(void 0===t||""===t)return e;return t+v(e)}function g(t,e,i,o){var n;var r;for(var s=0;s<i.length;++s)e[r=m(o,n=i[s])]=t[n]}function y(t,e,i,o){var n;var r;for(var s=0;s<i.length;++s){if(void 0===t[n=i[s]])continue;e[r=m(o,n)]=t[n]}}function b(t,e){if(void 0===t||f(t))throw new Error("No DEFAULTS passed");if(void 0===e)throw new Error("No dst passed");p=t;g(t,e,u);g(t,e,c,"default");w(t,e);e.margin=10;e.showGrayBottom=!1;e.showTooltip=!1;e.onclick_callback=null;e.eye=new h(0,0,-1)}function _(t,e){if(void 0===t)return;if(void 0===e)throw new Error("No dst passed");if(void 0===p||f(p))throw new Error("DEFAULTS not set for module Settings");y(t,e,u);y(t,e,c,"default");w(t,e)}function w(t,e){void 0!==t.backgroundColor&&O(t.backgroundColor,e);M(t.dataColor,e);D(t.style,e);x(t.showLegend,e);C(t.cameraPosition,e);void 0!==t.tooltip&&(e.showTooltip=t.tooltip);void 0!=t.onclick&&(e.onclick_callback=t.onclick);void 0!==t.tooltipStyle&&s.selectiveDeepExtend(["tooltipStyle"],e,t)}function x(t,e){if(void 0===t){var i;if(void 0===p.showLegend){var o=e.style===d.DOTCOLOR||e.style===d.DOTSIZE;e.showLegend=o}}else e.showLegend=t}function k(t){var e=l[t];if(void 0===e)return-1;return e}function S(t){var e=!1;for(var i in d)if(d[i]===t){e=!0;break}return e}function D(t,e){if(void 0===t)return;var i;if("string"==typeof t){if(-1===(i=k(t)))throw new Error("Style '"+t+"' is invalid")}else{if(!S(t))throw new Error("Style '"+t+"' is invalid");i=t}e.style=i}function O(t,e){var i="white";var o="gray";var r=1;if("string"==typeof t){i=t;o="none";r=0}else{if("object"!==(void 0===t?"undefined":(0,n["default"])(t)))throw new Error("Unsupported type of backgroundColor");void 0!==t.fill&&(i=t.fill);void 0!==t.stroke&&(o=t.stroke);void 0!==t.strokeWidth&&(r=t.strokeWidth)}e.frame.style.backgroundColor=i;e.frame.style.borderColor=o;e.frame.style.borderWidth=r+"px";e.frame.style.borderStyle="solid"}function M(t,e){if(void 0===t)return;void 0===e.dataColor&&(e.dataColor={});if("string"==typeof t){e.dataColor.fill=t;e.dataColor.stroke=t}else{t.fill&&(e.dataColor.fill=t.fill);t.stroke&&(e.dataColor.stroke=t.stroke);void 0!==t.strokeWidth&&(e.dataColor.strokeWidth=t.strokeWidth)}}function C(t,e){var i=t;if(void 0===i)return;void 0===e.camera&&(e.camera=new a);e.camera.setArmRotation(i.horizontal,i.vertical);e.camera.setArmLength(i.distance)}t.exports.STYLE=d;t.exports.setDefaults=b;t.exports.setOptions=_;t.exports.setCameraPosition=C},function(t,e,i){var o;var n=r(i(165));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(34);function a(){this.armLocation=new s;this.armRotation={};this.armRotation.horizontal=0;this.armRotation.vertical=0;this.armLength=1.7;this.cameraOffset=new s;this.offsetMultiplier=.6;this.cameraLocation=new s;this.cameraRotation=new s(.5*Math.PI,0,0);this.calculateCameraOrientation()}a.prototype.setOffset=function(t,e){var i=Math.abs,o=n["default"],r=this.offsetMultiplier,s=this.armLength*r;i(t)>s&&(t=o(t)*s);i(e)>s&&(e=o(e)*s);this.cameraOffset.x=t;this.cameraOffset.y=e;this.calculateCameraOrientation()};a.prototype.getOffset=function(){return this.cameraOffset};a.prototype.setArmLocation=function(t,e,i){this.armLocation.x=t;this.armLocation.y=e;this.armLocation.z=i;this.calculateCameraOrientation()};a.prototype.setArmRotation=function(t,e){void 0!==t&&(this.armRotation.horizontal=t);if(void 0!==e){this.armRotation.vertical=e;this.armRotation.vertical<0&&(this.armRotation.vertical=0);this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)}void 0===t&&void 0===e||this.calculateCameraOrientation()};a.prototype.getArmRotation=function(){var t={};t.horizontal=this.armRotation.horizontal;t.vertical=this.armRotation.vertical;return t};a.prototype.setArmLength=function(t){if(void 0===t)return;this.armLength=t;this.armLength<.71&&(this.armLength=.71);this.armLength>5&&(this.armLength=5);this.setOffset(this.cameraOffset.x,this.cameraOffset.y);this.calculateCameraOrientation()};a.prototype.getArmLength=function(){return this.armLength};a.prototype.getCameraLocation=function(){return this.cameraLocation};a.prototype.getCameraRotation=function(){return this.cameraRotation};a.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical);this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical);this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical);this.cameraRotation.x=Math.PI/2-this.armRotation.vertical;this.cameraRotation.y=0;this.cameraRotation.z=-this.armRotation.horizontal;var t=this.cameraRotation.x;var e=this.cameraRotation.z;var i=this.cameraOffset.x;var o=this.cameraOffset.y;var n=Math.sin,r=Math.cos;this.cameraLocation.x=this.cameraLocation.x+i*r(e)+o*-n(e)*r(t);this.cameraLocation.y=this.cameraLocation.y+i*n(e)+o*r(e)*r(t);this.cameraLocation.z=this.cameraLocation.z+o*n(t)};t.exports=a},function(t,e,i){var o=i(12);function n(t,e,i){this.dataGroup=t;this.column=e;this.graph=i;this.index=void 0;this.value=void 0;this.values=t.getDistinctValues(this.column);this.values.length>0&&this.selectValue(0);this.dataPoints=[];this.loaded=!1;this.onLoadCallback=void 0;if(i.animationPreload){this.loaded=!1;this.loadInBackground()}else this.loaded=!0}n.prototype.isLoaded=function(){return this.loaded};n.prototype.getLoadedProgress=function(){var t=this.values.length;var e=0;for(;this.dataPoints[e];)e++;return Math.round(e/t*100)};n.prototype.getLabel=function(){return this.graph.filterLabel};n.prototype.getColumn=function(){return this.column};n.prototype.getSelectedValue=function(){if(void 0===this.index)return;return this.values[this.index]};n.prototype.getValues=function(){return this.values};n.prototype.getValue=function(t){if(t>=this.values.length)throw new Error("Index out of range");return this.values[t]};n.prototype._getDataPoints=function(t){void 0===t&&(t=this.index);if(void 0===t)return[];var e;if(this.dataPoints[t])e=this.dataPoints[t];else{var i={};i.column=this.column;i.value=this.values[t];var n=new o(this.dataGroup.getDataSet(),{filter:function t(e){return e[i.column]==i.value}}).get();e=this.dataGroup._getDataPoints(n);this.dataPoints[t]=e}return e};n.prototype.setOnLoadCallback=function(t){this.onLoadCallback=t};n.prototype.selectValue=function(t){if(t>=this.values.length)throw new Error("Index out of range");this.index=t;this.value=this.values[t]};n.prototype.loadInBackground=function(t){void 0===t&&(t=0);var e=this.graph.frame;if(t<this.values.length){if(void 0===e.progress){e.progress=document.createElement("DIV");e.progress.style.position="absolute";e.progress.style.color="gray";e.appendChild(e.progress)}var i=this.getLoadedProgress();e.progress.innerHTML="Loading animation... "+i+"%";e.progress.style.bottom="60px";e.progress.style.left="10px";var o=this;setTimeout(function(){o.loadInBackground(t+1)},10);this.loaded=!1}else{this.loaded=!0;if(void 0!==e.progress){e.removeChild(e.progress);e.progress=void 0}this.onLoadCallback&&this.onLoadCallback()}};t.exports=n},function(t,e,i){var o=i(35);var n=i(44);var r=i(10);var s=i(2);function a(t){this.active=!1;this.dom={container:t};this.dom.overlay=document.createElement("div");this.dom.overlay.className="vis-overlay";this.dom.container.appendChild(this.dom.overlay);this.hammer=r(this.dom.overlay);this.hammer.on("tap",this._onTapOverlay.bind(this));var e=this;var i;["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(t){e.hammer.on(t,function(t){t.stopPropagation()})});if(document&&document.body){this.onClick=function(i){h(i.target,t)||e.deactivate()};document.body.addEventListener("click",this.onClick)}void 0!==this.keycharm&&this.keycharm.destroy();this.keycharm=o();this.escListener=this.deactivate.bind(this)}n(a.prototype);a.current=null;a.prototype.destroy=function(){this.deactivate();this.dom.overlay.parentNode.removeChild(this.dom.overlay);this.onClick&&document.body.removeEventListener("click",this.onClick);this.hammer.destroy();this.hammer=null};a.prototype.activate=function(){a.current&&a.current.deactivate();a.current=this;this.active=!0;this.dom.overlay.style.display="none";s.addClassName(this.dom.container,"vis-active");this.emit("change");this.emit("activate");this.keycharm.bind("esc",this.escListener)};a.prototype.deactivate=function(){this.active=!1;this.dom.overlay.style.display="";s.removeClassName(this.dom.container,"vis-active");this.keycharm.unbind("esc",this.escListener);this.emit("change");this.emit("deactivate")};a.prototype._onTapOverlay=function(t){this.activate();t.stopPropagation()};function h(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}t.exports=a},function(t,e,i){e["en"]={current:"current",time:"time"};e["en_EN"]=e["en"];e["en_US"]=e["en"];e["it"]={current:"attuale",time:"tempo"};e["it_IT"]=e["it"];e["it_CH"]=e["it"];e["nl"]={current:"huidige",time:"tijd"};e["nl_NL"]=e["nl"];e["nl_BE"]=e["nl"];e["de"]={current:"Aktuelle",time:"Zeit"};e["de_DE"]=e["de"];e["fr"]={current:"actuel",time:"heure"};e["fr_FR"]=e["fr"];e["fr_CA"]=e["fr"];e["fr_BE"]=e["fr"];e["es"]={current:"corriente",time:"hora"};e["es_ES"]=e["es"]},function(t,e,i){var o;var n=a(i(29));var r;var s=a(i(6));function a(t){return t&&t.__esModule?t:{default:t}}var h=i(10);var d=i(2);var l=i(11);var u=i(12);var c=i(66);var p=i(16);var f=i(68);var v=i(69);var m=i(101);var g=i(102);var y=i(70);var b=i(103);var _=i(104)["default"];var w="__ungrouped__";var x="__background__";function k(t,e){this.body=t;this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap:function t(e,i,o){var n=i.order;i.order=e.order;e.order=n},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:c.snap,onDropObjectOnItem:function t(e,i,o){o(i)},onAdd:function t(e,i){i(e)},onUpdate:function t(e,i){i(e)},onMove:function t(e,i){i(e)},onRemove:function t(e,i){i(e)},onMoving:function t(e,i){i(e)},onAddGroup:function t(e,i){i(e)},onMoveGroup:function t(e,i){i(e)},onRemoveGroup:function t(e,i){i(e)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1};this.options=d.extend({},this.defaultOptions);this.options.rtl=e.rtl;this.itemOptions={type:{start:"Date",end:"Date"}};this.conversion={toScreen:t.util.toScreen,toTime:t.util.toTime};this.dom={};this.props={};this.hammer=null;var i=this;this.itemsData=null;this.groupsData=null;this.itemListeners={add:function t(e,o,n){i._onAdd(o.items)},update:function t(e,o,n){i._onUpdate(o.items)},remove:function t(e,o,n){i._onRemove(o.items)}};this.groupListeners={add:function t(e,o,n){i._onAddGroups(o.items);if(i.groupsData&&i.groupsData.length>0){var r=i.groupsData.getDataSet();r.get().forEach(function(t){if(t.nestedGroups){0!=t.showNested&&(t.showNested=!0);var e=[];t.nestedGroups.forEach(function(i){var o=r.get(i);if(!o)return;o.nestedInGroup=t.id;0==t.showNested&&(o.visible=!1);e=e.concat(o)});r.update(e,n)}})}},update:function t(e,o,n){i._onUpdateGroups(o.items)},remove:function t(e,o,n){i._onRemoveGroups(o.items)}};this.items={};this.groups={};this.groupIds=[];this.selection=[];this.popup=null;this.touchParams={};this.groupTouchParams={};this._create();this.setOptions(e)}k.prototype=new p;k.types={background:b,box:m,range:y,point:g};k.prototype._create=function(){var t=document.createElement("div");t.className="vis-itemset";t["timeline-itemset"]=this;this.dom.frame=t;var e=document.createElement("div");e.className="vis-background";t.appendChild(e);this.dom.background=e;var i=document.createElement("div");i.className="vis-foreground";t.appendChild(i);this.dom.foreground=i;var o=document.createElement("div");o.className="vis-axis";this.dom.axis=o;var n=document.createElement("div");n.className="vis-labelset";this.dom.labelSet=n;this._updateUngrouped();var r=new v(x,null,this);r.show();this.groups[x]=r;this.hammer=new h(this.body.dom.centerContainer);this.hammer.on("hammer.input",function(t){t.isFirst&&this._onTouch(t)}.bind(this));this.hammer.on("panstart",this._onDragStart.bind(this));this.hammer.on("panmove",this._onDrag.bind(this));this.hammer.on("panend",this._onDragEnd.bind(this));this.hammer.get("pan").set({threshold:5,direction:h.DIRECTION_HORIZONTAL});this.hammer.on("tap",this._onSelectItem.bind(this));this.hammer.on("press",this._onMultiSelectItem.bind(this));this.hammer.on("doubletap",this._onAddItem.bind(this));this.options.rtl?this.groupHammer=new h(this.body.dom.rightContainer):this.groupHammer=new h(this.body.dom.leftContainer);this.groupHammer.on("tap",this._onGroupClick.bind(this));this.groupHammer.on("panstart",this._onGroupDragStart.bind(this));this.groupHammer.on("panmove",this._onGroupDrag.bind(this));this.groupHammer.on("panend",this._onGroupDragEnd.bind(this));this.groupHammer.get("pan").set({threshold:5,direction:h.DIRECTION_VERTICAL});this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this));this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this));this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this));this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this));this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this));this.show()};k.prototype.setOptions=function(t){if(t){var e=["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime"];d.selectiveExtend(e,this.options,t);if("itemsAlwaysDraggable"in t)if("boolean"==typeof t.itemsAlwaysDraggable){this.options.itemsAlwaysDraggable.item=t.itemsAlwaysDraggable;this.options.itemsAlwaysDraggable.range=!1}else if("object"===(0,s["default"])(t.itemsAlwaysDraggable)){d.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,t.itemsAlwaysDraggable);this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1)}"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.item="top"===t.orientation?"top":"bottom":"object"===(0,s["default"])(t.orientation)&&"item"in t.orientation&&(this.options.orientation.item=t.orientation.item));if("margin"in t)if("number"==typeof t.margin){this.options.margin.axis=t.margin;this.options.margin.item.horizontal=t.margin;this.options.margin.item.vertical=t.margin}else if("object"===(0,s["default"])(t.margin)){d.selectiveExtend(["axis"],this.options.margin,t.margin);if("item"in t.margin)if("number"==typeof t.margin.item){this.options.margin.item.horizontal=t.margin.item;this.options.margin.item.vertical=t.margin.item}else"object"===(0,s["default"])(t.margin.item)&&d.selectiveExtend(["horizontal","vertical"],this.options.margin.item,t.margin.item)}if("editable"in t)if("boolean"==typeof t.editable){this.options.editable.updateTime=t.editable;this.options.editable.updateGroup=t.editable;this.options.editable.add=t.editable;this.options.editable.remove=t.editable;this.options.editable.overrideItems=!1}else"object"===(0,s["default"])(t.editable)&&d.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,t.editable);if("groupEditable"in t)if("boolean"==typeof t.groupEditable){this.options.groupEditable.order=t.groupEditable;this.options.groupEditable.add=t.groupEditable;this.options.groupEditable.remove=t.groupEditable}else"object"===(0,s["default"])(t.groupEditable)&&d.selectiveExtend(["order","add","remove"],this.options.groupEditable,t.groupEditable);var i=function(e){var i=t[e];if(i){if(!(i instanceof Function))throw new Error("option "+e+" must be a function "+e+"(item, callback)");this.options[e]=i}}.bind(this);["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(i);this.markDirty()}};k.prototype.markDirty=function(t){this.groupIds=[];t&&t.refreshItems&&d.forEach(this.items,function(t){t.dirty=!0;t.displayed&&t.redraw()})};k.prototype.destroy=function(){this.hide();this.setItems(null);this.setGroups(null);this.hammer=null;this.body=null;this.conversion=null};k.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame);this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis);this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)};k.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame);this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis);this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))};k.prototype.setSelection=function(t){var e,i,o,n;void 0==t&&(t=[]);Array.isArray(t)||(t=[t]);for(e=0,i=this.selection.length;e<i;e++){o=this.selection[e];(n=this.items[o])&&n.unselect()}this.selection=[];for(e=0,i=t.length;e<i;e++){o=t[e];if(n=this.items[o]){this.selection.push(o);n.select()}}};k.prototype.getSelection=function(){return this.selection.concat([])};k.prototype.getVisibleItems=function(){var t=this.body.range.getRange();var e,i;if(this.options.rtl){e=this.body.util.toScreen(t.start);i=this.body.util.toScreen(t.end)}else{i=this.body.util.toScreen(t.start);e=this.body.util.toScreen(t.end)}var o=[];for(var n in this.groups)if(this.groups.hasOwnProperty(n)){var r=this.groups[n];var s=r.isVisible?r.visibleItems:[];for(var a=0;a<s.length;a++){var h=s[a];this.options.rtl?h.right<i&&h.right+h.width>e&&o.push(h.id):h.left<e&&h.left+h.width>i&&o.push(h.id)}}return o};k.prototype._deselect=function(t){var e=this.selection;for(var i=0,o=e.length;i<o;i++)if(e[i]==t){e.splice(i,1);break}};k.prototype.redraw=function(){var t=this.options.margin,e=this.body.range,i=d.option.asSize,o=this.options,n=o.orientation.item,r=!1,s=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top;this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left;s.className="vis-itemset";r=this._orderGroups()||r;var a=e.end-e.start;var h=a!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth;var l=e.start!=this.lastRangeStart;var u=o.stack!=this.lastStack;var c=o.stackSubgroups!=this.lastStackSubgroups;var p=h||l||u||c;this.lastVisibleInterval=a;this.lastRangeStart=e.start;this.lastStack=o.stack;this.lastStackSubgroups=o.stackSubgroups;this.props.lastWidth=this.props.width;var f=this._firstGroup();var v={item:t.item,axis:t.axis};var m={item:t.item,axis:t.item.vertical/2};var g=0;var y=t.axis+t.item.vertical;this.groups[x].redraw(e,m,p);var b={};var _=0;d.forEach(this.groups,function(t,i){if(i===x)return;var o=t==f?v:m;var n=!0;b[i]=t.redraw(e,o,p,!0);_=b[i].length});var w;if(_>0){var k={};for(var S=0;S<_;S++)d.forEach(b,function(t,e){k[e]=t[S]()});d.forEach(this.groups,function(t,e){if(e===x)return;var i=k[e];r=i||r;g+=t.height});g=Math.max(g,y)}g=Math.max(g,y);s.style.height=i(g);this.props.width=s.offsetWidth;this.props.height=g;this.dom.axis.style.top=i("top"==n?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height);this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0";this.initialItemSetDrawn=!0;return r=this._isResized()||r};k.prototype._firstGroup=function(){var t="top"==this.options.orientation.item?0:this.groupIds.length-1;var e=this.groupIds[t];var i;return this.groups[e]||this.groups[w]||null};k.prototype._updateUngrouped=function(){var t=this.groups[w];var e,i;if(this.groupsData){if(t){t.hide();delete this.groups[w];for(i in this.items)if(this.items.hasOwnProperty(i)){(e=this.items[i]).parent&&e.parent.remove(e);var o=this._getGroupId(e.data);var n=this.groups[o];n&&n.add(e)||e.hide()}}}else if(!t){var r;var s=null;t=new f(null,null,this);this.groups[w]=t;for(i in this.items)if(this.items.hasOwnProperty(i)){e=this.items[i];t.add(e)}t.show()}};k.prototype.getLabelSet=function(){return this.dom.labelSet};k.prototype.setItems=function(t){var e=this,i,o=this.itemsData;if(t){if(!(t instanceof l||t instanceof u))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(o){d.forEach(this.itemListeners,function(t,e){o.off(e,t)});i=o.getIds();this._onRemove(i)}if(this.itemsData){var n=this.id;d.forEach(this.itemListeners,function(t,i){e.itemsData.on(i,t,n)});i=this.itemsData.getIds();this._onAdd(i);this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})};k.prototype.getItems=function(){return this.itemsData};k.prototype.setGroups=function(t){var e=this,i;if(this.groupsData){d.forEach(this.groupListeners,function(t,i){e.groupsData.off(i,t)});i=this.groupsData.getIds();this.groupsData=null;this._onRemoveGroups(i)}if(t){if(!(t instanceof l||t instanceof u))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var o=this.groupsData;this.groupsData instanceof u&&(o=this.groupsData.getDataSet());o.get().forEach(function(t){t.nestedGroups&&t.nestedGroups.forEach(function(e){var i=o.get(e);i.nestedInGroup=t.id;0==t.showNested&&(i.visible=!1);o.update(i)})});var n=this.id;d.forEach(this.groupListeners,function(t,i){e.groupsData.on(i,t,n)});i=this.groupsData.getIds();this._onAddGroups(i)}this._updateUngrouped();this._order();this.body.emitter.emit("_change",{queue:!0})};k.prototype.getGroups=function(){return this.groupsData};k.prototype.removeItem=function(t){var e=this.itemsData.get(t),i=this.itemsData.getDataSet();e&&this.options.onRemove(e,function(e){e&&i.remove(t)})};k.prototype._getType=function(t){return t.type||this.options.type||(t.end?"range":"box")};k.prototype._getGroupId=function(t){var e;return"background"==this._getType(t)&&void 0==t.group?x:this.groupsData?t.group:w};k.prototype._onUpdate=function(t){var e=this;t.forEach(function(t){var i=e.itemsData.get(t,e.itemOptions);var o=e.items[t];var n=i?e._getType(i):null;var r=k.types[n];var s;if(o)if(r&&o instanceof r)e._updateItem(o,i);else{s=o.selected;e._removeItem(o);o=null}if(!o&&i){if(!r)throw"rangeoverflow"==n?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+n+'"');(o=new r(i,e.conversion,e.options)).id=t;e._addItem(o);if(s){this.selection.push(t);o.select()}}}.bind(this));this._order();this.body.emitter.emit("_change",{queue:!0})};k.prototype._onAdd=k.prototype._onUpdate;k.prototype._onRemove=function(t){var e=0;var i=this;t.forEach(function(t){var o=i.items[t];if(o){e++;i._removeItem(o)}});if(e){this._order();this.body.emitter.emit("_change",{queue:!0})}};k.prototype._order=function(){d.forEach(this.groups,function(t){t.order()})};k.prototype._onUpdateGroups=function(t){this._onAddGroups(t)};k.prototype._onAddGroups=function(t){var e=this;t.forEach(function(t){var i=e.groupsData.get(t);var o=e.groups[t];if(o)o.setData(i);else{if(t==w||t==x)throw new Error("Illegal group id. "+t+" is a reserved id.");var r=(0,n["default"])(e.options);d.extend(r,{height:null});o=new f(t,i,e);e.groups[t]=o;for(var s in e.items)if(e.items.hasOwnProperty(s)){var a=e.items[s];a.data.group==t&&o.add(a)}o.order();o.show()}});this.body.emitter.emit("_change",{queue:!0})};k.prototype._onRemoveGroups=function(t){var e=this.groups;t.forEach(function(t){var i=e[t];if(i){i.hide();delete e[t]}});this.markDirty();this.body.emitter.emit("_change",{queue:!0})};k.prototype._orderGroups=function(){if(this.groupsData){var t=this.groupsData.getIds({order:this.options.groupOrder});t=this._orderNestedGroups(t);var e=!d.equalArray(t,this.groupIds);if(e){var i=this.groups;t.forEach(function(t){i[t].hide()});t.forEach(function(t){i[t].show()});this.groupIds=t}return e}return!1};k.prototype._orderNestedGroups=function(t){var e=[];t.forEach(function(t){var i=this.groupsData.get(t);i.nestedInGroup||e.push(t);if(i.nestedGroups){var o;var n=this.groupsData.get({filter:function e(i){return i.nestedInGroup==t},order:this.options.groupOrder}).map(function(t){return t.id});e=e.concat(n)}},this);return e};k.prototype._addItem=function(t){this.items[t.id]=t;var e=this._getGroupId(t.data);var i=this.groups[e];i?i&&i.data&&i.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1;i&&i.add(t)};k.prototype._updateItem=function(t,e){t.setData(e);var i=this._getGroupId(t.data);var o=this.groups[i];o?o&&o.data&&o.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1};k.prototype._removeItem=function(t){t.hide();delete this.items[t.id];var e=this.selection.indexOf(t.id);-1!=e&&this.selection.splice(e,1);t.parent&&t.parent.remove(t)};k.prototype._constructByEndArray=function(t){var e=[];for(var i=0;i<t.length;i++)t[i]instanceof y&&e.push(t[i]);return e};k.prototype._onTouch=function(t){this.touchParams.item=this.itemFromTarget(t);this.touchParams.dragLeftItem=t.target.dragLeftItem||!1;this.touchParams.dragRightItem=t.target.dragRightItem||!1;this.touchParams.itemProps=null};k.prototype._getGroupIndex=function(t){for(var e=0;e<this.groupIds.length;e++)if(t==this.groupIds[e])return e};k.prototype._onDragStart=function(t){if(this.touchParams.itemIsDragging)return;var e=this.touchParams.item||null;var i=this;var o;if(e&&(e.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;if(null!=e.editable&&!e.editable.updateTime&&!e.editable.updateGroup&&!this.options.editable.overrideItems)return;var n=this.touchParams.dragLeftItem;var r=this.touchParams.dragRightItem;this.touchParams.itemIsDragging=!0;this.touchParams.selectedItem=e;if(n){o={item:n,initialX:t.center.x,dragLeft:!0,data:this._cloneItemData(e.data)};this.touchParams.itemProps=[o]}else if(r){o={item:r,initialX:t.center.x,dragRight:!0,data:this._cloneItemData(e.data)};this.touchParams.itemProps=[o]}else if(this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey))this._onDragStartAddItem(t);else{this.groupIds.length<1&&this.redraw();var s=this._getGroupIndex(e.data.group);var a=this.options.itemsAlwaysDraggable.item&&!e.selected?[e.id]:this.getSelection();this.touchParams.itemProps=a.map(function(e){var o=i.items[e];var n=i._getGroupIndex(o.data.group);return{item:o,initialX:t.center.x,groupOffset:s-n,data:this._cloneItemData(o.data)}}.bind(this))}t.stopPropagation()}else this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey)&&this._onDragStartAddItem(t)};k.prototype._onDragStartAddItem=function(t){var e;var i;var o=this.options.snap||null;if(this.options.rtl)i=(e=d.getAbsoluteRight(this.dom.frame))-t.center.x+10;else{e=d.getAbsoluteLeft(this.dom.frame);i=t.center.x-e-10}var n=this.body.util.toTime(i);var r=this.body.util.getScale();var s=this.body.util.getStep();var a=o?o(n,r,s):n;var h;var l={type:"range",start:a,end:a,content:"new item"};var u=d.randomUUID();l[this.itemsData._fieldId]=u;var c=this.groupFromTarget(t);c&&(l.group=c.groupId);var p=new y(l,this.conversion,this.options);p.id=u;p.data=this._cloneItemData(l);this._addItem(p);this.touchParams.selectedItem=p;var f={item:p,initialX:t.center.x,data:p.data};this.options.rtl?f.dragLeft=!0:f.dragRight=!0;this.touchParams.itemProps=[f];t.stopPropagation()};k.prototype._onDrag=function(t){if(this.touchParams.itemProps){t.stopPropagation();var e=this;var i=this.options.snap||null;var o;o=this.options.rtl?this.body.dom.root.offsetLeft+this.body.domProps.right.width:this.body.dom.root.offsetLeft+this.body.domProps.left.width;var n=this.body.util.getScale();var r=this.body.util.getStep();var s=this.touchParams.selectedItem;var a=(this.options.editable.overrideItems||null==s.editable)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&null!=s.editable&&s.editable.updateGroup;var h=null;if(a&&s&&void 0!=s.data.group){var l=e.groupFromTarget(t);l&&(h=this._getGroupIndex(l.groupId))}this.touchParams.itemProps.forEach(function(l){var u=e.body.util.toTime(t.center.x-o);var c=e.body.util.toTime(l.initialX-o);var p;var f;var v;var m;var g;p=this.options.rtl?-(u-c):u-c;var y=this._cloneItemData(l.item.data);if(null!=l.item.editable&&!l.item.editable.updateTime&&!l.item.editable.updateGroup&&!e.options.editable.overrideItems)return;var b;if((this.options.editable.overrideItems||null==s.editable)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&null!=s.editable&&s.editable.updateTime)if(l.dragLeft){if(this.options.rtl){if(void 0!=y.end){v=d.convert(l.data.end,"Date");g=new Date(v.valueOf()+p);y.end=i?i(g,n,r):g}}else if(void 0!=y.start){f=d.convert(l.data.start,"Date");m=new Date(f.valueOf()+p);y.start=i?i(m,n,r):m}}else if(l.dragRight){if(this.options.rtl){if(void 0!=y.start){f=d.convert(l.data.start,"Date");m=new Date(f.valueOf()+p);y.start=i?i(m,n,r):m}}else if(void 0!=y.end){v=d.convert(l.data.end,"Date");g=new Date(v.valueOf()+p);y.end=i?i(g,n,r):g}}else if(void 0!=y.start){f=d.convert(l.data.start,"Date").valueOf();m=new Date(f+p);if(void 0!=y.end){var _=(v=d.convert(l.data.end,"Date")).valueOf()-f.valueOf();y.start=i?i(m,n,r):m;y.end=new Date(y.start.valueOf()+_)}else y.start=i?i(m,n,r):m}if(a&&!l.dragLeft&&!l.dragRight&&null!=h&&void 0!=y.group){var w=h-l.groupOffset;w=Math.max(0,w);w=Math.min(e.groupIds.length-1,w);y.group=e.groupIds[w]}y=this._cloneItemData(y);e.options.onMoving(y,function(t){t&&l.item.setData(this._cloneItemData(t,"Date"))}.bind(this))}.bind(this));this.body.emitter.emit("_change")}};k.prototype._moveToGroup=function(t,e){var i=this.groups[e];if(i&&i.groupId!=t.data.group){var o=t.parent;o.remove(t);o.order();t.data.group=i.groupId;i.add(t);i.order()}};k.prototype._onDragEnd=function(t){this.touchParams.itemIsDragging=!1;if(this.touchParams.itemProps){t.stopPropagation();var e=this;var i=this.itemsData.getDataSet();var o=this.touchParams.itemProps;this.touchParams.itemProps=null;o.forEach(function(t){var o=t.item.id;var n;if(null!=e.itemsData.get(o,e.itemOptions)){var r=this._cloneItemData(t.item.data);e.options.onMove(r,function(n){if(n){n[i._fieldId]=o;i.update(n)}else{t.item.setData(t.data);e.body.emitter.emit("_change")}})}else e.options.onAdd(t.item.data,function(i){e._removeItem(t.item);i&&e.itemsData.getDataSet().add(i);e.body.emitter.emit("_change")})}.bind(this))}};k.prototype._onGroupClick=function(t){var e=this.groupFromTarget(t);if(!e||!e.nestedGroups)return;var i=this.groupsData.getDataSet();var o=i.get(e.groupId);void 0==o.showNested&&(o.showNested=!0);o.showNested=!o.showNested;var n=i.get(e.nestedGroups).map(function(t){t.visible=o.showNested;return t});i.update(n.concat(o));if(o.showNested){d.removeClassName(e.dom.label,"collapsed");d.addClassName(e.dom.label,"expanded")}else{d.removeClassName(e.dom.label,"expanded");var r=this.options.rtl?"collapsed-rtl":"collapsed";d.addClassName(e.dom.label,r)}};k.prototype._onGroupDragStart=function(t){if(this.options.groupEditable.order){this.groupTouchParams.group=this.groupFromTarget(t);if(this.groupTouchParams.group){t.stopPropagation();this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})}}};k.prototype._onGroupDrag=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this.groupsData;this.groupsData instanceof u&&(e=this.groupsData.getDataSet());var i=this.groupFromTarget(t);if(i&&i.height!=this.groupTouchParams.group.height){var o=i.top<this.groupTouchParams.group.top;var n=t.center?t.center.y:t.clientY;var r=d.getAbsoluteTop(i.dom.foreground);var s=this.groupTouchParams.group.height;if(o){if(r+s<n)return}else{var a;if(r+i.height-s>n)return}}if(i&&i!=this.groupTouchParams.group){var h=e.get(i.groupId);var l=e.get(this.groupTouchParams.group.groupId);if(l&&h){this.options.groupOrderSwap(l,h,e);e.update(l);e.update(h)}var c=e.getIds({order:this.options.groupOrder});if(!d.equalArray(c,this.groupTouchParams.originalOrder)){var p=this.groupTouchParams.originalOrder;var f=this.groupTouchParams.group.groupId;var v=Math.min(p.length,c.length);var m=0;var g=0;var y=0;for(;m<v;){for(;m+g<v&&m+y<v&&c[m+g]==p[m+y];)m++;if(m+g>=v)break;if(c[m+g]==f)g=1;else if(p[m+y]==f)y=1;else{var b=c.indexOf(p[m+y]);var _=e.get(c[m+g]);var w=e.get(p[m+y]);this.options.groupOrderSwap(_,w,e);e.update(_);e.update(w);var x=c[m+g];c[m+g]=p[m+y];c[b]=x;m++}}}}}};k.prototype._onGroupDragEnd=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this;var i=e.groupTouchParams.group.groupId;var o=e.groupsData.getDataSet();var n=d.extend({},o.get(i));e.options.onMoveGroup(n,function(t){if(t){t[o._fieldId]=i;o.update(t)}else{var n=o.getIds({order:e.options.groupOrder});if(!d.equalArray(n,e.groupTouchParams.originalOrder)){var r=e.groupTouchParams.originalOrder;var s=Math.min(r.length,n.length);var a=0;for(;a<s;){for(;a<s&&n[a]==r[a];)a++;if(a>=s)break;var h=n.indexOf(r[a]);var l=o.get(n[a]);var u=o.get(r[a]);e.options.groupOrderSwap(l,u,o);o.update(l);o.update(u);var c=n[a];n[a]=r[a];n[h]=c;a++}}}});e.body.emitter.emit("groupDragged",{groupId:i})}};k.prototype._onSelectItem=function(t){if(!this.options.selectable)return;var e=t.srcEvent&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey);var i=t.srcEvent&&t.srcEvent.shiftKey;if(e||i){this._onMultiSelectItem(t);return}var o=this.getSelection();var n=this.itemFromTarget(t);var r=n?[n.id]:[];this.setSelection(r);var s=this.getSelection();(s.length>0||o.length>0)&&this.body.emitter.emit("select",{items:s,event:t})};k.prototype._onMouseOver=function(t){var e=this.itemFromTarget(t);if(!e)return;var i;if(e===this.itemFromRelatedTarget(t))return;var o=e.getTitle();if(this.options.showTooltips&&o){null==this.popup&&(this.popup=new _(this.body.dom.root,this.options.tooltip.overflowMethod||"flip"));this.popup.setText(o);var n=this.body.dom.centerContainer;this.popup.setPosition(t.clientX-d.getAbsoluteLeft(n)+n.offsetLeft,t.clientY-d.getAbsoluteTop(n)+n.offsetTop);this.popup.show()}else null!=this.popup&&this.popup.hide();this.body.emitter.emit("itemover",{item:e.id,event:t})};k.prototype._onMouseOut=function(t){var e=this.itemFromTarget(t);if(!e)return;var i;if(e===this.itemFromRelatedTarget(t))return;null!=this.popup&&this.popup.hide();this.body.emitter.emit("itemout",{item:e.id,event:t})};k.prototype._onMouseMove=function(t){var e;if(!this.itemFromTarget(t))return;if(this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden){var i=this.body.dom.centerContainer;this.popup.setPosition(t.clientX-d.getAbsoluteLeft(i)+i.offsetLeft,t.clientY-d.getAbsoluteTop(i)+i.offsetTop);this.popup.show()}};k.prototype._onMouseWheel=function(t){this.touchParams.itemIsDragging&&this._onDragEnd(t)};k.prototype._onUpdateItem=function(t){if(!this.options.selectable)return;if(!this.options.editable.add)return;var e=this;if(t){var i=e.itemsData.get(t.id);this.options.onUpdate(i,function(t){t&&e.itemsData.getDataSet().update(t)})}};k.prototype._onDropObjectOnItem=function(t){var e=this.itemFromTarget(t);var i=JSON.parse(t.dataTransfer.getData("text"));this.options.onDropObjectOnItem(i,e)};k.prototype._onAddItem=function(t){if(!this.options.selectable)return;if(!this.options.editable.add)return;var e=this;var i=this.options.snap||null;var o;var n;if(this.options.rtl)n=(o=d.getAbsoluteRight(this.dom.frame))-t.center.x;else{o=d.getAbsoluteLeft(this.dom.frame);n=t.center.x-o}var r=this.body.util.toTime(n);var s=this.body.util.getScale();var a=this.body.util.getStep();var h;var l;if("drop"==t.type){(l=JSON.parse(t.dataTransfer.getData("text"))).content=l.content?l.content:"new item";l.start=l.start?l.start:i?i(r,s,a):r;l.type=l.type||"box";l[this.itemsData._fieldId]=l.id||d.randomUUID();if("range"==l.type&&!l.end){h=this.body.util.toTime(n+this.props.width/5);l.end=i?i(h,s,a):h}}else{(l={start:i?i(r,s,a):r,content:"new item"})[this.itemsData._fieldId]=d.randomUUID();if("range"===this.options.type){h=this.body.util.toTime(n+this.props.width/5);l.end=i?i(h,s,a):h}}var u=this.groupFromTarget(t);u&&(l.group=u.groupId);l=this._cloneItemData(l);this.options.onAdd(l,function(i){if(i){e.itemsData.getDataSet().add(i);"drop"==t.type&&e.setSelection([i.id])}})};k.prototype._onMultiSelectItem=function(t){if(!this.options.selectable)return;var e=this.itemFromTarget(t);if(e){var i=this.options.multiselect?this.getSelection():[];var o;if((t.srcEvent&&t.srcEvent.shiftKey||!1)&&this.options.multiselect){var n=this.itemsData.get(e.id).group;var r=void 0;this.options.multiselectPerGroup&&i.length>0&&(r=this.itemsData.get(i[0]).group);this.options.multiselectPerGroup&&void 0!=r&&r!=n||i.push(e.id);var s=k._getItemRange(this.itemsData.get(i,this.itemOptions));if(!this.options.multiselectPerGroup||r==n){i=[];for(var a in this.items)if(this.items.hasOwnProperty(a)){var h=this.items[a];var d=h.data.start;var l=void 0!==h.data.end?h.data.end:d;!(d>=s.min&&l<=s.max)||this.options.multiselectPerGroup&&r!=this.itemsData.get(h.id).group||h instanceof b||i.push(h.id)}}}else{var u=i.indexOf(e.id);-1==u?i.push(e.id):i.splice(u,1)}this.setSelection(i);this.body.emitter.emit("select",{items:this.getSelection(),event:t})}};k._getItemRange=function(t){var e=null;var i=null;t.forEach(function(t){(null==i||t.start<i)&&(i=t.start);void 0!=t.end?(null==e||t.end>e)&&(e=t.end):(null==e||t.start>e)&&(e=t.start)});return{min:i,max:e}};k.prototype.itemFromElement=function(t){var e=t;for(;e;){if(e.hasOwnProperty("timeline-item"))return e["timeline-item"];e=e.parentNode}return null};k.prototype.itemFromTarget=function(t){return this.itemFromElement(t.target)};k.prototype.itemFromRelatedTarget=function(t){return this.itemFromElement(t.relatedTarget)};k.prototype.groupFromTarget=function(t){var e=t.center?t.center.y:t.clientY;var i=this.groupIds;i.length<=0&&this.groupsData&&(i=this.groupsData.getIds({order:this.options.groupOrder}));for(var o=0;o<i.length;o++){var n=i[o];var r=this.groups[n];var s=r.dom.foreground;var a=d.getAbsoluteTop(s);if(e>a&&e<a+s.offsetHeight)return r;if("top"===this.options.orientation.item){if(o===this.groupIds.length-1&&e>a)return r}else if(0===o&&e<a+s.offset)return r}return null};k.itemSetFromTarget=function(t){var e=t.target;for(;e;){if(e.hasOwnProperty("timeline-itemset"))return e["timeline-itemset"];e=e.parentNode}return null};k.prototype._cloneItemData=function(t,e){var i=d.extend({},t);e||(e=this.itemsData.getDataSet()._options.type);void 0!=i.start&&(i.start=d.convert(i.start,e&&e.start||"Date"));void 0!=i.end&&(i.end=d.convert(i.end,e&&e.end||"Date"));return i};t.exports=k},function(t,e,i){var o=.001;e.orderByStart=function(t){t.sort(function(t,e){return t.data.start-e.data.start})};e.orderByEnd=function(t){t.sort(function(t,e){var i,o;return("end"in t.data?t.data.end:t.data.start)-("end"in e.data?e.data.end:e.data.start)})};e.stack=function(t,i,o){if(o)for(var n=0;n<t.length;n++)t[n].top=null;for(var n=0;n<t.length;n++){var r=t[n];if(r.stack&&null===r.top){r.top=i.axis;do{var s=null;for(var a=0,h=t.length;a<h;a++){var d=t[a];if(null!==d.top&&d!==r&&d.stack&&e.collision(r,d,i.item,d.options.rtl)){s=d;break}}null!=s&&(r.top=s.top+s.height+i.item.vertical)}while(s)}}};e.substack=function(t,i,o){for(var n=0;n<t.length;n++)t[n].top=null;var r=o.height;for(n=0;n<t.length;n++){var s=t[n];if(s.stack&&null===s.top){s.top=s.baseTop;do{var a=null;for(var h=0,d=t.length;h<d;h++){var l=t[h];if(null!==l.top&&l!==s&&e.collision(s,l,i.item,l.options.rtl)){a=l;break}}null!=a&&(s.top=a.top+a.height+i.item.vertical);s.top+s.height>r&&(r=s.top+s.height)}while(a)}}o.height=r-o.top+.5*i.item.vertical};e.nostack=function(t,i,o,n){for(var r=0;r<t.length;r++)if(void 0==t[r].data.subgroup)t[r].top=i.item.vertical;else if(void 0!==t[r].data.subgroup&&n){var s=0;for(var a in o)if(o.hasOwnProperty(a)&&1==o[a].visible&&o[a].index<o[t[r].data.subgroup].index){s+=o[a].height;o[t[r].data.subgroup].top=s}t[r].top=s+.5*i.item.vertical}n||e.stackSubgroups(t,i,o)};e.stackSubgroups=function(t,i,o){for(var n in o)if(o.hasOwnProperty(n)){o[n].top=0;do{var r=null;for(var s in o)if(null!==o[s].top&&s!==n&&o[n].index>o[s].index&&e.collisionByTimes(o[n],o[s])){r=o[s];break}null!=r&&(o[n].top=r.top+r.height)}while(r)}for(var a=0;a<t.length;a++)void 0!==t[a].data.subgroup&&(t[a].top=o[t[a].data.subgroup].top+.5*i.item.vertical)};e.stackSubgroupsWithInnerStack=function(t,i,o){var n=!1;var r=[];for(var s in o)o[s].hasOwnProperty("index")?r[o[s].index]=s:r.push(s);for(var a=0;a<r.length;a++){s=r[a];if(o.hasOwnProperty(s)){n=n||o[s].stack;o[s].top=0;for(var h in o)o[h].visible&&o[s].index>o[h].index&&(o[s].top+=o[h].height);var d=t[s];for(var l=0;l<d.length;l++)if(void 0!==d[l].data.subgroup){d[l].top=o[d[l].data.subgroup].top+.5*i.item.vertical;o[s].stack&&(d[l].baseTop=d[l].top)}n&&o[s].stack&&e.substack(t[s],i,o[s])}}};e.collision=function(t,e,i,o){return o?t.right-i.horizontal+.001<e.right+e.width&&t.right+t.width+i.horizontal-.001>e.right&&t.top-i.vertical+.001<e.top+e.height&&t.top+t.height+i.vertical-.001>e.top:t.left-i.horizontal+.001<e.left+e.width&&t.left+t.width+i.horizontal-.001>e.left&&t.top-i.vertical+.001<e.top+e.height&&t.top+t.height+i.vertical-.001>e.top};e.collisionByTimes=function(t,e){return t.start<=e.start&&t.end>=e.start&&t.top<e.top+e.height&&t.top+t.height>e.top||e.start<=t.start&&e.end>=t.start&&e.top<t.top+t.height&&e.top+e.height>t.top}},function(t,e,i){var o=i(38);function n(t,e,i){this.props={dot:{width:0,height:0},line:{width:0,height:0}};this.options=i;if(t&&void 0==t.start)throw new Error('Property "start" missing in item '+t);o.call(this,t,e,i)}n.prototype=new o(null,null,null);n.prototype.isVisible=function(t){var e;var i=this.options.align;var o=this.width*t.getMillisecondsPerPixel();return e="right"==i?this.data.start.getTime()>t.start&&this.data.start.getTime()-o<t.end:"left"==i?this.data.start.getTime()+o>t.start&&this.data.start.getTime()<t.end:this.data.start.getTime()+o/2>t.start&&this.data.start.getTime()-o/2<t.end};n.prototype._createDomElement=function(){if(!this.dom){this.dom={};this.dom.box=document.createElement("DIV");this.dom.content=document.createElement("DIV");this.dom.content.className="vis-item-content";this.dom.box.appendChild(this.dom.content);this.dom.line=document.createElement("DIV");this.dom.line.className="vis-line";this.dom.dot=document.createElement("DIV");this.dom.dot.className="vis-dot";this.dom.box["timeline-item"]=this;this.dirty=!0}};n.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var i=this.parent.dom.axis;if(!e)throw new Error("Cannot redraw item: parent has no axis container element");i.appendChild(this.dom.dot)}this.displayed=!0};n.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content);this._updateDataAttributes(this.dom.box);this._updateStyle(this.dom.box);var t=this.editable.updateTime||this.editable.updateGroup;var e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box"+e;this.dom.line.className="vis-item vis-line"+e;this.dom.dot.className="vis-item vis-dot"+e}};n.prototype._getDomComponentsSizes=function(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}};n.prototype._updateDomComponentsSizes=function(t){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px";this.props.dot.height=t.dot.height;this.props.dot.width=t.dot.width;this.props.line.width=t.line.width;this.width=t.box.width;this.height=t.box.height;this.options.rtl?this.dom.box.style.right=t.previous.right:this.dom.box.style.left=t.previous.left;this.dirty=!1};n.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box);this._repaintDragCenter();this._repaintDeleteButton(this.dom.box)};n.prototype.redraw=function(t){var e;var i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];if(t)return i;var o;i.forEach(function(t){o=t()});return o};n.prototype.show=function(){this.displayed||this.redraw()};n.prototype.hide=function(){if(this.displayed){var t=this.dom;t.box.parentNode&&t.box.parentNode.removeChild(t.box);t.line.parentNode&&t.line.parentNode.removeChild(t.line);t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot);this.displayed=!1}};n.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start);var e=this.options.align;if("right"==e)if(this.options.rtl){this.right=t-this.width;this.dom.box.style.right=this.right+"px";this.dom.line.style.right=t-this.props.line.width+"px";this.dom.dot.style.right=t-this.props.line.width/2-this.props.dot.width/2+"px"}else{this.left=t-this.width;this.dom.box.style.left=this.left+"px";this.dom.line.style.left=t-this.props.line.width+"px";this.dom.dot.style.left=t-this.props.line.width/2-this.props.dot.width/2+"px"}else if("left"==e)if(this.options.rtl){this.right=t;this.dom.box.style.right=this.right+"px";this.dom.line.style.right=t+"px";this.dom.dot.style.right=t+this.props.line.width/2-this.props.dot.width/2+"px"}else{this.left=t;this.dom.box.style.left=this.left+"px";this.dom.line.style.left=t+"px";this.dom.dot.style.left=t+this.props.line.width/2-this.props.dot.width/2+"px"}else if(this.options.rtl){this.right=t-this.width/2;this.dom.box.style.right=this.right+"px";this.dom.line.style.right=t-this.props.line.width+"px";this.dom.dot.style.right=t-this.props.dot.width/2+"px"}else{this.left=t-this.width/2;this.dom.box.style.left=this.left+"px";this.dom.line.style.left=t-this.props.line.width/2+"px";this.dom.dot.style.left=t-this.props.dot.width/2+"px"}};n.prototype.repositionY=function(){var t=this.options.orientation.item;var e=this.dom.box;var i=this.dom.line;var o=this.dom.dot;if("top"==t){e.style.top=(this.top||0)+"px";i.style.top="0";i.style.height=this.parent.top+this.top+1+"px";i.style.bottom=""}else{var n=this.parent.itemSet.props.height;var r=n-this.parent.top-this.parent.height+this.top;e.style.top=(this.parent.height-this.top-this.height||0)+"px";i.style.top=n-r+"px";i.style.bottom="0"}o.style.top=-this.props.dot.height/2+"px"};n.prototype.getWidthLeft=function(){return this.width/2};n.prototype.getWidthRight=function(){return this.width/2};t.exports=n},function(t,e,i){var o=i(38);function n(t,e,i){this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}};this.options=i;if(t&&void 0==t.start)throw new Error('Property "start" missing in item '+t);o.call(this,t,e,i)}n.prototype=new o(null,null,null);n.prototype.isVisible=function(t){var e=this.width*t.getMillisecondsPerPixel();return this.data.start.getTime()+e>t.start&&this.data.start<t.end};n.prototype._createDomElement=function(){if(!this.dom){this.dom={};this.dom.point=document.createElement("div");this.dom.content=document.createElement("div");this.dom.content.className="vis-item-content";this.dom.point.appendChild(this.dom.content);this.dom.dot=document.createElement("div");this.dom.point.appendChild(this.dom.dot);this.dom.point["timeline-item"]=this;this.dirty=!0}};n.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){var t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.point)}this.displayed=!0};n.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content);this._updateDataAttributes(this.dom.point);this._updateStyle(this.dom.point);var t=this.editable.updateTime||this.editable.updateGroup;var e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point"+e;this.dom.dot.className="vis-item vis-dot"+e}};n.prototype._getDomComponentsSizes=function(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}};n.prototype._updateDomComponentsSizes=function(t){this.props.dot.width=t.dot.width;this.props.dot.height=t.dot.height;this.props.content.height=t.content.height;this.options.rtl?this.dom.content.style.marginRight=2*this.props.dot.width+"px":this.dom.content.style.marginLeft=2*this.props.dot.width+"px";this.width=t.point.width;this.height=t.point.height;this.dom.dot.style.top=(this.height-this.props.dot.height)/2+"px";this.options.rtl?this.dom.dot.style.right=this.props.dot.width/2+"px":this.dom.dot.style.left=this.props.dot.width/2+"px";this.dirty=!1};n.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.point);this._repaintDragCenter();this._repaintDeleteButton(this.dom.point)};n.prototype.redraw=function(t){var e;var i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];if(t)return i;var o;i.forEach(function(t){o=t()});return o};n.prototype.show=function(){this.displayed||this.redraw()};n.prototype.hide=function(){if(this.displayed){this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point);this.displayed=!1}};n.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start);if(this.options.rtl){this.right=t-this.props.dot.width;this.dom.point.style.right=this.right+"px"}else{this.left=t-this.props.dot.width;this.dom.point.style.left=this.left+"px"}};n.prototype.repositionY=function(){var t=this.options.orientation.item;var e=this.dom.point;e.style.top="top"==t?this.top+"px":this.parent.height-this.top-this.height+"px"};n.prototype.getWidthLeft=function(){return this.props.dot.width};n.prototype.getWidthRight=function(){return this.props.dot.width};t.exports=n},function(t,e,i){var o=i(38);var n=i(69);var r=i(70);function s(t,e,i){this.props={content:{width:0}};this.overflow=!1;if(t){if(void 0==t.start)throw new Error('Property "start" missing in item '+t.id);if(void 0==t.end)throw new Error('Property "end" missing in item '+t.id)}o.call(this,t,e,i)}s.prototype=new o(null,null,null);s.prototype.baseClassName="vis-item vis-background";s.prototype.stack=!1;s.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start};s.prototype._createDomElement=function(){if(!this.dom){this.dom={};this.dom.box=document.createElement("div");this.dom.frame=document.createElement("div");this.dom.frame.className="vis-item-overflow";this.dom.box.appendChild(this.dom.frame);this.dom.content=document.createElement("div");this.dom.content.className="vis-item-content";this.dom.frame.appendChild(this.dom.content);this.dirty=!0}};s.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var t=this.parent.dom.background;if(!t)throw new Error("Cannot redraw item: parent has no background container element");t.appendChild(this.dom.box)}this.displayed=!0};s.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content);this._updateDataAttributes(this.dom.content);this._updateStyle(this.dom.box);var t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");this.dom.box.className=this.baseClassName+t}};s.prototype._getDomComponentsSizes=function(){this.overflow="hidden"!==window.getComputedStyle(this.dom.content).overflow;return{content:{width:this.dom.content.offsetWidth}}};s.prototype._updateDomComponentsSizes=function(t){this.props.content.width=t.content.width;this.height=0;this.dirty=!1};s.prototype._repaintDomAdditionals=function(){};s.prototype.redraw=function(t){var e;var i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];if(t)return i;var o;i.forEach(function(t){o=t()});return o};s.prototype.show=r.prototype.show;s.prototype.hide=r.prototype.hide;s.prototype.repositionX=r.prototype.repositionX;s.prototype.repositionY=function(t){var e;var i=this.options.orientation.item;if(void 0!==this.data.subgroup){var o=this.data.subgroup;this.dom.box.style.height=this.parent.subgroups[o].height+"px";this.dom.box.style.top="top"==i?this.parent.top+this.parent.subgroups[o].top+"px":this.parent.top+this.parent.height-this.parent.subgroups[o].top-this.parent.subgroups[o].height+"px";this.dom.box.style.bottom=""}else if(this.parent instanceof n){e=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height);this.dom.box.style.bottom="bottom"==i?"0":"";this.dom.box.style.top="top"==i?"0":""}else{e=this.parent.height;this.dom.box.style.top=this.parent.top+"px";this.dom.box.style.bottom=""}this.dom.box.style.height=e+"px"};t.exports=s},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=a(i(0));var r;var s=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(e,i){(0,n["default"])(this,t);this.container=e;this.overflowMethod=i||"cap";this.x=0;this.y=0;this.padding=5;this.hidden=!1;this.frame=document.createElement("div");this.frame.className="vis-tooltip";this.container.appendChild(this.frame)}(0,s["default"])(t,[{key:"setPosition",value:function t(e,i){this.x=parseInt(e);this.y=parseInt(i)}},{key:"setText",value:function t(e){if(e instanceof Element){this.frame.innerHTML="";this.frame.appendChild(e)}else this.frame.innerHTML=e}},{key:"show",value:function t(e){void 0===e&&(e=!0);if(!0===e){var i=this.frame.clientHeight;var o=this.frame.clientWidth;var n=this.frame.parentNode.clientHeight;var r=this.frame.parentNode.clientWidth;var s=0,a=0;if("flip"==this.overflowMethod){var h=!1,d=!0;this.y-i<this.padding&&(d=!1);this.x+o>r-this.padding&&(h=!0);s=h?this.x-o:this.x;a=d?this.y-i:this.y}else{(a=this.y-i)+i+this.padding>n&&(a=n-i-this.padding);a<this.padding&&(a=this.padding);(s=this.x)+o+this.padding>r&&(s=r-o-this.padding);s<this.padding&&(s=this.padding)}this.frame.style.left=s+"px";this.frame.style.top=a+"px";this.frame.style.visibility="visible";this.hidden=!1}else this.hide()}},{key:"hide",value:function t(){this.hidden=!0;this.frame.style.left="0";this.frame.style.top="0";this.frame.style.visibility="hidden"}},{key:"destroy",value:function t(){this.frame.parentNode.removeChild(this.frame)}}]);return t}();e["default"]=h},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o="string";var n="boolean";var r="number";var s="array";var a="date";var h="object";var d;var l="moment";var u;var c={configure:{enabled:{boolean:n},filter:{boolean:n,function:"function"},container:{dom:"dom"},__type__:{object:h,boolean:n,function:"function"}},align:{string:o},rtl:{boolean:n,undefined:"undefined"},rollingMode:{follow:{boolean:n},offset:{number:r,undefined:"undefined"},__type__:{object:h}},verticalScroll:{boolean:n,undefined:"undefined"},horizontalScroll:{boolean:n,undefined:"undefined"},autoResize:{boolean:n},throttleRedraw:{number:r},clickToUse:{boolean:n},dataAttributes:{string:o,array:s},editable:{add:{boolean:n,undefined:"undefined"},remove:{boolean:n,undefined:"undefined"},updateGroup:{boolean:n,undefined:"undefined"},updateTime:{boolean:n,undefined:"undefined"},overrideItems:{boolean:n,undefined:"undefined"},__type__:{boolean:n,object:h}},end:{number:r,date:a,string:o,moment:l},format:{minorLabels:{millisecond:{string:o,undefined:"undefined"},second:{string:o,undefined:"undefined"},minute:{string:o,undefined:"undefined"},hour:{string:o,undefined:"undefined"},weekday:{string:o,undefined:"undefined"},day:{string:o,undefined:"undefined"},week:{string:o,undefined:"undefined"},month:{string:o,undefined:"undefined"},year:{string:o,undefined:"undefined"},__type__:{object:h,function:"function"}},majorLabels:{millisecond:{string:o,undefined:"undefined"},second:{string:o,undefined:"undefined"},minute:{string:o,undefined:"undefined"},hour:{string:o,undefined:"undefined"},weekday:{string:o,undefined:"undefined"},day:{string:o,undefined:"undefined"},week:{string:o,undefined:"undefined"},month:{string:o,undefined:"undefined"},year:{string:o,undefined:"undefined"},__type__:{object:h,function:"function"}},__type__:{object:h}},moment:{function:"function"},groupOrder:{string:o,function:"function"},groupEditable:{add:{boolean:n,undefined:"undefined"},remove:{boolean:n,undefined:"undefined"},order:{boolean:n,undefined:"undefined"},__type__:{boolean:n,object:h}},groupOrderSwap:{function:"function"},height:{string:o,number:r},hiddenDates:{start:{date:a,number:r,string:o,moment:l},end:{date:a,number:r,string:o,moment:l},repeat:{string:o},__type__:{object:h,array:s}},itemsAlwaysDraggable:{item:{boolean:n,undefined:"undefined"},range:{boolean:n,undefined:"undefined"},__type__:{boolean:n,object:h}},limitSize:{boolean:n},locale:{string:o},locales:{__any__:{any:"any"},__type__:{object:h}},margin:{axis:{number:r},item:{horizontal:{number:r,undefined:"undefined"},vertical:{number:r,undefined:"undefined"},__type__:{object:h,number:r}},__type__:{object:h,number:r}},max:{date:a,number:r,string:o,moment:l},maxHeight:{number:r,string:o},maxMinorChars:{number:r},min:{date:a,number:r,string:o,moment:l},minHeight:{number:r,string:o},moveable:{boolean:n},multiselect:{boolean:n},multiselectPerGroup:{boolean:n},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:o,undefined:"undefined"},item:{string:o,undefined:"undefined"},__type__:{string:o,object:h}},selectable:{boolean:n},showCurrentTime:{boolean:n},showMajorLabels:{boolean:n},showMinorLabels:{boolean:n},stack:{boolean:n},stackSubgroups:{boolean:n},snap:{function:"function",null:"null"},start:{date:a,number:r,string:o,moment:l},template:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:o,function:"function"},showTooltips:{boolean:n},tooltip:{followMouse:{boolean:n},overflowMethod:{string:["cap","flip"]},__type__:{object:h}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:n,object:h}},timeAxis:{scale:{string:o,undefined:"undefined"},step:{number:r,undefined:"undefined"},__type__:{object:h}},type:{string:o},width:{string:o,number:r},zoomable:{boolean:n},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:r},zoomMin:{number:r},__type__:{object:h}};var p={global:{align:["center","left","right"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}};e.allOptions=c;e.configureOptions=p},function(t,e,i){var o;var n=r(i(6));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(2);var a=i(14);var h=i(11);var d=i(12);var l=i(16);var u=i(107);var c=i(109);var p=i(112);var f=i(110);var v=i(111);var m=i(72);var g="__ungrouped__";function y(t,e){this.id=s.randomUUID();this.body=t;this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}};this.options=s.extend({},this.defaultOptions);this.dom={};this.props={};this.hammer=null;this.groups={};this.abortedGraphUpdate=!1;this.updateSVGheight=!1;this.updateSVGheightOnResize=!1;this.forceGraphUpdate=!0;var i=this;this.itemsData=null;this.groupsData=null;this.itemListeners={add:function t(e,o,n){i._onAdd(o.items)},update:function t(e,o,n){i._onUpdate(o.items)},remove:function t(e,o,n){i._onRemove(o.items)}};this.groupListeners={add:function t(e,o,n){i._onAddGroups(o.items)},update:function t(e,o,n){i._onUpdateGroups(o.items)},remove:function t(e,o,n){i._onRemoveGroups(o.items)}};this.items={};this.selection=[];this.lastStart=this.body.range.start;this.touchParams={};this.svgElements={};this.setOptions(e);this.groupsUsingDefaultStyles=[0];this.body.emitter.on("rangechanged",function(){i.lastStart=i.body.range.start;i.svg.style.left=s.option.asSize(-i.props.width);i.forceGraphUpdate=!0;i.redraw.call(i)});this._create();this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}y.prototype=new l;y.prototype._create=function(){var t=document.createElement("div");t.className="vis-line-graph";this.dom.frame=t;this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svg.style.position="relative";this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px";this.svg.style.display="block";t.appendChild(this.svg);this.options.dataAxis.orientation="left";this.yAxisLeft=new u(this.body,this.options.dataAxis,this.svg,this.options.groups);this.options.dataAxis.orientation="right";this.yAxisRight=new u(this.body,this.options.dataAxis,this.svg,this.options.groups);delete this.options.dataAxis.orientation;this.legendLeft=new p(this.body,this.options.legend,"left",this.options.groups);this.legendRight=new p(this.body,this.options.legend,"right",this.options.groups);this.show()};y.prototype.setOptions=function(t){if(t){var e=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];if(void 0===t.graphHeight&&void 0!==t.height){this.updateSVGheight=!0;this.updateSVGheightOnResize=!0}else void 0!==this.body.domProps.centerContainer.height&&void 0!==t.graphHeight&&parseInt((t.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0);s.selectiveDeepExtend(e,this.options,t);s.mergeOptions(this.options,t,"interpolation");s.mergeOptions(this.options,t,"drawPoints");s.mergeOptions(this.options,t,"shaded");s.mergeOptions(this.options,t,"legend");if(t.interpolation&&"object"==(0,n["default"])(t.interpolation)&&t.interpolation.parametrization)if("uniform"==t.interpolation.parametrization)this.options.interpolation.alpha=0;else if("chordal"==t.interpolation.parametrization)this.options.interpolation.alpha=1;else{this.options.interpolation.parametrization="centripetal";this.options.interpolation.alpha=.5}if(this.yAxisLeft&&void 0!==t.dataAxis){this.yAxisLeft.setOptions(this.options.dataAxis);this.yAxisRight.setOptions(this.options.dataAxis)}if(this.legendLeft&&void 0!==t.legend){this.legendLeft.setOptions(this.options.legend);this.legendRight.setOptions(this.options.legend)}this.groups.hasOwnProperty(g)&&this.groups[g].setOptions(t)}if(this.dom.frame){this.forceGraphUpdate=!0;this.body.emitter.emit("_change",{queue:!0})}};y.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};y.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};y.prototype.setItems=function(t){var e=this,i,o=this.itemsData;if(t){if(!(t instanceof h||t instanceof d))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(o){s.forEach(this.itemListeners,function(t,e){o.off(e,t)});i=o.getIds();this._onRemove(i)}if(this.itemsData){var n=this.id;s.forEach(this.itemListeners,function(t,i){e.itemsData.on(i,t,n)});i=this.itemsData.getIds();this._onAdd(i)}};y.prototype.setGroups=function(t){var e=this;var i;if(this.groupsData){s.forEach(this.groupListeners,function(t,i){e.groupsData.off(i,t)});i=this.groupsData.getIds();this.groupsData=null;for(var o=0;o<i.length;o++)this._removeGroup(i[o])}if(t){if(!(t instanceof h||t instanceof d))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var n=this.id;s.forEach(this.groupListeners,function(t,i){e.groupsData.on(i,t,n)});i=this.groupsData.getIds();this._onAddGroups(i)}};y.prototype._onUpdate=function(t){this._updateAllGroupData(t)};y.prototype._onAdd=function(t){this._onUpdate(t)};y.prototype._onRemove=function(t){this._onUpdate(t)};y.prototype._onUpdateGroups=function(t){this._updateAllGroupData(null,t)};y.prototype._onAddGroups=function(t){this._onUpdateGroups(t)};y.prototype._onRemoveGroups=function(t){for(var e=0;e<t.length;e++)this._removeGroup(t[e]);this.forceGraphUpdate=!0;this.body.emitter.emit("_change",{queue:!0})};y.prototype._removeGroup=function(t){if(this.groups.hasOwnProperty(t)){if("right"==this.groups[t].options.yAxisOrientation){this.yAxisRight.removeGroup(t);this.legendRight.removeGroup(t);this.legendRight.redraw()}else{this.yAxisLeft.removeGroup(t);this.legendLeft.removeGroup(t);this.legendLeft.redraw()}delete this.groups[t]}};y.prototype._updateGroup=function(t,e){if(this.groups.hasOwnProperty(e)){this.groups[e].update(t);if("right"==this.groups[e].options.yAxisOrientation){this.yAxisRight.updateGroup(e,this.groups[e]);this.legendRight.updateGroup(e,this.groups[e]);this.yAxisLeft.removeGroup(e);this.legendLeft.removeGroup(e)}else{this.yAxisLeft.updateGroup(e,this.groups[e]);this.legendLeft.updateGroup(e,this.groups[e]);this.yAxisRight.removeGroup(e);this.legendRight.removeGroup(e)}}else{this.groups[e]=new c(t,e,this.options,this.groupsUsingDefaultStyles);if("right"==this.groups[e].options.yAxisOrientation){this.yAxisRight.addGroup(e,this.groups[e]);this.legendRight.addGroup(e,this.groups[e])}else{this.yAxisLeft.addGroup(e,this.groups[e]);this.legendLeft.addGroup(e,this.groups[e])}}this.legendLeft.redraw();this.legendRight.redraw()};y.prototype._updateAllGroupData=function(t,e){if(null!=this.itemsData){var i={};var o=this.itemsData.get();var n=this.itemsData._fieldId;var r={};t&&t.map(function(t){r[t]=t});var a={};for(var h=0;h<o.length;h++){var d=o[h];var l=d.group;null!==l&&void 0!==l||(l=g);a.hasOwnProperty(l)?a[l]++:a[l]=1}var u={};if(!e&&t)for(l in this.groups)if(this.groups.hasOwnProperty(l)){var c=(m=this.groups[l]).getItems();i[l]=c.filter(function(t){u[t[n]]=t[n];return t[n]!==r[t[n]]});var p=a[l];a[l]-=i[l].length;i[l].length<p&&(i[l][p-1]={})}for(h=0;h<o.length;h++){null!==(l=(d=o[h]).group)&&void 0!==l||(l=g);if(!e&&t&&d[n]!==r[d[n]]&&u.hasOwnProperty(d[n]))continue;i.hasOwnProperty(l)||(i[l]=new Array(a[l]));var f=s.bridgeObject(d);f.x=s.convert(d.x,"Date");f.end=s.convert(d.end,"Date");f.orginalY=d.y;f.y=Number(d.y);f[n]=d[n];var v=i[l].length-a[l]--;i[l][v]=f}for(l in this.groups)this.groups.hasOwnProperty(l)&&(i.hasOwnProperty(l)||(i[l]=new Array(0)));for(l in i)if(i.hasOwnProperty(l))if(0==i[l].length)this.groups.hasOwnProperty(l)&&this._removeGroup(l);else{var m=void 0;void 0!=this.groupsData&&(m=this.groupsData.get(l));void 0==m&&(m={id:l,content:this.options.defaultGroup+l});this._updateGroup(m,l);this.groups[l].setItems(i[l])}this.forceGraphUpdate=!0;this.body.emitter.emit("_change",{queue:!0})}};y.prototype.redraw=function(){var t=!1;this.props.width=this.dom.frame.offsetWidth;this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom;t=this._isResized()||t;var e=this.body.range.end-this.body.range.start;var i=e!=this.lastVisibleInterval;this.lastVisibleInterval=e;if(1==t){this.svg.style.width=s.option.asSize(3*this.props.width);this.svg.style.left=s.option.asSize(-this.props.width);-1==(this.options.height+"").indexOf("%")&&1!=this.updateSVGheightOnResize||(this.updateSVGheight=!0)}if(1==this.updateSVGheight){if(this.options.graphHeight!=this.props.height+"px"){this.options.graphHeight=this.props.height+"px";this.svg.style.height=this.props.height+"px"}this.updateSVGheight=!1}else this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px";if(1==t||1==i||1==this.abortedGraphUpdate||1==this.forceGraphUpdate){t=this._updateGraph()||t;this.forceGraphUpdate=!1}else if(0!=this.lastStart){var o=this.body.range.start-this.lastStart;var n=this.body.range.end-this.body.range.start;if(0!=this.props.width){var r;var a=o*(this.props.width/n);this.svg.style.left=-this.props.width-a+"px"}}this.legendLeft.redraw();this.legendRight.redraw();return t};y.prototype._getSortedGroupIds=function(){var t=[];for(var e in this.groups)if(this.groups.hasOwnProperty(e)){var i=this.groups[e];1!=i.visible||void 0!==this.options.groups.visibility[e]&&1!=this.options.groups.visibility[e]||t.push({id:e,zIndex:i.options.zIndex})}s.insertSort(t,function(t,e){var i=t.zIndex;var o=e.zIndex;void 0===i&&(i=0);void 0===o&&(o=0);return i==o?0:i<o?-1:1});var o=new Array(t.length);for(var n=0;n<t.length;n++)o[n]=t[n].id;return o};y.prototype._updateGraph=function(){a.prepareElements(this.svgElements);if(0!=this.props.width&&null!=this.itemsData){var t,e;var i={};var o=!1;var n=this.body.util.toGlobalTime(-this.body.domProps.root.width);var r=this.body.util.toGlobalTime(2*this.body.domProps.root.width);var s=this._getSortedGroupIds();if(s.length>0){var h={};this._getRelevantData(s,h,n,r);this._applySampling(s,h);for(e=0;e<s.length;e++)this._convertXcoordinates(h[s[e]]);this._getYRanges(s,h,i);if(1==(o=this._updateYAxis(s,i))){a.cleanupElements(this.svgElements);this.abortedGraphUpdate=!0;return!0}this.abortedGraphUpdate=!1;var d=void 0;for(e=0;e<s.length;e++){t=this.groups[s[e]];if(!0===this.options.stack&&"line"===this.options.style&&(void 0==t.options.excludeFromStacking||!t.options.excludeFromStacking)){if(void 0!=d){this._stack(h[t.id],h[d.id]);if(1==t.options.shaded.enabled&&"group"!==t.options.shaded.orientation)if("top"==t.options.shaded.orientation&&"group"!==d.options.shaded.orientation){d.options.shaded.orientation="group";d.options.shaded.groupId=t.id}else{t.options.shaded.orientation="group";t.options.shaded.groupId=d.id}}d=t}this._convertYcoordinates(h[s[e]],t)}var l={};for(e=0;e<s.length;e++)if("line"===(t=this.groups[s[e]]).options.style&&1==t.options.shaded.enabled){var u=h[s[e]];if(null==u||0==u.length)continue;l.hasOwnProperty(s[e])||(l[s[e]]=v.calcPath(u,t));if("group"===t.options.shaded.orientation){var c=t.options.shaded.groupId;if(-1===s.indexOf(c)){console.log(t.id+": Unknown shading group target given:"+c);continue}l.hasOwnProperty(c)||(l[c]=v.calcPath(h[c],this.groups[c]));v.drawShading(l[s[e]],t,l[c],this.framework)}else v.drawShading(l[s[e]],t,void 0,this.framework)}f.draw(s,h,this.framework);for(e=0;e<s.length;e++){t=this.groups[s[e]];if(h[s[e]].length>0)switch(t.options.style){case"line":l.hasOwnProperty(s[e])||(l[s[e]]=v.calcPath(h[s[e]],t));v.draw(l[s[e]],t,this.framework);case"point":case"points":"point"!=t.options.style&&"points"!=t.options.style&&1!=t.options.drawPoints.enabled||m.draw(h[s[e]],t,this.framework)}}}}a.cleanupElements(this.svgElements);return!1};y.prototype._stack=function(t,e){var i,o,n,r,s;i=0;for(var a=0;a<t.length;a++){r=void 0;s=void 0;for(var h=i;h<e.length;h++){if(e[h].x===t[a].x){r=e[h];s=e[h];i=h;break}if(e[h].x>t[a].x){s=e[h];r=0==h?s:e[h-1];i=h;break}}if(void 0===s){r=e[e.length-1];s=e[e.length-1]}o=s.x-r.x;n=s.y-r.y;t[a].y=0==o?t[a].orginalY+s.y:t[a].orginalY+n/o*(t[a].x-r.x)+r.y}};y.prototype._getRelevantData=function(t,e,i,o){var n,r,a,h;if(t.length>0)for(r=0;r<t.length;r++){var d=(n=this.groups[t[r]]).getItems();if(1==n.options.sort){var l=function t(e,i){return e.getTime()==i.getTime()?0:e<i?-1:1};var u=Math.max(0,s.binarySearchValue(d,i,"x","before",l));var c=Math.min(d.length,s.binarySearchValue(d,o,"x","after",l)+1);c<=0&&(c=d.length);var p=new Array(c-u);for(a=u;a<c;a++){h=n.itemsData[a];p[a-u]=h}e[t[r]]=p}else e[t[r]]=n.itemsData}};y.prototype._applySampling=function(t,e){var i;if(t.length>0)for(var o=0;o<t.length;o++)if(1==(i=this.groups[t[o]]).options.sampling){var n=e[t[o]];if(n.length>0){var r=1;var s=n.length;var a;var h=s/(this.body.util.toGlobalScreen(n[n.length-1].x)-this.body.util.toGlobalScreen(n[0].x));r=Math.min(Math.ceil(.2*s),Math.max(1,Math.round(h)));var d=new Array(s);for(var l=0;l<s;l+=r){var u;d[Math.round(l/r)]=n[l]}e[t[o]]=d.splice(0,Math.round(s/r))}}};y.prototype._getYRanges=function(t,e,i){var o,n,r;var s=[];var a=[];var h;if(t.length>0){for(r=0;r<t.length;r++){o=e[t[r]];h=this.groups[t[r]].options;if(o.length>0){n=this.groups[t[r]];!0===h.stack&&"bar"===h.style?"left"===h.yAxisOrientation?s=s.concat(o):a=a.concat(o):i[t[r]]=n.getYRange(o,t[r])}}f.getStackedYRange(s,i,t,"__barStackLeft","left");f.getStackedYRange(a,i,t,"__barStackRight","right")}};y.prototype._updateYAxis=function(t,e){var i=!1;var o=!1;var n=!1;var r=1e9,s=1e9,a=-1e9,h=-1e9,d,l;if(t.length>0){for(var u=0;u<t.length;u++){var c=this.groups[t[u]];if(c&&"right"!=c.options.yAxisOrientation){o=!0;r=1e9;a=-1e9}else if(c&&c.options.yAxisOrientation){n=!0;s=1e9;h=-1e9}}for(u=0;u<t.length;u++)if(e.hasOwnProperty(t[u])&&!0!==e[t[u]].ignore){d=e[t[u]].min;l=e[t[u]].max;if("right"!=e[t[u]].yAxisOrientation){o=!0;r=r>d?d:r;a=a<l?l:a}else{n=!0;s=s>d?d:s;h=h<l?l:h}}1==o&&this.yAxisLeft.setRange(r,a);1==n&&this.yAxisRight.setRange(s,h)}i=this._toggleAxisVisiblity(o,this.yAxisLeft)||i;i=this._toggleAxisVisiblity(n,this.yAxisRight)||i;if(1==n&&1==o){this.yAxisLeft.drawIcons=!0;this.yAxisRight.drawIcons=!0}else{this.yAxisLeft.drawIcons=!1;this.yAxisRight.drawIcons=!1}this.yAxisRight.master=!o;this.yAxisRight.masterAxis=this.yAxisLeft;if(0==this.yAxisRight.master){this.yAxisLeft.lineOffset=1==n?this.yAxisRight.width:0;i=this.yAxisLeft.redraw()||i;i=this.yAxisRight.redraw()||i}else i=this.yAxisRight.redraw()||i;var p=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(u=0;u<p.length;u++)-1!=t.indexOf(p[u])&&t.splice(t.indexOf(p[u]),1);return i};y.prototype._toggleAxisVisiblity=function(t,e){var i=!1;if(0==t){if(e.dom.frame.parentNode&&0==e.hidden){e.hide();i=!0}}else if(!e.dom.frame.parentNode&&1==e.hidden){e.show();i=!0}return i};y.prototype._convertXcoordinates=function(t){var e=this.body.util.toScreen;for(var i=0;i<t.length;i++){t[i].screen_x=e(t[i].x)+this.props.width;t[i].screen_y=t[i].y;void 0!=t[i].end?t[i].screen_end=e(t[i].end)+this.props.width:t[i].screen_end=void 0}};y.prototype._convertYcoordinates=function(t,e){var i=this.yAxisLeft;var o=Number(this.svg.style.height.replace("px",""));"right"==e.options.yAxisOrientation&&(i=this.yAxisRight);for(var n=0;n<t.length;n++)t[n].screen_y=Math.round(i.convertValue(t[n].y));e.setZeroPosition(Math.min(o,i.convertValue(0)))};t.exports=y},function(t,e,i){var o;var n=r(i(8));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(2);var a=i(14);var h=i(16);var d=i(108);function l(t,e,i,o){this.id=s.randomUUID();this.body=t;this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function t(e){return""+parseFloat(e.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function t(e){return""+parseFloat(e.toPrecision(3))},title:{text:void 0,style:void 0}}};this.linegraphOptions=o;this.linegraphSVG=i;this.props={};this.DOMelements={lines:{},labels:{},title:{}};this.dom={};this.scale=void 0;this.range={start:0,end:0};this.options=s.extend({},this.defaultOptions);this.conversionFactor=1;this.setOptions(e);this.width=Number((""+this.options.width).replace("px",""));this.minWidth=this.width;this.height=this.linegraphSVG.getBoundingClientRect().height;this.hidden=!1;this.stepPixels=25;this.zeroCrossing=-1;this.amountOfSteps=-1;this.lineOffset=0;this.master=!0;this.masterAxis=null;this.svgElements={};this.iconsRemoved=!1;this.groups={};this.amountOfGroups=0;this._create();this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var n=this;this.body.emitter.on("verticalDrag",function(){n.dom.lineContainer.style.top=n.body.domProps.scrollTop+"px"})}l.prototype=new h;l.prototype.addGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.groups[t]=e);this.amountOfGroups+=1};l.prototype.updateGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.amountOfGroups+=1);this.groups[t]=e};l.prototype.removeGroup=function(t){if(this.groups.hasOwnProperty(t)){delete this.groups[t];this.amountOfGroups-=1}};l.prototype.setOptions=function(t){if(t){var e=!1;this.options.orientation!=t.orientation&&void 0!==t.orientation&&(e=!0);var i=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];s.selectiveDeepExtend(i,this.options,t);this.minWidth=Number((""+this.options.width).replace("px",""));if(!0===e&&this.dom.frame){this.hide();this.show()}}};l.prototype._create=function(){this.dom.frame=document.createElement("div");this.dom.frame.style.width=this.options.width;this.dom.frame.style.height=this.height;this.dom.lineContainer=document.createElement("div");this.dom.lineContainer.style.width="100%";this.dom.lineContainer.style.height=this.height;this.dom.lineContainer.style.position="relative";this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svg.style.position="absolute";this.svg.style.top="0px";this.svg.style.height="100%";this.svg.style.width="100%";this.svg.style.display="block";this.dom.frame.appendChild(this.svg)};l.prototype._redrawGroupIcons=function(){a.prepareElements(this.svgElements);var t;var e=this.options.iconWidth;var i=15;var o=4;var r=11.5;t="left"===this.options.orientation?4:this.width-e-4;var s=(0,n["default"])(this.groups);s.sort(function(t,e){return t<e?-1:1});for(var h=0;h<s.length;h++){var d=s[h];if(!0===this.groups[d].visible&&(void 0===this.linegraphOptions.visibility[d]||!0===this.linegraphOptions.visibility[d])){this.groups[d].getLegend(e,15,this.framework,t,r);r+=19}}a.cleanupElements(this.svgElements);this.iconsRemoved=!1};l.prototype._cleanupIcons=function(){if(!1===this.iconsRemoved){a.prepareElements(this.svgElements);a.cleanupElements(this.svgElements);this.iconsRemoved=!0}};l.prototype.show=function(){this.hidden=!1;this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame));this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)};l.prototype.hide=function(){this.hidden=!0;this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame);this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)};l.prototype.setRange=function(t,e){this.range.start=t;this.range.end=e};l.prototype.redraw=function(){var t=!1;var e=0;this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px";for(var i in this.groups)this.groups.hasOwnProperty(i)&&(!0!==this.groups[i].visible||void 0!==this.linegraphOptions.visibility[i]&&!0!==this.linegraphOptions.visibility[i]||e++);if(0===this.amountOfGroups||0===e)this.hide();else{this.show();this.height=Number(this.linegraphSVG.style.height.replace("px",""));this.dom.lineContainer.style.height=this.height+"px";this.width=!0===this.options.visible?Number((""+this.options.width).replace("px","")):0;var o=this.props;var n=this.dom.frame;n.className="vis-data-axis";this._calculateCharSize();var r=this.options.orientation;var s=this.options.showMinorLabels;var a=this.options.showMajorLabels;o.minorLabelHeight=s?o.minorCharHeight:0;o.majorLabelHeight=a?o.majorCharHeight:0;o.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset;o.minorLineHeight=1;o.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset;o.majorLineHeight=1;if("left"===r){n.style.top="0";n.style.left="0";n.style.bottom="";n.style.width=this.width+"px";n.style.height=this.height+"px";this.props.width=this.body.domProps.left.width;this.props.height=this.body.domProps.left.height}else{n.style.top="";n.style.bottom="0";n.style.left="0";n.style.width=this.width+"px";n.style.height=this.height+"px";this.props.width=this.body.domProps.right.width;this.props.height=this.body.domProps.right.height}t=this._redrawLabels();t=this._isResized()||t;!0===this.options.icons?this._redrawGroupIcons():this._cleanupIcons();this._redrawTitle(r)}return t};l.prototype._redrawLabels=function(){var t=this;var e=!1;a.prepareElements(this.DOMelements.lines);a.prepareElements(this.DOMelements.labels);var i=this.options["orientation"];var o=void 0!=this.options[i].range?this.options[i].range:{};var n=!0;if(void 0!=o.max){this.range.end=o.max;n=!1}var r=!0;if(void 0!=o.min){this.range.start=o.min;r=!1}this.scale=new d(this.range.start,this.range.end,r,n,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[i].format);!1===this.master&&void 0!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale);this.maxLabelSize=0;var s;this.scale.getLines().forEach(function(e){var o=e.y;var n=e.major;t.options["showMinorLabels"]&&!1===n&&t._redrawLabel(o-2,e.val,i,"vis-y-axis vis-minor",t.props.minorCharHeight);n&&o>=0&&t._redrawLabel(o-2,e.val,i,"vis-y-axis vis-major",t.props.majorCharHeight);!0===t.master&&(n?t._redrawLine(o,i,"vis-grid vis-horizontal vis-major",t.options.majorLinesOffset,t.props.majorLineWidth):t._redrawLine(o,i,"vis-grid vis-horizontal vis-minor",t.options.minorLinesOffset,t.props.minorLineWidth))});var h=0;void 0!==this.options[i].title&&void 0!==this.options[i].title.text&&(h=this.props.titleCharHeight);var l=!0===this.options.icons?Math.max(this.options.iconWidth,h)+this.options.labelOffsetX+15:h+this.options.labelOffsetX+15;if(this.maxLabelSize>this.width-l&&!0===this.options.visible){this.width=this.maxLabelSize+l;this.options.width=this.width+"px";a.cleanupElements(this.DOMelements.lines);a.cleanupElements(this.DOMelements.labels);this.redraw();e=!0}else if(this.maxLabelSize<this.width-l&&!0===this.options.visible&&this.width>this.minWidth){this.width=Math.max(this.minWidth,this.maxLabelSize+l);this.options.width=this.width+"px";a.cleanupElements(this.DOMelements.lines);a.cleanupElements(this.DOMelements.labels);this.redraw();e=!0}else{a.cleanupElements(this.DOMelements.lines);a.cleanupElements(this.DOMelements.labels);e=!1}return e};l.prototype.convertValue=function(t){return this.scale.convertValue(t)};l.prototype.screenToValue=function(t){return this.scale.screenToValue(t)};l.prototype._redrawLabel=function(t,e,i,o,n){var r=a.getDOMElement("div",this.DOMelements.labels,this.dom.frame);r.className=o;r.innerHTML=e;if("left"===i){r.style.left="-"+this.options.labelOffsetX+"px";r.style.textAlign="right"}else{r.style.right="-"+this.options.labelOffsetX+"px";r.style.textAlign="left"}r.style.top=t-.5*n+this.options.labelOffsetY+"px";e+="";var s=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<e.length*s&&(this.maxLabelSize=e.length*s)};l.prototype._redrawLine=function(t,e,i,o,n){if(!0===this.master){var r=a.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);r.className=i;r.innerHTML="";"left"===e?r.style.left=this.width-o+"px":r.style.right=this.width-o+"px";r.style.width=n+"px";r.style.top=t+"px"}};l.prototype._redrawTitle=function(t){a.prepareElements(this.DOMelements.title);if(void 0!==this.options[t].title&&void 0!==this.options[t].title.text){var e=a.getDOMElement("div",this.DOMelements.title,this.dom.frame);e.className="vis-y-axis vis-title vis-"+t;e.innerHTML=this.options[t].title.text;void 0!==this.options[t].title.style&&s.addCssText(e,this.options[t].title.style);"left"===t?e.style.left=this.props.titleCharHeight+"px":e.style.right=this.props.titleCharHeight+"px";e.style.width=this.height+"px"}a.cleanupElements(this.DOMelements.title)};l.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var t=document.createTextNode("0");var e=document.createElement("div");e.className="vis-y-axis vis-minor vis-measure";e.appendChild(t);this.dom.frame.appendChild(e);this.props.minorCharHeight=e.clientHeight;this.props.minorCharWidth=e.clientWidth;this.dom.frame.removeChild(e)}if(!("majorCharHeight"in this.props)){var i=document.createTextNode("0");var o=document.createElement("div");o.className="vis-y-axis vis-major vis-measure";o.appendChild(i);this.dom.frame.appendChild(o);this.props.majorCharHeight=o.clientHeight;this.props.majorCharWidth=o.clientWidth;this.dom.frame.removeChild(o)}if(!("titleCharHeight"in this.props)){var n=document.createTextNode("0");var r=document.createElement("div");r.className="vis-y-axis vis-title vis-measure";r.appendChild(n);this.dom.frame.appendChild(r);this.props.titleCharHeight=r.clientHeight;this.props.titleCharWidth=r.clientWidth;this.dom.frame.removeChild(r)}};t.exports=l},function(t,e,i){function o(t,e,i,o,n,r){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];var a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.majorSteps=[1,2,5,10];this.minorSteps=[.25,.5,1,2];this.customLines=null;this.containerHeight=n;this.majorCharHeight=r;this._start=t;this._end=e;this.scale=1;this.minorStepIdx=-1;this.magnitudefactor=1;this.determineScale();this.zeroAlign=s;this.autoScaleStart=i;this.autoScaleEnd=o;this.formattingFunction=a;if(i||o){var h=this;var d=function t(e){var i=e-e%(h.magnitudefactor*h.minorSteps[h.minorStepIdx]);return e%(h.magnitudefactor*h.minorSteps[h.minorStepIdx])>h.magnitudefactor*h.minorSteps[h.minorStepIdx]*.5?i+h.magnitudefactor*h.minorSteps[h.minorStepIdx]:i};if(i){this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx];this._start=d(this._start)}if(o){this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx];this._end=d(this._end)}this.determineScale()}}o.prototype.setCharHeight=function(t){this.majorCharHeight=t};o.prototype.setHeight=function(t){this.containerHeight=t};o.prototype.determineScale=function(){var t=this._end-this._start;this.scale=this.containerHeight/t;var e=this.majorCharHeight/this.scale;var i=t>0?Math.round(Math.log(t)/Math.LN10):0;this.minorStepIdx=-1;this.magnitudefactor=Math.pow(10,i);var o=0;i<0&&(o=i);var n=!1;for(var r=o;Math.abs(r)<=Math.abs(i);r++){this.magnitudefactor=Math.pow(10,r);for(var s=0;s<this.minorSteps.length;s++){var a;if(this.magnitudefactor*this.minorSteps[s]>=e){n=!0;this.minorStepIdx=s;break}}if(!0===n)break}};o.prototype.is_major=function(t){return t%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])==0};o.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]};o.prototype.getFirstMajor=function(){var t=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(t-this._start%t)%t)};o.prototype.formatValue=function(t){var e=t.toPrecision(5);"function"==typeof this.formattingFunction&&(e=this.formattingFunction(t));return"number"==typeof e?""+e:"string"==typeof e?e:t.toPrecision(5)};o.prototype.getLines=function(){var t=[];var e=this.getStep();var i=(e-this._start%e)%e;for(var o=this._start+i;this._end-o>1e-5;o+=e)o!=this._start&&t.push({major:this.is_major(o),y:this.convertValue(o),val:this.formatValue(o)});return t};o.prototype.followScale=function(t){var e=this.minorStepIdx;var i=this._start;var o=this._end;var n=this;var r=function t(){n.magnitudefactor*=2};var s=function t(){n.magnitudefactor/=2};if(t.minorStepIdx<=1&&this.minorStepIdx<=1||t.minorStepIdx>1&&this.minorStepIdx>1);else if(t.minorStepIdx<this.minorStepIdx){this.minorStepIdx=1;if(2==e)r();else{r();r()}}else{this.minorStepIdx=2;if(1==e)s();else{s();s()}}var a=t.convertValue(0);var h=t.getStep()*t.scale;var d=!1;var l=0;for(;!d&&l++<5;){this.scale=h/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var u=this.containerHeight/this.scale;this._start=i;this._end=this._start+u;var c=this._end*this.scale;var p=this.magnitudefactor*this.majorSteps[this.minorStepIdx];var f=this.getFirstMajor()-t.getFirstMajor();if(this.zeroAlign){var v=a-c;this._end+=v/this.scale;this._start=this._end-u}else if(this.autoScaleStart){this._start-=f/this.scale;this._end=this._start+u}else{this._start+=p-f/this.scale;this._end=this._start+u}if(!this.autoScaleEnd&&this._end>o+1e-5){s();d=!1;continue}if(!this.autoScaleStart&&this._start<i-1e-5){if(!(this.zeroAlign&&i>=0)){s();d=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}if(this.autoScaleStart&&this.autoScaleEnd&&u<o-i){r();d=!1;continue}d=!0}};o.prototype.convertValue=function(t){return this.containerHeight-(t-this._start)*this.scale};o.prototype.screenToValue=function(t){return(this.containerHeight-t)/this.scale+this._start};t.exports=o},function(t,e,i){var o;var n=r(i(6));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(2);var a=i(110);var h=i(111);var d=i(72);function l(t,e,i,o){this.id=e;var n=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"];this.options=s.selectiveBridgeObject(n,i);this.usingDefaultStyle=void 0===t.className;this.groupsUsingDefaultStyles=o;this.zeroPosition=0;this.update(t);1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1);this.itemsData=[];this.visible=void 0===t.visible||t.visible}l.prototype.setItems=function(t){if(null!=t){this.itemsData=t;1==this.options.sort&&s.insertSort(this.itemsData,function(t,e){return t.x>e.x?1:-1})}else this.itemsData=[]};l.prototype.getItems=function(){return this.itemsData};l.prototype.setZeroPosition=function(t){this.zeroPosition=t};l.prototype.setOptions=function(t){if(void 0!==t){var e=["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"];s.selectiveDeepExtend(e,this.options,t);"function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints});s.mergeOptions(this.options,t,"interpolation");s.mergeOptions(this.options,t,"drawPoints");s.mergeOptions(this.options,t,"shaded");if(t.interpolation&&"object"==(0,n["default"])(t.interpolation)&&t.interpolation.parametrization)if("uniform"==t.interpolation.parametrization)this.options.interpolation.alpha=0;else if("chordal"==t.interpolation.parametrization)this.options.interpolation.alpha=1;else{this.options.interpolation.parametrization="centripetal";this.options.interpolation.alpha=.5}}};l.prototype.update=function(t){this.group=t;this.content=t.content||"graph";this.className=t.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10;this.visible=void 0===t.visible||t.visible;this.style=t.style;this.setOptions(t.options)};l.prototype.getLegend=function(t,e,i,o,n){if(void 0==i||null==i){var r;i={svg:document.createElementNS("http://www.w3.org/2000/svg","svg"),svgElements:{},options:this.options,groups:[this]}}void 0!=o&&null!=o||(o=0);void 0!=n&&null!=n||(n=.5*e);switch(this.options.style){case"line":h.drawIcon(this,o,n,t,e,i);break;case"points":case"point":d.drawIcon(this,o,n,t,e,i);break;case"bar":a.drawIcon(this,o,n,t,e,i)}return{icon:i.svg,label:this.content,orientation:this.options.yAxisOrientation}};l.prototype.getYRange=function(t){var e=t[0].y;var i=t[0].y;for(var o=0;o<t.length;o++){e=e>t[o].y?t[o].y:e;i=i<t[o].y?t[o].y:i}return{min:e,max:i,yAxisOrientation:this.options.yAxisOrientation}};t.exports=l},function(t,e,i){var o=i(14);var n=i(72);function r(t,e){}r.drawIcon=function(t,e,i,n,r,s){var a=.5*r;var h=o.getSVGElement("rect",s.svgElements,s.svg);h.setAttributeNS(null,"x",e);h.setAttributeNS(null,"y",i-a);h.setAttributeNS(null,"width",n);h.setAttributeNS(null,"height",2*a);h.setAttributeNS(null,"class","vis-outline");var d=Math.round(.3*n);var l;var u=t.options.barChart.width/d;var c=Math.round(.4*r);var p=Math.round(.75*r);var f=Math.round((n-2*d)/3);o.drawBar(e+.5*d+f,i+a-c-1,d,c,t.className+" vis-bar",s.svgElements,s.svg,t.style);o.drawBar(e+1.5*d+f+2,i+a-p-1,d,p,t.className+" vis-bar",s.svgElements,s.svg,t.style);if(1==t.options.drawPoints.enabled){var v={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size/u,className:t.className};o.drawPoint(e+.5*d+f,i+a-c-1,v,s.svgElements,s.svg);o.drawPoint(e+1.5*d+f+2,i+a-p-1,v,s.svgElements,s.svg)}};r.draw=function(t,e,i){var s=[];var a={};var h;var d,l;var u;var c,p;var f=0;for(c=0;c<t.length;c++)if("bar"===(u=i.groups[t[c]]).options.style&&!0===u.visible&&(void 0===i.options.groups.visibility[t[c]]||!0===i.options.groups.visibility[t[c]]))for(p=0;p<e[t[c]].length;p++){s.push({screen_x:e[t[c]][p].screen_x,screen_end:e[t[c]][p].screen_end,screen_y:e[t[c]][p].screen_y,x:e[t[c]][p].x,end:e[t[c]][p].end,y:e[t[c]][p].y,groupId:t[c],label:e[t[c]][p].label});f+=1}if(0===f)return;s.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x});r._getDataIntersections(a,s);for(c=0;c<s.length;c++){var v=void 0!=(u=i.groups[s[c].groupId]).options.barChart.minWidth?u.options.barChart.minWidth:.1*u.options.barChart.width;var m=0;if(void 0===a[d=s[c].screen_x]){c+1<s.length&&(h=Math.abs(s[c+1].screen_x-d));l=r._getSafeDrawData(h,u,v)}else{var g=c+(a[d].amount-a[d].resolved);g<s.length&&(h=Math.abs(s[g].screen_x-d));l=r._getSafeDrawData(h,u,v);a[d].resolved+=1;if(!0===u.options.stack&&!0!==u.options.excludeFromStacking)if(s[c].screen_y<u.zeroPosition){m=a[d].accumulatedNegative;a[d].accumulatedNegative+=u.zeroPosition-s[c].screen_y}else{m=a[d].accumulatedPositive;a[d].accumulatedPositive+=u.zeroPosition-s[c].screen_y}else if(!0===u.options.barChart.sideBySide){l.width=l.width/a[d].amount;l.offset+=a[d].resolved*l.width-.5*l.width*(a[d].amount+1)}}var y=l.width;var b=s[c].screen_x;void 0!=s[c].screen_end?b+=.5*(y=s[c].screen_end-s[c].screen_x):b+=l.offset;o.drawBar(b,s[c].screen_y-m,y,u.zeroPosition-s[c].screen_y,u.className+" vis-bar",i.svgElements,i.svg,u.style);if(!0===u.options.drawPoints.enabled){var _={screen_x:s[c].screen_x,screen_y:s[c].screen_y-m,x:s[c].x,y:s[c].y,groupId:s[c].groupId,label:s[c].label};n.draw([_],u,i,l.offset)}}};r._getDataIntersections=function(t,e){var i;for(var o=0;o<e.length;o++){o+1<e.length&&(i=Math.abs(e[o+1].screen_x-e[o].screen_x));o>0&&(i=Math.min(i,Math.abs(e[o-1].screen_x-e[o].screen_x)));if(0===i){void 0===t[e[o].screen_x]&&(t[e[o].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0});t[e[o].screen_x].amount+=1}}};r._getSafeDrawData=function(t,e,i){var o,n;if(t<e.options.barChart.width&&t>0){o=t<i?i:t;n=0;"left"===e.options.barChart.align?n-=.5*t:"right"===e.options.barChart.align&&(n+=.5*t)}else{o=e.options.barChart.width;n=0;"left"===e.options.barChart.align?n-=.5*e.options.barChart.width:"right"===e.options.barChart.align&&(n+=.5*e.options.barChart.width)}return{width:o,offset:n}};r.getStackedYRange=function(t,e,i,o,n){if(t.length>0){t.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x});var s={};r._getDataIntersections(s,t);e[o]=r._getStackedYRange(s,t);e[o].yAxisOrientation=n;i.push(o)}};r._getStackedYRange=function(t,e){var i;var o=e[0].screen_y;var n=e[0].screen_y;for(var r=0;r<e.length;r++)if(void 0===t[i=e[r].screen_x]){o=o>e[r].screen_y?e[r].screen_y:o;n=n<e[r].screen_y?e[r].screen_y:n}else e[r].screen_y<0?t[i].accumulatedNegative+=e[r].screen_y:t[i].accumulatedPositive+=e[r].screen_y;for(var s in t)if(t.hasOwnProperty(s)){o=(o=o>t[s].accumulatedNegative?t[s].accumulatedNegative:o)>t[s].accumulatedPositive?t[s].accumulatedPositive:o;n=(n=n<t[s].accumulatedNegative?t[s].accumulatedNegative:n)<t[s].accumulatedPositive?t[s].accumulatedPositive:n}return{min:o,max:n}};t.exports=r},function(t,e,i){var o=i(14);function n(t,e){}n.calcPath=function(t,e){if(null!=t&&t.length>0){var i=[];return i=1==e.options.interpolation.enabled?n._catmullRom(t,e):n._linear(t)}};n.drawIcon=function(t,e,i,n,r,s){var a=.5*r;var h,d;var l=o.getSVGElement("rect",s.svgElements,s.svg);l.setAttributeNS(null,"x",e);l.setAttributeNS(null,"y",i-a);l.setAttributeNS(null,"width",n);l.setAttributeNS(null,"height",2*a);l.setAttributeNS(null,"class","vis-outline");(h=o.getSVGElement("path",s.svgElements,s.svg)).setAttributeNS(null,"class",t.className);void 0!==t.style&&h.setAttributeNS(null,"style",t.style);h.setAttributeNS(null,"d","M"+e+","+i+" L"+(e+n)+","+i);if(1==t.options.shaded.enabled){d=o.getSVGElement("path",s.svgElements,s.svg);"top"==t.options.shaded.orientation?d.setAttributeNS(null,"d","M"+e+", "+(i-a)+"L"+e+","+i+" L"+(e+n)+","+i+" L"+(e+n)+","+(i-a)):d.setAttributeNS(null,"d","M"+e+","+i+" L"+e+","+(i+a)+" L"+(e+n)+","+(i+a)+"L"+(e+n)+","+i);d.setAttributeNS(null,"class",t.className+" vis-icon-fill");void 0!==t.options.shaded.style&&""!==t.options.shaded.style&&d.setAttributeNS(null,"style",t.options.shaded.style)}if(1==t.options.drawPoints.enabled){var u={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size,className:t.className};o.drawPoint(e+.5*n,i,u,s.svgElements,s.svg)}};n.drawShading=function(t,e,i,n){if(1==e.options.shaded.enabled){var r=Number(n.svg.style.height.replace("px",""));var s=o.getSVGElement("path",n.svgElements,n.svg);var a="L";1==e.options.interpolation.enabled&&(a="C");var h;var d=0;d="top"==e.options.shaded.orientation?0:"bottom"==e.options.shaded.orientation?r:Math.min(Math.max(0,e.zeroPosition),r);h="group"==e.options.shaded.orientation&&null!=i&&void 0!=i?"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,a,!1)+" L"+i[i.length-1][0]+","+i[i.length-1][1]+" "+this.serializePath(i,a,!0)+i[0][0]+","+i[0][1]+" Z":"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,a,!1)+" V"+d+" H"+t[0][0]+" Z";s.setAttributeNS(null,"class",e.className+" vis-fill");void 0!==e.options.shaded.style&&s.setAttributeNS(null,"style",e.options.shaded.style);s.setAttributeNS(null,"d",h)}};n.draw=function(t,e,i){if(null!=t&&void 0!=t){var n=o.getSVGElement("path",i.svgElements,i.svg);n.setAttributeNS(null,"class",e.className);void 0!==e.style&&n.setAttributeNS(null,"style",e.style);var r="L";1==e.options.interpolation.enabled&&(r="C");n.setAttributeNS(null,"d","M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,r,!1))}};n.serializePath=function(t,e,i){if(t.length<2)return"";var o=e;var n;if(i)for(n=t.length-2;n>0;n--)o+=t[n][0]+","+t[n][1]+" ";else for(n=1;n<t.length;n++)o+=t[n][0]+","+t[n][1]+" ";return o};n._catmullRomUniform=function(t){var e,i,o,n,r,s;var a=[];a.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);var h=1/6;var d=t.length;for(var l=0;l<d-1;l++){e=0==l?t[0]:t[l-1];i=t[l];o=t[l+1];n=l+2<d?t[l+2]:o;r={screen_x:(-e.screen_x+6*i.screen_x+o.screen_x)*(1/6),screen_y:(-e.screen_y+6*i.screen_y+o.screen_y)*(1/6)};s={screen_x:(i.screen_x+6*o.screen_x-n.screen_x)*(1/6),screen_y:(i.screen_y+6*o.screen_y-n.screen_y)*(1/6)};a.push([r.screen_x,r.screen_y]);a.push([s.screen_x,s.screen_y]);a.push([o.screen_x,o.screen_y])}return a};n._catmullRom=function(t,e){var i=e.options.interpolation.alpha;if(0==i||void 0===i)return this._catmullRomUniform(t);var o,n,r,s,a,h,d,l,u,c,p,f,v;var m,g,y,b,_,w;var x=[];x.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);var k=t.length;for(var S=0;S<k-1;S++){o=0==S?t[0]:t[S-1];n=t[S];r=t[S+1];s=S+2<k?t[S+2]:r;d=Math.sqrt(Math.pow(o.screen_x-n.screen_x,2)+Math.pow(o.screen_y-n.screen_y,2));l=Math.sqrt(Math.pow(n.screen_x-r.screen_x,2)+Math.pow(n.screen_y-r.screen_y,2));u=Math.sqrt(Math.pow(r.screen_x-s.screen_x,2)+Math.pow(r.screen_y-s.screen_y,2));m=Math.pow(u,i);y=Math.pow(u,2*i);g=Math.pow(l,i);b=Math.pow(l,2*i);w=Math.pow(d,i);c=2*(_=Math.pow(d,2*i))+3*w*g+b;p=2*y+3*m*g+b;(f=3*w*(w+g))>0&&(f=1/f);(v=3*m*(m+g))>0&&(v=1/v);a={screen_x:(-b*o.screen_x+c*n.screen_x+_*r.screen_x)*f,screen_y:(-b*o.screen_y+c*n.screen_y+_*r.screen_y)*f};h={screen_x:(y*n.screen_x+p*r.screen_x-b*s.screen_x)*v,screen_y:(y*n.screen_y+p*r.screen_y-b*s.screen_y)*v};0==a.screen_x&&0==a.screen_y&&(a=n);0==h.screen_x&&0==h.screen_y&&(h=r);x.push([a.screen_x,a.screen_y]);x.push([h.screen_x,h.screen_y]);x.push([r.screen_x,r.screen_y])}return x};n._linear=function(t){var e=[];for(var i=0;i<t.length;i++)e.push([t[i].screen_x,t[i].screen_y]);return e};t.exports=n},function(t,e,i){var o;var n=r(i(8));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(2);var a=i(14);var h=i(16);function d(t,e,i,o){this.body=t;this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}};this.side=i;this.options=s.extend({},this.defaultOptions);this.linegraphOptions=o;this.svgElements={};this.dom={};this.groups={};this.amountOfGroups=0;this._create();this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};this.setOptions(e)}d.prototype=new h;d.prototype.clear=function(){this.groups={};this.amountOfGroups=0};d.prototype.addGroup=function(t,e){if(1!=e.options.excludeFromLegend){this.groups.hasOwnProperty(t)||(this.groups[t]=e);this.amountOfGroups+=1}};d.prototype.updateGroup=function(t,e){this.groups[t]=e};d.prototype.removeGroup=function(t){if(this.groups.hasOwnProperty(t)){delete this.groups[t];this.amountOfGroups-=1}};d.prototype._create=function(){this.dom.frame=document.createElement("div");this.dom.frame.className="vis-legend";this.dom.frame.style.position="absolute";this.dom.frame.style.top="10px";this.dom.frame.style.display="block";this.dom.textArea=document.createElement("div");this.dom.textArea.className="vis-legend-text";this.dom.textArea.style.position="relative";this.dom.textArea.style.top="0px";this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this.svg.style.position="absolute";this.svg.style.top="0px";this.svg.style.width=this.options.iconSize+5+"px";this.svg.style.height="100%";this.dom.frame.appendChild(this.svg);this.dom.frame.appendChild(this.dom.textArea)};d.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)};d.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)};d.prototype.setOptions=function(t){var e=["enabled","orientation","icons","left","right"];s.selectiveDeepExtend(e,this.options,t)};d.prototype.redraw=function(){var t=0;var e=(0,n["default"])(this.groups);e.sort(function(t,e){return t<e?-1:1});for(var i=0;i<e.length;i++){var o=e[i];1!=this.groups[o].visible||void 0!==this.linegraphOptions.visibility[o]&&1!=this.linegraphOptions.visibility[o]||t++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==t)this.hide();else{this.show();if("top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position){this.dom.frame.style.left="4px";this.dom.frame.style.textAlign="left";this.dom.textArea.style.textAlign="left";this.dom.textArea.style.left=this.options.iconSize+15+"px";this.dom.textArea.style.right="";this.svg.style.left="0px";this.svg.style.right=""}else{this.dom.frame.style.right="4px";this.dom.frame.style.textAlign="right";this.dom.textArea.style.textAlign="right";this.dom.textArea.style.right=this.options.iconSize+15+"px";this.dom.textArea.style.left="";this.svg.style.right="0px";this.svg.style.left=""}if("top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position){this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px";this.dom.frame.style.bottom=""}else{var r=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+r+Number(this.body.dom.center.style.top.replace("px",""))+"px";this.dom.frame.style.top=""}if(0==this.options.icons){this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px";this.dom.textArea.style.right="";this.dom.textArea.style.left="";this.svg.style.width="0px"}else{this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px";this.drawLegendIcons()}var s="";for(i=0;i<e.length;i++){o=e[i];1!=this.groups[o].visible||void 0!==this.linegraphOptions.visibility[o]&&1!=this.linegraphOptions.visibility[o]||(s+=this.groups[o].content+"<br />")}this.dom.textArea.innerHTML=s;this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}};d.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var t=(0,n["default"])(this.groups);t.sort(function(t,e){return t<e?-1:1});a.resetElements(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop;var i=Number(e.replace("px",""));var o=i;var r=this.options.iconSize;var s=.75*this.options.iconSize;var h=i+.5*s+3;this.svg.style.width=r+5+i+"px";for(var d=0;d<t.length;d++){var l=t[d];if(1==this.groups[l].visible&&(void 0===this.linegraphOptions.visibility[l]||1==this.linegraphOptions.visibility[l])){this.groups[l].getLegend(r,s,this.framework,o,h);h+=s+this.options.iconSpacing}}}};t.exports=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o="string";var n="boolean";var r="number";var s;var a="date";var h="object";var d;var l="moment";var u="any";var c={configure:{enabled:{boolean:n},filter:{boolean:n,function:"function"},container:{dom:"dom"},__type__:{object:h,boolean:n,function:"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:o},sort:{boolean:n},sampling:{boolean:n},stack:{boolean:n},graphHeight:{string:o,number:r},shaded:{enabled:{boolean:n},orientation:{string:["bottom","top","zero","group"]},groupId:{object:h},__type__:{boolean:n,object:h}},style:{string:["line","bar","points"]},barChart:{width:{number:r},minWidth:{number:r},sideBySide:{boolean:n},align:{string:["left","center","right"]},__type__:{object:h}},interpolation:{enabled:{boolean:n},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:r},__type__:{object:h,boolean:n}},drawPoints:{enabled:{boolean:n},onRender:{function:"function"},size:{number:r},style:{string:["square","circle"]},__type__:{object:h,boolean:n,function:"function"}},dataAxis:{showMinorLabels:{boolean:n},showMajorLabels:{boolean:n},icons:{boolean:n},width:{string:o,number:r},visible:{boolean:n},alignZeros:{boolean:n},left:{range:{min:{number:r,undefined:"undefined"},max:{number:r,undefined:"undefined"},__type__:{object:h}},format:{function:"function"},title:{text:{string:o,number:r,undefined:"undefined"},style:{string:o,undefined:"undefined"},__type__:{object:h}},__type__:{object:h}},right:{range:{min:{number:r,undefined:"undefined"},max:{number:r,undefined:"undefined"},__type__:{object:h}},format:{function:"function"},title:{text:{string:o,number:r,undefined:"undefined"},style:{string:o,undefined:"undefined"},__type__:{object:h}},__type__:{object:h}},__type__:{object:h}},legend:{enabled:{boolean:n},icons:{boolean:n},left:{visible:{boolean:n},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:h}},right:{visible:{boolean:n},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:h}},__type__:{object:h,boolean:n}},groups:{visibility:{any:u},__type__:{object:h}},autoResize:{boolean:n},throttleRedraw:{number:r},clickToUse:{boolean:n},end:{number:r,date:a,string:o,moment:l},format:{minorLabels:{millisecond:{string:o,undefined:"undefined"},second:{string:o,undefined:"undefined"},minute:{string:o,undefined:"undefined"},hour:{string:o,undefined:"undefined"},weekday:{string:o,undefined:"undefined"},day:{string:o,undefined:"undefined"},month:{string:o,undefined:"undefined"},year:{string:o,undefined:"undefined"},__type__:{object:h}},majorLabels:{millisecond:{string:o,undefined:"undefined"},second:{string:o,undefined:"undefined"},minute:{string:o,undefined:"undefined"},hour:{string:o,undefined:"undefined"},weekday:{string:o,undefined:"undefined"},day:{string:o,undefined:"undefined"},month:{string:o,undefined:"undefined"},year:{string:o,undefined:"undefined"},__type__:{object:h}},__type__:{object:h}},moment:{function:"function"},height:{string:o,number:r},hiddenDates:{start:{date:a,number:r,string:o,moment:l},end:{date:a,number:r,string:o,moment:l},repeat:{string:o},__type__:{object:h,array:"array"}},locale:{string:o},locales:{__any__:{any:u},__type__:{object:h}},max:{date:a,number:r,string:o,moment:l},maxHeight:{number:r,string:o},maxMinorChars:{number:r},min:{date:a,number:r,string:o,moment:l},minHeight:{number:r,string:o},moveable:{boolean:n},multiselect:{boolean:n},orientation:{string:o},showCurrentTime:{boolean:n},showMajorLabels:{boolean:n},showMinorLabels:{boolean:n},start:{date:a,number:r,string:o,moment:l},timeAxis:{scale:{string:o,undefined:"undefined"},step:{number:r,undefined:"undefined"},__type__:{object:h}},width:{string:o,number:r},zoomable:{boolean:n},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:r},zoomMin:{number:r},zIndex:{number:r},__type__:{object:h}};var p={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};e.allOptions=c;e.configureOptions=p},function(t,e,i){var o;var n;function r(t){return t&&t.__esModule?t:{default:t}}function s(t){u=t;return M()}var a={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"};var h=(0,r(i(29))["default"])(a);h.color="color.color";h.style="dashes";var d={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3};var l={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0};var u="";var c=0;var p="";var f="";var v=d.NULL;function m(){c=0;p=u.charAt(0)}function g(){c++;p=u.charAt(c)}function y(){return u.charAt(c+1)}var b=/[a-zA-Z_0-9.:#]/;function _(t){return b.test(t)}function w(t,e){t||(t={});if(e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function x(t,e,i){var o=e.split(".");var n=t;for(;o.length;){var r=o.shift();if(o.length){n[r]||(n[r]={});n=n[r]}else n[r]=i}}function k(t,e){var i,o;var n=null;var r=[t];var s=t;for(;s.parent;){r.push(s.parent);s=s.parent}if(s.nodes)for(i=0,o=s.nodes.length;i<o;i++)if(e.id===s.nodes[i].id){n=s.nodes[i];break}if(!n){n={id:e.id};t.node&&(n.attr=w(n.attr,t.node))}for(i=r.length-1;i>=0;i--){var a=r[i];a.nodes||(a.nodes=[]);-1===a.nodes.indexOf(n)&&a.nodes.push(n)}e.attr&&(n.attr=w(n.attr,e.attr))}function S(t,e){t.edges||(t.edges=[]);t.edges.push(e);if(t.edge){var i=w({},t.edge);e.attr=w(i,e.attr)}}function D(t,e,i,o,n){var r={from:e,to:i,type:o};t.edge&&(r.attr=w({},t.edge));r.attr=w(r.attr||{},n);return r}function O(){v=d.NULL;f="";for(;" "===p||"\t"===p||"\n"===p||"\r"===p;)g();do{var t=!1;if("#"===p){var e=c-1;for(;" "===u.charAt(e)||"\t"===u.charAt(e);)e--;if("\n"===u.charAt(e)||""===u.charAt(e)){for(;""!=p&&"\n"!=p;)g();t=!0}}if("/"===p&&"/"===y()){for(;""!=p&&"\n"!=p;)g();t=!0}if("/"===p&&"*"===y()){for(;""!=p;){if("*"===p&&"/"===y()){g();g();break}g()}t=!0}for(;" "===p||"\t"===p||"\n"===p||"\r"===p;)g()}while(t);if(""===p){v=d.DELIMITER;return}var i=p+y();if(l[i]){v=d.DELIMITER;f=i;g();g();return}if(l[p]){v=d.DELIMITER;f=p;g();return}if(_(p)||"-"===p){f+=p;g();for(;_(p);){f+=p;g()}"false"===f?f=!1:"true"===f?f=!0:isNaN(Number(f))||(f=Number(f));v=d.IDENTIFIER;return}if('"'===p){g();for(;""!=p&&('"'!=p||'"'===p&&'"'===y());){if('"'===p){f+=p;g()}else if("\\"===p&&"n"===y()){f+="\n";g()}else f+=p;g()}if('"'!=p)throw R('End of string " expected');g();v=d.IDENTIFIER;return}v=d.UNKNOWN;for(;""!=p;){f+=p;g()}throw new SyntaxError('Syntax error in part "'+z(f,30)+'"')}function M(){var t={};m();O();if("strict"===f){t.strict=!0;O()}if("graph"===f||"digraph"===f){t.type=f;O()}if(v===d.IDENTIFIER){t.id=f;O()}if("{"!=f)throw R("Angle bracket { expected");O();C(t);if("}"!=f)throw R("Angle bracket } expected");O();if(""!==f)throw R("End of file expected");O();delete t.node;delete t.edge;delete t.graph;return t}function C(t){for(;""!==f&&"}"!=f;){E(t);";"===f&&O()}}function E(t){var e=T(t);if(e){N(t,e);return}var i;if(P(t))return;if(v!=d.IDENTIFIER)throw R("Identifier expected");var o=f;O();if("="===f){O();if(v!=d.IDENTIFIER)throw R("Identifier expected");t[o]=f;O()}else I(t,o)}function T(t){var e=null;if("subgraph"===f){(e={}).type="subgraph";O();if(v===d.IDENTIFIER){e.id=f;O()}}if("{"===f){O();e||(e={});e.parent=t;e.node=t.node;e.edge=t.edge;e.graph=t.graph;C(e);if("}"!=f)throw R("Angle bracket } expected");O();delete e.node;delete e.edge;delete e.graph;delete e.parent;t.subgraphs||(t.subgraphs=[]);t.subgraphs.push(e)}return e}function P(t){if("node"===f){O();t.node=A();return"node"}if("edge"===f){O();t.edge=A();return"edge"}if("graph"===f){O();t.graph=A();return"graph"}return null}function I(t,e){var i={id:e};var o=A();o&&(i.attr=o);k(t,i);N(t,e)}function N(t,e){for(;"->"===f||"--"===f;){var i;var o=f;O();var n=T(t);if(n)i=n;else{if(v!=d.IDENTIFIER)throw R("Identifier or subgraph expected");k(t,{id:i=f});O()}var r;var s;S(t,D(t,e,i,o,A()));e=i}}function A(){var t=null;var e={dashed:!0,solid:!1,dotted:[1,5]};for(;"["===f;){O();t={};for(;""!==f&&"]"!=f;){if(v!=d.IDENTIFIER)throw R("Attribute name expected");var i=f;O();if("="!=f)throw R("Equal sign = expected");O();if(v!=d.IDENTIFIER)throw R("Attribute value expected");var o=f;"style"===i&&(o=e[o]);x(t,i,o);O();","==f&&O()}if("]"!=f)throw R("Bracket ] expected");O()}return t}function R(t){return new SyntaxError(t+', got "'+z(f,30)+'" (char '+c+")")}function z(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function L(t,e,i){Array.isArray(t)?t.forEach(function(t){Array.isArray(e)?e.forEach(function(e){i(t,e)}):i(t,e)}):Array.isArray(e)?e.forEach(function(e){i(t,e)}):i(t,e)}function F(t,e,i){var o=e.split(".");var n=o.pop();var r=t;for(var s=0;s<o.length;s++){var a=o[s];a in r||(r[a]={});r=r[a]}r[n]=i;return t}function B(t,e){var i={};for(var o in t)if(t.hasOwnProperty(o)){var n=e[o];Array.isArray(n)?n.forEach(function(e){F(i,e,t[o])}):F(i,"string"==typeof n?n:o,t[o])}return i}function j(t){var e=s(t);var i={nodes:[],edges:[],options:{}};e.nodes&&e.nodes.forEach(function(t){var e={id:t.id,label:String(t.label||t.id)};w(e,B(t.attr,a));e.image&&(e.shape="image");i.nodes.push(e)});if(e.edges){var o=function t(e){var i={from:e.from,to:e.to};w(i,B(e.attr,h));i.arrows="->"===e.type?"to":void 0;return i};e.edges.forEach(function(t){var e,n;e=t.from instanceof Object?t.from.nodes:{id:t.from};n=t.to instanceof Object?t.to.nodes:{id:t.to};t.from instanceof Object&&t.from.edges&&t.from.edges.forEach(function(t){var e=o(t);i.edges.push(e)});L(e,n,function(e,n){var r=D(i,e.id,n.id,t.type,t.attr);var s=o(r);i.edges.push(s)});t.to instanceof Object&&t.to.edges&&t.to.edges.forEach(function(t){var e=o(t);i.edges.push(e)})})}e.attr&&(i.options=e.attr);return i}e.parseDOT=s;e.DOTToGraph=j},function(t,e,i){function o(t,e){var i=[];var o=[];var n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};if(void 0!==e){void 0!==e.fixed&&(n.nodes.fixed=e.fixed);void 0!==e.parseColor&&(n.nodes.parseColor=e.parseColor);void 0!==e.inheritColor&&(n.edges.inheritColor=e.inheritColor)}var r=t.edges;var s=t.nodes;for(var a=0;a<r.length;a++){var h={};var d=r[a];h["id"]=d.id;h["from"]=d.source;h["to"]=d.target;h["attributes"]=d.attributes;h["label"]=d.label;h["title"]=void 0!==d.attributes?d.attributes.title:void 0;"Directed"===d["type"]&&(h["arrows"]="to");d.color&&!1===n.inheritColor&&(h["color"]=d.color);i.push(h)}for(var l=0;l<s.length;l++){var u={};var c=s[l];u["id"]=c.id;u["attributes"]=c.attributes;u["x"]=c.x;u["y"]=c.y;u["label"]=c.label;u["title"]=void 0!==c.attributes?c.attributes.title:c.title;!0===n.nodes.parseColor?u["color"]=c.color:u["color"]=void 0!==c.color?{background:c.color,border:c.color,highlight:{background:c.color,border:c.color},hover:{background:c.color,border:c.color}}:void 0;u["size"]=c.size;u["fixed"]=n.nodes.fixed&&void 0!==c.x&&void 0!==c.y;o.push(u)}return{nodes:o,edges:i}}e.parseGephi=o},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=d(i(0));var r;var s=d(i(1));var a;var h=d(i(185));function d(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e){(0,n["default"])(this,t);this.images={};this.imageBroken={};this.callback=e}(0,s["default"])(t,[{key:"_tryloadBrokenUrl",value:function t(e,i,o){if(void 0===e||void 0===o)return;if(void 0===i){console.warn("No broken url image defined");return}o.onerror=function(){console.error("Could not load brokenImage:",i)};o.image.src=i}},{key:"_redrawWithImage",value:function t(e){this.callback&&this.callback(e)}},{key:"load",value:function t(e,i){var o=this;var n=this.images[e];if(n)return n;var r=new h["default"];this.images[e]=r;r.image.onload=function(){o._fixImageCoordinates(r.image);r.init();o._redrawWithImage(r)};r.image.onerror=function(){console.error("Could not load image:",e);o._tryloadBrokenUrl(e,i,r)};r.image.src=e;return r}},{key:"_fixImageCoordinates",value:function t(e){if(0===e.width){document.body.appendChild(e);e.width=e.offsetWidth;e.height=e.offsetHeight;document.body.removeChild(e)}}}]);return t}();e["default"]=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=u(i(30));var r;var s=u(i(6));var a;var h=u(i(0));var d;var l=u(i(1));function u(t){return t&&t.__esModule?t:{default:t}}var c=i(2);var p=i(48)["default"];var f=i(191)["default"];var v=["bold","ital","boldital","mono"];var m=function(){function t(e,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,h["default"])(this,t);this.body=e;this.pointToSelf=!1;this.baseSize=void 0;this.fontOptions={};this.setOptions(i);this.size={top:0,left:0,width:0,height:0,yLine:0};this.isEdgeLabel=o}(0,l["default"])(t,[{key:"setOptions",value:function t(e){this.elementOptions=e;this.initFontOptions(e.font);p.isValidLabel(e.label)?this.labelDirty=!0:e.label="";if(void 0!==e.font&&null!==e.font)if("string"==typeof e.font)this.baseSize=this.fontOptions.size;else if("object"===(0,s["default"])(e.font)){var i=e.font.size;void 0!==i&&(this.baseSize=i)}}},{key:"initFontOptions",value:function e(i){var o=this;c.forEach(v,function(t){o.fontOptions[t]={}});if(t.parseFontString(this.fontOptions,i)){this.fontOptions.vadjust=0;return}c.forEach(i,function(t,e){void 0!==t&&null!==t&&"object"!==(void 0===t?"undefined":(0,s["default"])(t))&&(o.fontOptions[e]=t)})}},{key:"constrain",value:function t(e){var i={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"};var o=c.topMost(e,"widthConstraint");if("number"==typeof o){i.maxWdt=Number(o);i.minWdt=Number(o)}else if("object"===(void 0===o?"undefined":(0,s["default"])(o))){var n=c.topMost(e,["widthConstraint","maximum"]);"number"==typeof n&&(i.maxWdt=Number(n));var r=c.topMost(e,["widthConstraint","minimum"]);"number"==typeof r&&(i.minWdt=Number(r))}var a=c.topMost(e,"heightConstraint");if("number"==typeof a)i.minHgt=Number(a);else if("object"===(void 0===a?"undefined":(0,s["default"])(a))){var h=c.topMost(e,["heightConstraint","minimum"]);"number"==typeof h&&(i.minHgt=Number(h));var d=c.topMost(e,["heightConstraint","valign"]);"string"==typeof d&&("top"!==d&&"bottom"!==d||(i.valign=d))}return i}},{key:"update",value:function t(e,i){this.setOptions(e,!0);this.propagateFonts(i);c.deepExtend(this.fontOptions,this.constrain(i));this.fontOptions.chooser=p.choosify("label",i)}},{key:"adjustSizes",value:function t(e){var i=e?e.right+e.left:0;if(this.fontOptions.constrainWidth){this.fontOptions.maxWdt-=i;this.fontOptions.minWdt-=i}var o=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=o)}},{key:"addFontOptionsToPile",value:function t(e,i){for(var o=0;o<i.length;++o)this.addFontToPile(e,i[o])}},{key:"addFontToPile",value:function t(e,i){if(void 0===i)return;if(void 0===i.font||null===i.font)return;var o=i.font;e.push(o)}},{key:"getBasicOptions",value:function e(i){var o={};for(var n=0;n<i.length;++n){var r=i[n];var s={};t.parseFontString(s,r)&&(r=s);c.forEach(r,function(t,e){if(void 0===t)return;if(o.hasOwnProperty(e))return;-1!==v.indexOf(e)?o[e]={}:o[e]=t})}return o}},{key:"getFontOption",value:function e(i,o,n){var r=void 0;for(var s=0;s<i.length;++s){var a=i[s];if(a.hasOwnProperty(o)){if(void 0===(r=a[o])||null===r)continue;var h={};t.parseFontString(h,r)&&(r=h);if(r.hasOwnProperty(n))return r[n]}}if(this.fontOptions.hasOwnProperty(n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}},{key:"getFontOptions",value:function t(e,i){var o={};var n=["color","size","face","mod","vadjust"];for(var r=0;r<n.length;++r){var s=n[r];o[s]=this.getFontOption(e,i,s)}return o}},{key:"propagateFonts",value:function t(e){var i=this;var o=[];this.addFontOptionsToPile(o,e);this.fontOptions=this.getBasicOptions(o);var n=function t(e){var n=v[e];var r=i.fontOptions[n];var s=i.getFontOptions(o,n);c.forEach(s,function(t,e){r[e]=t});r.size=Number(r.size);r.vadjust=Number(r.vadjust)};for(var r=0;r<v.length;++r)n(r)}},{key:"draw",value:function t(e,i,o,n,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0===this.elementOptions.label)return;var a=this.fontOptions.size*this.body.view.scale;if(this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1)return;a>=this.elementOptions.scaling.label.maxVisible&&(a=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale);this.calculateLabelSize(e,n,r,i,o,s);this._drawBackground(e);this._drawText(e,i,this.size.yLine,s,a)}},{key:"_drawBackground",value:function t(e){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){e.fillStyle=this.fontOptions.background;var i=this.getSize();e.fillRect(i.left,i.top,i.width,i.height)}}},{key:"_drawText",value:function t(e,i,o){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle";var s=arguments[4];var a=this._setAlignment(e,i,o,r);var h=(0,n["default"])(a,2);i=h[0];o=h[1];e.textAlign="left";i-=this.size.width/2;if(this.fontOptions.valign&&this.size.height>this.size.labelHeight){"top"===this.fontOptions.valign&&(o-=(this.size.height-this.size.labelHeight)/2);"bottom"===this.fontOptions.valign&&(o+=(this.size.height-this.size.labelHeight)/2)}for(var d=0;d<this.lineCount;d++){var l=this.lines[d];if(l&&l.blocks){var u=0;this.isEdgeLabel||"center"===this.fontOptions.align?u+=(this.size.width-l.width)/2:"right"===this.fontOptions.align&&(u+=this.size.width-l.width);for(var c=0;c<l.blocks.length;c++){var p=l.blocks[c];e.font=p.font;var f=this._getColor(p.color,s,p.strokeColor),v=(0,n["default"])(f,2),m=v[0],g=v[1];if(p.strokeWidth>0){e.lineWidth=p.strokeWidth;e.strokeStyle=g;e.lineJoin="round"}e.fillStyle=m;p.strokeWidth>0&&e.strokeText(p.text,i+u,o+p.vadjust);e.fillText(p.text,i+u,o+p.vadjust);u+=p.width}o+=l.height}}}},{key:"_setAlignment",value:function t(e,i,o,n){if(this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf){i=0;o=0;var r=2;if("top"===this.fontOptions.align){e.textBaseline="alphabetic";o-=4}else if("bottom"===this.fontOptions.align){e.textBaseline="hanging";o+=4}else e.textBaseline="middle"}else e.textBaseline=n;return[i,o]}},{key:"_getColor",value:function t(e,i,o){var n=e||"#000000";var r=o||"#ffffff";if(i<=this.elementOptions.scaling.label.drawThreshold){var s=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-i)));n=c.overrideOpacity(n,s);r=c.overrideOpacity(r,s)}return[n,r]}},{key:"getTextSize",value:function t(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._processLabel(e,i,o);return{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function t(){var e=2;var i=this.size.left;var o=this.size.top-1;if(this.isEdgeLabel){var n=.5*-this.size.width;switch(this.fontOptions.align){case"middle":i=n;o=.5*-this.size.height;break;case"top":i=n;o=-(this.size.height+2);break;case"bottom":i=n;o=2}}var r;return{left:i,top:o,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function t(e,i,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(e,i,o);this.size.left=n-.5*this.size.width;this.size.top=r-.5*this.size.height;this.size.yLine=r+.5*(1-this.lineCount)*this.fontOptions.size;if("hanging"===s){this.size.top+=.5*this.fontOptions.size;this.size.top+=4;this.size.yLine+=4}}},{key:"getFormattingValues",value:function t(e,i,o,n){var r=function t(e,i,o){if("normal"===i){if("mod"===o)return"";return e[o]}return void 0!==e[i][o]?e[i][o]:e[o]};var s={color:r(this.fontOptions,n,"color"),size:r(this.fontOptions,n,"size"),face:r(this.fontOptions,n,"face"),mod:r(this.fontOptions,n,"mod"),vadjust:r(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(i||o)&&("normal"===n&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?s.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(s,this.elementOptions.id,i,o));var a="";void 0!==s.mod&&""!==s.mod&&(a+=s.mod+" ");a+=s.size+"px "+s.face;e.font=a.replace(/"/g,"");s.font=e.font;s.height=s.size;return s}},{key:"differentState",value:function t(e,i){return e!==this.selectedState||i!==this.hoverState}},{key:"_processLabelText",value:function t(e,i,o,n){var r;return new f(e,this,i,o).process(n)}},{key:"_processLabel",value:function t(e,i,o){if(!1===this.labelDirty&&!this.differentState(i,o))return;var n=this._processLabelText(e,i,o,this.elementOptions.label);this.fontOptions.minWdt>0&&n.width<this.fontOptions.minWdt&&(n.width=this.fontOptions.minWdt);this.size.labelHeight=n.height;this.fontOptions.minHgt>0&&n.height<this.fontOptions.minHgt&&(n.height=this.fontOptions.minHgt);this.lines=n.lines;this.lineCount=n.lines.length;this.size.width=n.width;this.size.height=n.height;this.selectedState=i;this.hoverState=o;this.labelDirty=!1}},{key:"visible",value:function t(){if(0===this.size.width||0===this.size.height||void 0===this.elementOptions.label)return!1;var e;if(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)return!1;return!0}}],[{key:"parseFontString",value:function t(e,i){if(!i||"string"!=typeof i)return!1;var o=i.split(" ");e.size=o[0].replace("px","");e.face=o[1];e.color=o[2];return!0}}]);return t}();e["default"]=m},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=d(i(30));var r;var s=d(i(0));var a;var h=d(i(1));function d(t){return t&&t.__esModule?t:{default:t}}var l=i(2);var u=i(119)["default"];var c=function(){function t(e,i,o){(0,s["default"])(this,t);this.body=i;this.labelModule=o;this.options={};this.setOptions(e);this.colorDirty=!0;this.color={};this.selectionWidth=2;this.hoverWidth=1.5;this.fromPoint=this.from;this.toPoint=this.to}(0,h["default"])(t,[{key:"connect",value:function t(){this.from=this.body.nodes[this.options.from];this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function t(){return!1}},{key:"setOptions",value:function t(e){this.options=e;this.from=this.body.nodes[this.options.from];this.to=this.body.nodes[this.options.to];this.id=this.options.id}},{key:"drawLine",value:function t(e,i,o,n,r){e.strokeStyle=this.getColor(e,i,o,n);e.lineWidth=i.width;!1!==i.dashes?this._drawDashedLine(e,i,r):this._drawLine(e,i,r)}},{key:"_drawLine",value:function t(e,i,o,r,s){if(this.from!=this.to)this._line(e,i,o,r,s);else{var a=this._getCircleData(e),h=(0,n["default"])(a,3),d=h[0],l=h[1],u=h[2];this._circle(e,i,d,l,u)}}},{key:"_drawDashedLine",value:function t(e,i,o,r,s){e.lineCap="round";var a=[5,5];!0===Array.isArray(i.dashes)&&(a=i.dashes);if(void 0!==e.setLineDash){e.save();e.setLineDash(a);e.lineDashOffset=0;if(this.from!=this.to)this._line(e,i,o);else{var h=this._getCircleData(e),d=(0,n["default"])(h,3),l=d[0],u=d[1],c=d[2];this._circle(e,i,l,u,c)}e.setLineDash([0]);e.lineDashOffset=0;e.restore()}else{if(this.from!=this.to)e.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,a);else{var p=this._getCircleData(e),f=(0,n["default"])(p,3),v=f[0],m=f[1],g=f[2];this._circle(e,i,v,m,g)}this.enableShadow(e,i);e.stroke();this.disableShadow(e,i)}}},{key:"findBorderPosition",value:function t(e,i,o){return this.from!=this.to?this._findBorderPosition(e,i,o):this._findBorderPositionCircle(e,i,o)}},{key:"findBorderPositions",value:function t(e){var i={};var o={};if(this.from!=this.to){i=this._findBorderPosition(this.from,e);o=this._findBorderPosition(this.to,e)}else{var r=this._getCircleData(e).slice(0,2),s=(0,n["default"])(r,2),a=s[0],h=s[1];i=this._findBorderPositionCircle(this.from,e,{x:a,y:h,low:.25,high:.6,direction:-1});o=this._findBorderPositionCircle(this.from,e,{x:a,y:h,low:.6,high:.8,direction:1})}return{from:i,to:o}}},{key:"_getCircleData",value:function t(e){var i=void 0,o=void 0;var n=this.from;var r=this.options.selfReferenceSize;void 0!==e&&void 0===n.shape.width&&n.shape.resize(e);if(n.shape.width>n.shape.height){i=n.x+.5*n.shape.width;o=n.y-r}else{i=n.x+r;o=n.y-.5*n.shape.height}return[i,o,r]}},{key:"_pointOnCircle",value:function t(e,i,o,n){var r=2*n*Math.PI;return{x:e+o*Math.cos(r),y:i-o*Math.sin(r)}}},{key:"_findBorderPositionCircle",value:function t(e,i,o){var n=o.x;var r=o.y;var s=o.low;var a=o.high;var h=o.direction;var d=10;var l=0;var u=this.options.selfReferenceSize;var c=void 0,p=void 0,f=void 0,v=void 0,m=void 0;var g=.05;var y=.5*(s+a);for(;s<=a&&l<10;){y=.5*(s+a);c=this._pointOnCircle(n,r,u,y);p=Math.atan2(e.y-c.y,e.x-c.x);m=(f=e.distanceToBorder(i,p))-(v=Math.sqrt(Math.pow(c.x-e.x,2)+Math.pow(c.y-e.y,2)));if(Math.abs(m)<.05)break;m>0?h>0?s=y:a=y:h>0?a=y:s=y;l++}c.t=y;return c}},{key:"getLineWidth",value:function t(e,i){return!0===e?Math.max(this.selectionWidth,.3/this.body.view.scale):!0===i?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function t(e,i,o,n){if(!1!==i.inheritsColor){if("both"===i.inheritsColor&&this.from.id!==this.to.id){var r=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);var s=void 0,a=void 0;s=this.from.options.color.highlight.border;a=this.to.options.color.highlight.border;if(!1===this.from.selected&&!1===this.to.selected){s=l.overrideOpacity(this.from.options.color.border,i.opacity);a=l.overrideOpacity(this.to.options.color.border,i.opacity)}else!0===this.from.selected&&!1===this.to.selected?a=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(s=this.from.options.color.border);r.addColorStop(0,s);r.addColorStop(1,a);return r}return"to"===i.inheritsColor?l.overrideOpacity(this.to.options.color.border,i.opacity):l.overrideOpacity(this.from.options.color.border,i.opacity)}return l.overrideOpacity(i.color,i.opacity)}},{key:"_circle",value:function t(e,i,o,n,r){this.enableShadow(e,i);e.beginPath();e.arc(o,n,r,0,2*Math.PI,!1);e.stroke();this.disableShadow(e,i)}},{key:"getDistanceToEdge",value:function t(e,i,o,r,s,a,h,d){var l=0;if(this.from!=this.to)l=this._getDistanceToEdge(e,i,o,r,s,a,h);else{var u=this._getCircleData(void 0),c=(0,n["default"])(u,3),p=c[0],f=c[1],v=c[2];var m=p-s;var g=f-a;l=Math.abs(Math.sqrt(m*m+g*g)-v)}return l}},{key:"_getDistanceToLine",value:function t(e,i,o,n,r,s){var a=o-e;var h=n-i;var d;var l=((r-e)*a+(s-i)*h)/(a*a+h*h);l>1?l=1:l<0&&(l=0);var u;var c;var p=e+l*a-r;var f=i+l*h-s;return Math.sqrt(p*p+f*f)}},{key:"getArrowData",value:function t(e,i,o,r,s,a){var h=void 0;var d=void 0;var l=void 0;var u=void 0;var c=void 0;var p=void 0;var f=void 0;var v=a.width;if("from"===i){l=this.from;u=this.to;c=.1;p=a.fromArrowScale;f=a.fromArrowType}else if("to"===i){l=this.to;u=this.from;c=-.1;p=a.toArrowScale;f=a.toArrowType}else{l=this.to;u=this.from;p=a.middleArrowScale;f=a.middleArrowType}if(l!=u)if("middle"!==i)if(!0===this.options.smooth.enabled){d=this.findBorderPosition(l,e,{via:o});var m=this.getPoint(Math.max(0,Math.min(1,d.t+c)),o);h=Math.atan2(d.y-m.y,d.x-m.x)}else{h=Math.atan2(l.y-u.y,l.x-u.x);d=this.findBorderPosition(l,e)}else{h=Math.atan2(l.y-u.y,l.x-u.x);d=this.getPoint(.5,o)}else{var g=this._getCircleData(e),y=(0,n["default"])(g,3),b=y[0],_=y[1],w=y[2];if("from"===i)h=-2*(d=this.findBorderPosition(this.from,e,{x:b,y:_,low:.25,high:.6,direction:-1})).t*Math.PI+1.5*Math.PI+.1*Math.PI;else if("to"===i)h=-2*(d=this.findBorderPosition(this.from,e,{x:b,y:_,low:.6,high:1,direction:1})).t*Math.PI+1.5*Math.PI-1.1*Math.PI;else{d=this._pointOnCircle(b,_,w,.175);h=3.9269908169872414}}"middle"===i&&p<0&&(v*=-1);var x=15*p+3*v;var k;var S;var D;return{point:d,core:{x:d.x-.9*x*Math.cos(h),y:d.y-.9*x*Math.sin(h)},angle:h,length:x,type:f}}},{key:"drawArrowHead",value:function t(e,i,o,n,r){e.strokeStyle=this.getColor(e,i,o,n);e.fillStyle=e.strokeStyle;e.lineWidth=i.width;u.draw(e,r);this.enableShadow(e,i);e.fill();this.disableShadow(e,i)}},{key:"enableShadow",value:function t(e,i){if(!0===i.shadow){e.shadowColor=i.shadowColor;e.shadowBlur=i.shadowSize;e.shadowOffsetX=i.shadowX;e.shadowOffsetY=i.shadowY}}},{key:"disableShadow",value:function t(e,i){if(!0===i.shadow){e.shadowColor="rgba(0,0,0,0)";e.shadowBlur=0;e.shadowOffsetX=0;e.shadowOffsetY=0}}}]);return t}();e["default"]=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=p(i(3));var r;var s=p(i(4));var a;var h=p(i(5));var d;var l=p(i(0));var u;var c=p(i(1));function p(t){return t&&t.__esModule?t:{default:t}}var f=function(){function t(){(0,l["default"])(this,t)}(0,c["default"])(t,null,[{key:"transform",value:function t(e,i){e instanceof Array||(e=[e]);var o=i.point.x;var n=i.point.y;var r=i.angle;var s=i.length;for(var a=0;a<e.length;++a){var h=e[a];var d=h.x*Math.cos(r)-h.y*Math.sin(r);var l=h.x*Math.sin(r)+h.y*Math.cos(r);h.x=o+s*d;h.y=n+s*l}}},{key:"drawPath",value:function t(e,i){e.beginPath();e.moveTo(i[0].x,i[0].y);for(var o=1;o<i.length;++o)e.lineTo(i[o].x,i[o].y);e.closePath()}}]);return t}();var v=function(t){(0,h["default"])(e,t);function e(){(0,l["default"])(this,e);return(0,s["default"])(this,(e.__proto__||(0,n["default"])(e)).apply(this,arguments))}(0,c["default"])(e,null,[{key:"draw",value:function t(e,i){var o=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];f.transform(o,i);f.drawPath(e,o)}}]);return e}(f);var m=function(){function t(){(0,l["default"])(this,t)}(0,c["default"])(t,null,[{key:"draw",value:function t(e,i){var o={x:-.4,y:0};f.transform(o,i);e.circle(o.x,o.y,.4*i.length)}}]);return t}();var g=function(){function t(){(0,l["default"])(this,t)}(0,c["default"])(t,null,[{key:"draw",value:function t(e,i){var o=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];f.transform(o,i);f.drawPath(e,o)}}]);return t}();var y=function(){function t(){(0,l["default"])(this,t)}(0,c["default"])(t,null,[{key:"draw",value:function t(e,i){var o;i.type&&(o=i.type.toLowerCase());switch(o){case"circle":m.draw(e,i);break;case"bar":g.draw(e,i);break;case"arrow":default:v.draw(e,i)}}}]);return t}();e["default"]=y},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=a(i(0));var r;var s=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(e,i,o){(0,n["default"])(this,t);this.body=e;this.physicsBody=i;this.barnesHutTree;this.setOptions(o);this.randomSeed=5}(0,s["default"])(t,[{key:"setOptions",value:function t(e){this.options=e;this.thetaInversed=1/this.options.theta;this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function t(){var e=1e4*Math.sin(this.randomSeed++);return e-Math.floor(e)}},{key:"solve",value:function t(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var e=void 0;var i=this.body.nodes;var o=this.physicsBody.physicsNodeIndices;var n=o.length;var r=this._formBarnesHutTree(i,o);this.barnesHutTree=r;for(var s=0;s<n;s++)(e=i[o[s]]).options.mass>0&&this._getForceContributions(r.root,e)}}},{key:"_getForceContributions",value:function t(e,i){this._getForceContribution(e.children.NW,i);this._getForceContribution(e.children.NE,i);this._getForceContribution(e.children.SW,i);this._getForceContribution(e.children.SE,i)}},{key:"_getForceContribution",value:function t(e,i){if(e.childrenCount>0){var o=void 0,n=void 0,r=void 0;o=e.centerOfMass.x-i.x;n=e.centerOfMass.y-i.y;(r=Math.sqrt(o*o+n*n))*e.calcSize>this.thetaInversed?this._calculateForces(r,o,n,i,e):4===e.childrenCount?this._getForceContributions(e,i):e.children.data.id!=i.id&&this._calculateForces(r,o,n,i,e)}}},{key:"_calculateForces",value:function t(e,i,o,n,r){0===e&&(i=e=.1);this.overlapAvoidanceFactor<1&&n.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));var s=this.options.gravitationalConstant*r.mass*n.options.mass/Math.pow(e,3);var a=i*s;var h=o*s;this.physicsBody.forces[n.id].x+=a;this.physicsBody.forces[n.id].y+=h}},{key:"_formBarnesHutTree",value:function t(e,i){var o=void 0;var n=i.length;var r=e[i[0]].x;var s=e[i[0]].y;var a=e[i[0]].x;var h=e[i[0]].y;for(var d=1;d<n;d++){var l=e[i[d]];var u=l.x;var c=l.y;if(l.options.mass>0){u<r&&(r=u);u>a&&(a=u);c<s&&(s=c);c>h&&(h=c)}}var p=Math.abs(a-r)-Math.abs(h-s);if(p>0){s-=.5*p;h+=.5*p}else{r+=.5*p;a-=.5*p}var f=1e-5;var v=Math.max(1e-5,Math.abs(a-r));var m=.5*v;var g=.5*(r+a),y=.5*(s+h);var b={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:g-m,maxX:g+m,minY:y-m,maxY:y+m},size:v,calcSize:1/v,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(b.root);for(var _=0;_<n;_++)(o=e[i[_]]).options.mass>0&&this._placeInTree(b.root,o);return b}},{key:"_updateBranchMass",value:function t(e,i){var o=e.centerOfMass;var n=e.mass+i.options.mass;var r=1/n;o.x=o.x*e.mass+i.x*i.options.mass;o.x*=r;o.y=o.y*e.mass+i.y*i.options.mass;o.y*=r;e.mass=n;var s=Math.max(Math.max(i.height,i.radius),i.width);e.maxWidth=e.maxWidth<s?s:e.maxWidth}},{key:"_placeInTree",value:function t(e,i,o){1==o&&void 0!==o||this._updateBranchMass(e,i);var n=e.children.NW.range;var r=void 0;r=n.maxX>i.x?n.maxY>i.y?"NW":"SW":n.maxY>i.y?"NE":"SE";this._placeInRegion(e,i,r)}},{key:"_placeInRegion",value:function t(e,i,o){var n=e.children[o];switch(n.childrenCount){case 0:n.children.data=i;n.childrenCount=1;this._updateBranchMass(n,i);break;case 1:if(n.children.data.x===i.x&&n.children.data.y===i.y){i.x+=this.seededRandom();i.y+=this.seededRandom()}else{this._splitBranch(n);this._placeInTree(n,i)}break;case 4:this._placeInTree(n,i)}}},{key:"_splitBranch",value:function t(e){var i=null;if(1===e.childrenCount){i=e.children.data;e.mass=0;e.centerOfMass.x=0;e.centerOfMass.y=0}e.childrenCount=4;e.children.data=null;this._insertRegion(e,"NW");this._insertRegion(e,"NE");this._insertRegion(e,"SW");this._insertRegion(e,"SE");null!=i&&this._placeInTree(e,i)}},{key:"_insertRegion",value:function t(e,i){var o=void 0,n=void 0,r=void 0,s=void 0;var a=.5*e.size;switch(i){case"NW":o=e.range.minX;n=e.range.minX+a;r=e.range.minY;s=e.range.minY+a;break;case"NE":o=e.range.minX+a;n=e.range.maxX;r=e.range.minY;s=e.range.minY+a;break;case"SW":o=e.range.minX;n=e.range.minX+a;r=e.range.minY+a;s=e.range.maxY;break;case"SE":o=e.range.minX+a;n=e.range.maxX;r=e.range.minY+a;s=e.range.maxY}e.children[i]={centerOfMass:{x:0,y:0},mass:0,range:{minX:o,maxX:n,minY:r,maxY:s},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}},{key:"_debug",value:function t(e,i){if(void 0!==this.barnesHutTree){e.lineWidth=1;this._drawBranch(this.barnesHutTree.root,e,i)}}},{key:"_drawBranch",value:function t(e,i,o){void 0===o&&(o="#FF0000");if(4===e.childrenCount){this._drawBranch(e.children.NW,i);this._drawBranch(e.children.NE,i);this._drawBranch(e.children.SE,i);this._drawBranch(e.children.SW,i)}i.strokeStyle=o;i.beginPath();i.moveTo(e.range.minX,e.range.minY);i.lineTo(e.range.maxX,e.range.minY);i.stroke();i.beginPath();i.moveTo(e.range.maxX,e.range.minY);i.lineTo(e.range.maxX,e.range.maxY);i.stroke();i.beginPath();i.moveTo(e.range.maxX,e.range.maxY);i.lineTo(e.range.minX,e.range.maxY);i.stroke();i.beginPath();i.moveTo(e.range.minX,e.range.maxY);i.lineTo(e.range.minX,e.range.minY);i.stroke()}}]);return t}();e["default"]=h},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=a(i(0));var r;var s=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(e,i,o){(0,n["default"])(this,t);this.body=e;this.physicsBody=i;this.setOptions(o)}(0,s["default"])(t,[{key:"setOptions",value:function t(e){this.options=e}},{key:"solve",value:function t(){var e=void 0,i=void 0,o=void 0,n=void 0;var r=this.body.nodes;var s=this.physicsBody.physicsNodeIndices;var a=this.physicsBody.forces;for(var h=0;h<s.length;h++){var d;e=-(n=r[s[h]]).x;i=-n.y;o=Math.sqrt(e*e+i*i);this._calculateForces(o,e,i,a,n)}}},{key:"_calculateForces",value:function t(e,i,o,n,r){var s=0===e?0:this.options.centralGravity/e;n[r.id].x=i*s;n[r.id].y=o*s}}]);return t}();e["default"]=h},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o="string";var n="boolean";var r="number";var s="array";var a="object";var h="dom";var d;var l=["arrow","circle","bar"];var u={configure:{enabled:{boolean:n},filter:{boolean:n,string:o,array:s,function:"function"},container:{dom:h},showButton:{boolean:n},__type__:{object:a,boolean:n,string:o,array:s,function:"function"}},edges:{arrows:{to:{enabled:{boolean:n},scaleFactor:{number:r},type:{string:l},__type__:{object:a,boolean:n}},middle:{enabled:{boolean:n},scaleFactor:{number:r},type:{string:l},__type__:{object:a,boolean:n}},from:{enabled:{boolean:n},scaleFactor:{number:r},type:{string:l},__type__:{object:a,boolean:n}},__type__:{string:["from","to","middle"],object:a}},arrowStrikethrough:{boolean:n},chosen:{label:{boolean:n,function:"function"},edge:{boolean:n,function:"function"},__type__:{object:a,boolean:n}},color:{color:{string:o},highlight:{string:o},hover:{string:o},inherit:{string:["from","to","both"],boolean:n},opacity:{number:r},__type__:{object:a,string:o}},dashes:{boolean:n,array:s},font:{color:{string:o},size:{number:r},face:{string:o},background:{string:o},strokeWidth:{number:r},strokeColor:{string:o},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:r},multi:{boolean:n,string:o},bold:{color:{string:o},size:{number:r},face:{string:o},mod:{string:o},vadjust:{number:r},__type__:{object:a,string:o}},boldital:{color:{string:o},size:{number:r},face:{string:o},mod:{string:o},vadjust:{number:r},__type__:{object:a,string:o}},ital:{color:{string:o},size:{number:r},face:{string:o},mod:{string:o},vadjust:{number:r},__type__:{object:a,string:o}},mono:{color:{string:o},size:{number:r},face:{string:o},mod:{string:o},vadjust:{number:r},__type__:{object:a,string:o}},__type__:{object:a,string:o}},hidden:{boolean:n},hoverWidth:{function:"function",number:r},label:{string:o,undefined:"undefined"},labelHighlightBold:{boolean:n},length:{number:r,undefined:"undefined"},physics:{boolean:n},scaling:{min:{number:r},max:{number:r},label:{enabled:{boolean:n},min:{number:r},max:{number:r},maxVisible:{number:r},drawThreshold:{number:r},__type__:{object:a,boolean:n}},customScalingFunction:{function:"function"},__type__:{object:a}},selectionWidth:{function:"function",number:r},selfReferenceSize:{number:r},shadow:{enabled:{boolean:n},color:{string:o},size:{number:r},x:{number:r},y:{number:r},__type__:{object:a,boolean:n}},smooth:{enabled:{boolean:n},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:r},forceDirection:{string:["horizontal","vertical","none"],boolean:n},__type__:{object:a,boolean:n}},title:{string:o,undefined:"undefined"},width:{number:r},widthConstraint:{maximum:{number:r},__type__:{object:a,boolean:n,number:r}},value:{number:r,undefined:"undefined"},__type__:{object:a}},groups:{useDefaultGroups:{boolean:n},__any__:"get from nodes, will be overwritten below",__type__:{object:a}},interaction:{dragNodes:{boolean:n},dragView:{boolean:n},hideEdgesOnDrag:{boolean:n},hideNodesOnDrag:{boolean:n},hover:{boolean:n},keyboard:{enabled:{boolean:n},speed:{x:{number:r},y:{number:r},zoom:{number:r},__type__:{object:a}},bindToWindow:{boolean:n},__type__:{object:a,boolean:n}},multiselect:{boolean:n},navigationButtons:{boolean:n},selectable:{boolean:n},selectConnectedEdges:{boolean:n},hoverConnectedEdges:{boolean:n},tooltipDelay:{number:r},zoomView:{boolean:n},__type__:{object:a}},layout:{randomSeed:{undefined:"undefined",number:r},improvedLayout:{boolean:n},hierarchical:{enabled:{boolean:n},levelSeparation:{number:r},nodeSpacing:{number:r},treeSpacing:{number:r},blockShifting:{boolean:n},edgeMinimization:{boolean:n},parentCentralization:{boolean:n},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:a,boolean:n}},__type__:{object:a}},manipulation:{enabled:{boolean:n},initiallyActive:{boolean:n},addNode:{boolean:n,function:"function"},addEdge:{boolean:n,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:a,boolean:n,function:"function"}},deleteNode:{boolean:n,function:"function"},deleteEdge:{boolean:n,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:a,boolean:n}},nodes:{borderWidth:{number:r},borderWidthSelected:{number:r,undefined:"undefined"},brokenImage:{string:o,undefined:"undefined"},chosen:{label:{boolean:n,function:"function"},node:{boolean:n,function:"function"},__type__:{object:a,boolean:n}},color:{border:{string:o},background:{string:o},highlight:{border:{string:o},background:{string:o},__type__:{object:a,string:o}},hover:{border:{string:o},background:{string:o},__type__:{object:a,string:o}},__type__:{object:a,string:o}},fixed:{x:{boolean:n},y:{boolean:n},__type__:{object:a,boolean:n}},font:{align:{string:o},color:{string:o},size:{number:r},face:{string:o},background:{string:o},strokeWidth:{number:r},strokeColor:{string:o},vadjust:{number:r},multi:{boolean:n,string:o},bold:{color:{string:o},size:{number:r},face:{string:o},mod:{string:o},vadjust:{number:r},__type__:{object:a,string:o}},boldital:{color:{string:o},size:{number:r},face:{string:o},mod:{string:o},vadjust:{number:r},__type__:{object:a,string:o}},ital:{color:{string:o},size:{number:r},face:{string:o},mod:{string:o},vadjust:{number:r},__type__:{object:a,string:o}},mono:{color:{string:o},size:{number:r},face:{string:o},mod:{string:o},vadjust:{number:r},__type__:{object:a,string:o}},__type__:{object:a,string:o}},group:{string:o,number:r,undefined:"undefined"},heightConstraint:{minimum:{number:r},valign:{string:o},__type__:{object:a,boolean:n,number:r}},hidden:{boolean:n},icon:{face:{string:o},code:{string:o},size:{number:r},color:{string:o},__type__:{object:a}},id:{string:o,number:r},image:{selected:{string:o,undefined:"undefined"},unselected:{string:o,undefined:"undefined"},__type__:{object:a,string:o}},label:{string:o,undefined:"undefined"},labelHighlightBold:{boolean:n},level:{number:r,undefined:"undefined"},margin:{top:{number:r},right:{number:r},bottom:{number:r},left:{number:r},__type__:{object:a,number:r}},mass:{number:r},physics:{boolean:n},scaling:{min:{number:r},max:{number:r},label:{enabled:{boolean:n},min:{number:r},max:{number:r},maxVisible:{number:r},drawThreshold:{number:r},__type__:{object:a,boolean:n}},customScalingFunction:{function:"function"},__type__:{object:a}},shadow:{enabled:{boolean:n},color:{string:o},size:{number:r},x:{number:r},y:{number:r},__type__:{object:a,boolean:n}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},shapeProperties:{borderDashes:{boolean:n,array:s},borderRadius:{number:r},interpolation:{boolean:n},useImageSize:{boolean:n},useBorderWithImage:{boolean:n},__type__:{object:a}},size:{number:r},title:{string:o,dom:h,undefined:"undefined"},value:{number:r,undefined:"undefined"},widthConstraint:{minimum:{number:r},maximum:{number:r},__type__:{object:a,boolean:n,number:r}},x:{number:r},y:{number:r},__type__:{object:a}},physics:{enabled:{boolean:n},barnesHut:{gravitationalConstant:{number:r},centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},damping:{number:r},avoidOverlap:{number:r},__type__:{object:a}},forceAtlas2Based:{gravitationalConstant:{number:r},centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},damping:{number:r},avoidOverlap:{number:r},__type__:{object:a}},repulsion:{centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},nodeDistance:{number:r},damping:{number:r},__type__:{object:a}},hierarchicalRepulsion:{centralGravity:{number:r},springLength:{number:r},springConstant:{number:r},nodeDistance:{number:r},damping:{number:r},__type__:{object:a}},maxVelocity:{number:r},minVelocity:{number:r},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:n},iterations:{number:r},updateInterval:{number:r},onlyDynamicEdges:{boolean:n},fit:{boolean:n},__type__:{object:a,boolean:n}},timestep:{number:r},adaptiveTimestep:{boolean:n},__type__:{object:a,boolean:n}},autoResize:{boolean:n},clickToUse:{boolean:n},locale:{string:o},locales:{__any__:{any:"any"},__type__:{object:a}},height:{string:o},width:{string:o},__type__:{object:a}};u.groups.__any__=u.nodes;u.manipulation.controlNodeStyle=u.nodes;var c={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}};e.allOptions=u;e.configureOptions=c},function(t,e,i){var o=i(2);o.extend(e,i(159));o.extend(e,i(177));o.extend(e,i(181))},function(t,e,i){i(49);i(60);t.exports=i(136)},function(t,e,i){var o=i(126);var n=i(127);var r=i(31);var s=i(25);t.exports=i(79)(Array,"Array",function(t,e){this._t=s(t);this._i=0;this._k=e},function(){var t=this._t;var e=this._k;var i=this._i++;if(!t||i>=t.length){this._t=void 0;return n(1)}if("keys"==e)return n(0,i);if("values"==e)return n(0,t[i]);return n(0,[i,t[i]])},"values");r.Arguments=r.Array;o("keys");o("values");o("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){var o=i(54);var n=i(39);var r=i(59);var s={};i(26)(s,i(13)("iterator"),function(){return this});t.exports=function(t,e,i){t.prototype=o(s,{next:n(1,i)});r(t,e+" Iterator")}},function(t,e,i){var o=i(20);var n=i(27);var r=i(33);t.exports=i(21)?Object.defineProperties:function t(e,i){n(e);var s=r(i);var a=s.length;var h=0;var d;for(;a>h;)o.f(e,d=s[h++],i[d]);return e}},function(t,e,i){var o=i(25);var n=i(132);var r=i(133);t.exports=function(t){return function(e,i,s){var a=o(e);var h=n(a.length);var d=r(s,h);var l;if(t&&i!=i){for(;h>d;)if((l=a[d++])!=l)return!0}else for(;h>d;d++)if((t||d in a)&&a[d]===i)return t||d||0;return!t&&-1}}},function(t,e,i){var o=i(55);var n=Math.min;t.exports=function(t){return t>0?n(o(t),9007199254740991):0}},function(t,e,i){var o=i(55);var n=Math.max;var r=Math.min;t.exports=function(t,e){return(t=o(t))<0?n(t+e,0):r(t,e)}},function(t,e,i){var o=i(18).document;t.exports=o&&o.documentElement},function(t,e,i){var o=i(55);var n=i(51);t.exports=function(t){return function(e,i){var r=String(n(e));var s=o(i);var a=r.length;var h,d;if(s<0||s>=a)return t?"":void 0;return(h=r.charCodeAt(s))<55296||h>56319||s+1===a||(d=r.charCodeAt(s+1))<56320||d>57343?t?r.charAt(s):h:t?r.slice(s,s+2):d-56320+(h-55296<<10)+65536}}},function(t,e,i){var o=i(27);var n=i(137);t.exports=i(7).getIterator=function(t){var e=n(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return o(e.call(t))}},function(t,e,i){var o=i(86);var n=i(13)("iterator");var r=i(31);t.exports=i(7).getIteratorMethod=function(t){if(void 0!=t)return t[n]||t["@@iterator"]||r[o(t)]}},function(t,e,i){i(139);var o=i(7).Object;t.exports=function t(e,i){return o.create(e,i)}},function(t,e,i){var o=i(17);o(o.S,"Object",{create:i(54)})},function(t,e,i){i(141);t.exports=i(7).Object.keys},function(t,e,i){var o=i(41);var n=i(33);i(87)("keys",function(){return function t(e){return n(o(e))}})},function(t,e,i){t.exports={default:i(143),__esModule:!0}},function(t,e,i){i(60);i(49);t.exports=i(61).f("iterator")},function(t,e,i){t.exports={default:i(145),__esModule:!0}},function(t,e,i){i(146);i(151);i(152);i(153);t.exports=i(7).Symbol},function(t,e,i){var o=i(18);var n=i(22);var r=i(21);var s=i(17);var a=i(83);var h=i(147).KEY;var d=i(28);var l=i(57);var u=i(59);var c=i(40);var p=i(13);var f=i(61);var v=i(62);var m=i(148);var g=i(149);var y=i(27);var b=i(25);var _=i(53);var w=i(39);var x=i(54);var k=i(150);var S=i(89);var D=i(20);var O=i(33);var M=S.f;var C=D.f;var E=k.f;var T=o.Symbol;var P=o.JSON;var I=P&&P.stringify;var N="prototype";var A=p("_hidden");var R=p("toPrimitive");var z={}.propertyIsEnumerable;var L=l("symbol-registry");var F=l("symbols");var B=l("op-symbols");var j=Object[N];var H="function"==typeof T;var W=o.QObject;var Y=!W||!W[N]||!W[N].findChild;var G=r&&d(function(){return 7!=x(C({},"a",{get:function(){return C(this,"a",{value:7}).a}})).a})?function(t,e,i){var o=M(j,e);o&&delete j[e];C(t,e,i);o&&t!==j&&C(j,e,o)}:C;var V=function(t){var e=F[t]=x(T[N]);e._k=t;return e};var U=H&&"symbol"==typeof T.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof T};var q=function t(e,i,o){e===j&&q(B,i,o);y(e);i=_(i,!0);y(o);if(n(F,i)){if(o.enumerable){n(e,A)&&e[A][i]&&(e[A][i]=!1);o=x(o,{enumerable:w(0,!1)})}else{n(e,A)||C(e,A,w(1,{}));e[A][i]=!0}return G(e,i,o)}return C(e,i,o)};var X=function t(e,i){y(e);var o=m(i=b(i));var n=0;var r=o.length;var s;for(;r>n;)q(e,s=o[n++],i[s]);return e};var Z=function t(e,i){return void 0===i?x(e):X(x(e),i)};var K=function t(e){var i=z.call(this,e=_(e,!0));if(this===j&&n(F,e)&&!n(B,e))return!1;return!(i||!n(this,e)||!n(F,e)||n(this,A)&&this[A][e])||i};var Q=function t(e,i){e=b(e);i=_(i,!0);if(e===j&&n(F,i)&&!n(B,i))return;var o=M(e,i);!o||!n(F,i)||n(e,A)&&e[A][i]||(o.enumerable=!0);return o};var J=function t(e){var i=E(b(e));var o=[];var r=0;var s;for(;i.length>r;)n(F,s=i[r++])||s==A||s==h||o.push(s);return o};var $=function t(e){var i=e===j;var o=E(i?B:b(e));var r=[];var s=0;var a;for(;o.length>s;)!n(F,a=o[s++])||i&&!n(j,a)||r.push(F[a]);return r};if(!H){a((T=function t(){if(this instanceof T)throw TypeError("Symbol is not a constructor!");var e=c(arguments.length>0?arguments[0]:void 0);var i=function(t){this===j&&i.call(B,t);n(this,A)&&n(this[A],e)&&(this[A][e]=!1);G(this,e,w(1,t))};r&&Y&&G(j,e,{configurable:!0,set:i});return V(e)})[N],"toString",function t(){return this._k});S.f=Q;D.f=q;i(88).f=k.f=J;i(42).f=K;i(63).f=$;r&&!i(52)&&a(j,"propertyIsEnumerable",K,!0);f.f=function(t){return V(p(t))}}s(s.G+s.W+s.F*!H,{Symbol:T});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)p(tt[et++]);for(var it=O(p.store),ot=0;it.length>ot;)v(it[ot++]);s(s.S+s.F*!H,"Symbol",{for:function(t){return n(L,t+="")?L[t]:L[t]=T(t)},keyFor:function t(e){if(!U(e))throw TypeError(e+" is not a symbol!");for(var i in L)if(L[i]===e)return i},useSetter:function(){Y=!0},useSimple:function(){Y=!1}});s(s.S+s.F*!H,"Object",{create:Z,defineProperty:q,defineProperties:X,getOwnPropertyDescriptor:Q,getOwnPropertyNames:J,getOwnPropertySymbols:$});P&&s(s.S+s.F*(!H||d(function(){var t=T();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function t(e){if(void 0===e||U(e))return;var i=[e];var o=1;var n,r;for(;arguments.length>o;)i.push(arguments[o++]);"function"==typeof(n=i[1])&&(r=n);!r&&g(n)||(n=function(t,e){r&&(e=r.call(this,t,e));if(!U(e))return e});i[1]=n;return I.apply(P,i)}});T[N][R]||i(26)(T[N],R,T[N].valueOf);u(T,"Symbol");u(Math,"Math",!0);u(o.JSON,"JSON",!0)},function(t,e,i){var o=i(40)("meta");var n=i(32);var r=i(22);var s=i(20).f;var a=0;var h=Object.isExtensible||function(){return!0};var d=!i(28)(function(){return h(Object.preventExtensions({}))});var l=function(t){s(t,o,{value:{i:"O"+ ++a,w:{}}})};var u=function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,o)){if(!h(t))return"F";if(!e)return"E";l(t)}return t[o].i};var c=function(t,e){if(!r(t,o)){if(!h(t))return!0;if(!e)return!1;l(t)}return t[o].w};var p=function(t){d&&f.NEED&&h(t)&&!r(t,o)&&l(t);return t};var f=t.exports={KEY:o,NEED:!1,fastKey:u,getWeak:c,onFreeze:p}},function(t,e,i){var o=i(33);var n=i(63);var r=i(42);t.exports=function(t){var e=o(t);var i=n.f;if(i){var s=i(t);var a=r.f;var h=0;var d;for(;s.length>h;)a.call(t,d=s[h++])&&e.push(d)}return e}},function(t,e,i){var o=i(50);t.exports=Array.isArray||function t(e){return"Array"==o(e)}},function(t,e,i){var o=i(25);var n=i(88).f;var r={}.toString;var s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var a=function(t){try{return n(t)}catch(t){return s.slice()}};t.exports.f=function t(e){return s&&"[object Window]"==r.call(e)?a(e):n(o(e))}},function(t,e){},function(t,e,i){i(62)("asyncIterator")},function(t,e,i){i(62)("observable")},function(t,e,i){(function(t){var e;//! moment.js
//! version : 2.19.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
i=this,o=function(){var i;function o(){return i.apply(null,arguments)}function n(t){i=t}function r(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function s(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function a(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}function h(t){return void 0===t}function d(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function l(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function u(t,e){var i=[],o;for(o=0;o<t.length;++o)i.push(e(t[o],o));return i}function c(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function p(t,e){for(var i in e)c(e,i)&&(t[i]=e[i]);c(e,"toString")&&(t.toString=e.toString);c(e,"valueOf")&&(t.valueOf=e.valueOf);return t}function f(t,e,i,o){return Ui(t,e,i,o,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(t){null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1});return t._pf}var g;g=Array.prototype.some?Array.prototype.some:function(t){var e=Object(this);var i=e.length>>>0;for(var o=0;o<i;o++)if(o in e&&t.call(this,e[o],o,e))return!0;return!1};function y(t){if(null==t._isValid){var e=m(t);var i=g.call(e.parsedDateParts,function(t){return null!=t});var o=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);t._strict&&(o=o&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour);if(null!=Object.isFrozen&&Object.isFrozen(t))return o;t._isValid=o}return t._isValid}function b(t){var e=f(NaN);null!=t?p(m(e),t):m(e).userInvalidated=!0;return e}var _=o.momentProperties=[];function w(t,e){var i,o,n;h(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject);h(e._i)||(t._i=e._i);h(e._f)||(t._f=e._f);h(e._l)||(t._l=e._l);h(e._strict)||(t._strict=e._strict);h(e._tzm)||(t._tzm=e._tzm);h(e._isUTC)||(t._isUTC=e._isUTC);h(e._offset)||(t._offset=e._offset);h(e._pf)||(t._pf=m(e));h(e._locale)||(t._locale=e._locale);if(_.length>0)for(i=0;i<_.length;i++)h(n=e[o=_[i]])||(t[o]=n);return t}var x=!1;function k(t){w(this,t);this._d=new Date(null!=t._d?t._d.getTime():NaN);this.isValid()||(this._d=new Date(NaN));if(!1===x){x=!0;o.updateOffset(this);x=!1}}function S(t){return t instanceof k||null!=t&&null!=t._isAMomentObject}function D(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function O(t){var e=+t,i=0;0!==e&&isFinite(e)&&(i=D(e));return i}function M(t,e,i){var o=Math.min(t.length,e.length),n=Math.abs(t.length-e.length),r=0,s;for(s=0;s<o;s++)(i&&t[s]!==e[s]||!i&&O(t[s])!==O(e[s]))&&r++;return r+n}function C(t){!1===o.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function E(t,e){var i=!0;return p(function(){null!=o.deprecationHandler&&o.deprecationHandler(null,t);if(i){var n=[];var r;for(var s=0;s<arguments.length;s++){r="";if("object"==typeof arguments[s]){r+="\n["+s+"] ";for(var a in arguments[0])r+=a+": "+arguments[0][a]+", ";r=r.slice(0,-2)}else r=arguments[s];n.push(r)}C(t+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+(new Error).stack);i=!1}return e.apply(this,arguments)},e)}var T={};function P(t,e){null!=o.deprecationHandler&&o.deprecationHandler(t,e);if(!T[t]){C(e);T[t]=!0}}o.suppressDeprecationWarnings=!1;o.deprecationHandler=null;function I(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function N(t){var e,i;for(i in t)I(e=t[i])?this[i]=e:this["_"+i]=e;this._config=t;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function A(t,e){var i=p({},t),o;for(o in e)if(c(e,o))if(s(t[o])&&s(e[o])){i[o]={};p(i[o],t[o]);p(i[o],e[o])}else null!=e[o]?i[o]=e[o]:delete i[o];for(o in t)c(t,o)&&!c(e,o)&&s(t[o])&&(i[o]=p({},i[o]));return i}function R(t){null!=t&&this.set(t)}var z;z=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)c(t,e)&&i.push(e);return i};var L={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function F(t,e,i){var o=this._calendar[t]||this._calendar["sameElse"];return I(o)?o.call(e,i):o}var B={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function j(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];if(e||!i)return e;this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)});return this._longDateFormat[t]}var H="Invalid date";function W(){return this._invalidDate}var Y="%d";var G=/\d{1,2}/;function V(t){return this._ordinal.replace("%d",t)}var U={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function q(t,e,i,o){var n=this._relativeTime[i];return I(n)?n(t,e,i,o):n.replace(/%d/i,t)}function X(t,e){var i=this._relativeTime[t>0?"future":"past"];return I(i)?i(e):i.replace(/%s/i,e)}var Z={};function K(t,e){var i=t.toLowerCase();Z[i]=Z[i+"s"]=Z[e]=t}function Q(t){return"string"==typeof t?Z[t]||Z[t.toLowerCase()]:void 0}function J(t){var e={},i,o;for(o in t)c(t,o)&&(i=Q(o))&&(e[i]=t[o]);return e}var $={};function tt(t,e){$[t]=e}function et(t){var e=[];for(var i in t)e.push({unit:i,priority:$[i]});e.sort(function(t,e){return t.priority-e.priority});return e}function it(t,e,i){var o=""+Math.abs(t),n=e-o.length,r;return(t>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,n)).toString().substr(1)+o}var ot=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;var nt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;var rt={};var st={};function at(t,e,i,o){var n=o;"string"==typeof o&&(n=function(){return this[o]()});t&&(st[t]=n);e&&(st[e[0]]=function(){return it(n.apply(this,arguments),e[1],e[2])});i&&(st[i]=function(){return this.localeData().ordinal(n.apply(this,arguments),t)})}function ht(t){if(t.match(/\[[\s\S]/))return t.replace(/^\[|\]$/g,"");return t.replace(/\\/g,"")}function dt(t){var e=t.match(ot),i,o;for(i=0,o=e.length;i<o;i++)st[e[i]]?e[i]=st[e[i]]:e[i]=ht(e[i]);return function(i){var n="",r;for(r=0;r<o;r++)n+=I(e[r])?e[r].call(i,t):e[r];return n}}function lt(t,e){if(!t.isValid())return t.localeData().invalidDate();e=ut(e,t.localeData());rt[e]=rt[e]||dt(e);return rt[e](t)}function ut(t,e){var i=5;function o(t){return e.longDateFormat(t)||t}nt.lastIndex=0;for(;i>=0&&nt.test(t);){t=t.replace(nt,o);nt.lastIndex=0;i-=1}return t}var ct=/\d/;var pt=/\d\d/;var ft=/\d{3}/;var vt=/\d{4}/;var mt=/[+-]?\d{6}/;var gt=/\d\d?/;var yt=/\d\d\d\d?/;var bt=/\d\d\d\d\d\d?/;var _t=/\d{1,3}/;var wt=/\d{1,4}/;var xt=/[+-]?\d{1,6}/;var kt=/\d+/;var St=/[+-]?\d+/;var Dt=/Z|[+-]\d\d:?\d\d/gi;var Ot=/Z|[+-]\d\d(?::?\d\d)?/gi;var Mt=/[+-]?\d+(\.\d{1,3})?/;var Ct=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;var Et={};function Tt(t,e,i){Et[t]=I(e)?e:function(t,o){return t&&i?i:e}}function Pt(t,e){if(!c(Et,t))return new RegExp(It(t));return Et[t](e._strict,e._locale)}function It(t){return Nt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,o,n){return e||i||o||n}))}function Nt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var At={};function Rt(t,e){var i,o=e;"string"==typeof t&&(t=[t]);d(e)&&(o=function(t,i){i[e]=O(t)});for(i=0;i<t.length;i++)At[t[i]]=o}function zt(t,e){Rt(t,function(t,i,o,n){o._w=o._w||{};e(t,o._w,o,n)})}function Lt(t,e,i){null!=e&&c(At,t)&&At[t](e,i._a,i,t)}var Ft=0;var Bt=1;var jt=2;var Ht=3;var Wt=4;var Yt=5;var Gt=6;var Vt=7;var Ut=8;at("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t});at(0,["YY",2],0,function(){return this.year()%100});at(0,["YYYY",4],0,"year");at(0,["YYYYY",5],0,"year");at(0,["YYYYYY",6,!0],0,"year");K("year","y");tt("year",1);Tt("Y",St);Tt("YY",gt,pt);Tt("YYYY",wt,vt);Tt("YYYYY",xt,mt);Tt("YYYYYY",xt,mt);Rt(["YYYYY","YYYYYY"],Ft);Rt("YYYY",function(t,e){e[Ft]=2===t.length?o.parseTwoDigitYear(t):O(t)});Rt("YY",function(t,e){e[Ft]=o.parseTwoDigitYear(t)});Rt("Y",function(t,e){e[Ft]=parseInt(t,10)});function qt(t){return Xt(t)?366:365}function Xt(t){return t%4==0&&t%100!=0||t%400==0}o.parseTwoDigitYear=function(t){return O(t)+(O(t)>68?1900:2e3)};var Zt=Qt("FullYear",!0);function Kt(){return Xt(this.year())}function Qt(t,e){return function(i){if(null!=i){$t(this,t,i);o.updateOffset(this,e);return this}return Jt(this,t)}}function Jt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function $t(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&Xt(t.year())?t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),ne(i,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](i))}function te(t){if(I(this[t=Q(t)]))return this[t]();return this}function ee(t,e){if("object"==typeof t){var i=et(t=J(t));for(var o=0;o<i.length;o++)this[i[o].unit](t[i[o].unit])}else if(I(this[t=Q(t)]))return this[t](e);return this}function ie(t,e){return(t%e+e)%e}var oe;oe=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function ne(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=ie(e,12);t+=(e-i)/12;return 1===i?Xt(t)?29:28:31-i%7%2}at("M",["MM",2],"Mo",function(){return this.month()+1});at("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});at("MMMM",0,0,function(t){return this.localeData().months(this,t)});K("month","M");tt("month",8);Tt("M",gt);Tt("MM",gt,pt);Tt("MMM",function(t,e){return e.monthsShortRegex(t)});Tt("MMMM",function(t,e){return e.monthsRegex(t)});Rt(["M","MM"],function(t,e){e[Bt]=O(t)-1});Rt(["MMM","MMMM"],function(t,e,i,o){var n=i._locale.monthsParse(t,o,i._strict);null!=n?e[Bt]=n:m(i).invalidMonth=t});var re=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;var se="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function ae(t,e){if(!t)return r(this._months)?this._months:this._months["standalone"];return r(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||re).test(e)?"format":"standalone"][t.month()]}var he="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function de(t,e){if(!t)return r(this._monthsShort)?this._monthsShort:this._monthsShort["standalone"];return r(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[re.test(e)?"format":"standalone"][t.month()]}function le(t,e,i){var o,n,r,s=t.toLocaleLowerCase();if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];for(o=0;o<12;++o){r=f([2e3,o]);this._shortMonthsParse[o]=this.monthsShort(r,"").toLocaleLowerCase();this._longMonthsParse[o]=this.months(r,"").toLocaleLowerCase()}}if(i)return"MMM"===e?-1!==(n=oe.call(this._shortMonthsParse,s))?n:null:-1!==(n=oe.call(this._longMonthsParse,s))?n:null;if("MMM"===e){if(-1!==(n=oe.call(this._shortMonthsParse,s)))return n;return-1!==(n=oe.call(this._longMonthsParse,s))?n:null}if(-1!==(n=oe.call(this._longMonthsParse,s)))return n;return-1!==(n=oe.call(this._shortMonthsParse,s))?n:null}function ue(t,e,i){var o,n,r;if(this._monthsParseExact)return le.call(this,t,e,i);if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(o=0;o<12;o++){n=f([2e3,o]);if(i&&!this._longMonthsParse[o]){this._longMonthsParse[o]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i");this._shortMonthsParse[o]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")}if(!i&&!this._monthsParse[o]){r="^"+this.months(n,"")+"|^"+this.monthsShort(n,"");this._monthsParse[o]=new RegExp(r.replace(".",""),"i")}if(i&&"MMMM"===e&&this._longMonthsParse[o].test(t))return o;if(i&&"MMM"===e&&this._shortMonthsParse[o].test(t))return o;if(!i&&this._monthsParse[o].test(t))return o}}function ce(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=O(e);else if(!d(e=t.localeData().monthsParse(e)))return t;i=Math.min(t.date(),ne(t.year(),e));t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i);return t}function pe(t){if(null!=t){ce(this,t);o.updateOffset(this,!0);return this}return Jt(this,"Month")}function fe(){return ne(this.year(),this.month())}var ve=Ct;function me(t){if(this._monthsParseExact){c(this,"_monthsRegex")||be.call(this);return t?this._monthsShortStrictRegex:this._monthsShortRegex}c(this,"_monthsShortRegex")||(this._monthsShortRegex=ve);return this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex}var ge=Ct;function ye(t){if(this._monthsParseExact){c(this,"_monthsRegex")||be.call(this);return t?this._monthsStrictRegex:this._monthsRegex}c(this,"_monthsRegex")||(this._monthsRegex=ge);return this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex}function be(){function t(t,e){return e.length-t.length}var e=[],i=[],o=[],n,r;for(n=0;n<12;n++){r=f([2e3,n]);e.push(this.monthsShort(r,""));i.push(this.months(r,""));o.push(this.months(r,""));o.push(this.monthsShort(r,""))}e.sort(t);i.sort(t);o.sort(t);for(n=0;n<12;n++){e[n]=Nt(e[n]);i[n]=Nt(i[n])}for(n=0;n<24;n++)o[n]=Nt(o[n]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function _e(t,e,i,o,n,r,s){var a=new Date(t,e,i,o,n,r,s);t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t);return a}function we(t){var e=new Date(Date.UTC.apply(null,arguments));t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t);return e}function xe(t,e,i){var o=7+e-i,n;return-((7+we(t,0,o).getUTCDay()-e)%7)+o-1}function ke(t,e,i,o,n){var r,s,a=1+7*(e-1)+(7+i-o)%7+xe(t,o,n),h,d;if(a<=0)d=qt(h=t-1)+a;else if(a>qt(t)){h=t+1;d=a-qt(t)}else{h=t;d=a}return{year:h,dayOfYear:d}}function Se(t,e,i){var o=xe(t.year(),e,i),n=Math.floor((t.dayOfYear()-o-1)/7)+1,r,s;if(n<1)r=n+De(s=t.year()-1,e,i);else if(n>De(t.year(),e,i)){r=n-De(t.year(),e,i);s=t.year()+1}else{s=t.year();r=n}return{week:r,year:s}}function De(t,e,i){var o=xe(t,e,i),n=xe(t+1,e,i);return(qt(t)-o+n)/7}at("w",["ww",2],"wo","week");at("W",["WW",2],"Wo","isoWeek");K("week","w");K("isoWeek","W");tt("week",5);tt("isoWeek",5);Tt("w",gt);Tt("ww",gt,pt);Tt("W",gt);Tt("WW",gt,pt);zt(["w","ww","W","WW"],function(t,e,i,o){e[o.substr(0,1)]=O(t)});function Oe(t){return Se(t,this._week.dow,this._week.doy).week}var Me={dow:0,doy:6};function Ce(){return this._week.dow}function Ee(){return this._week.doy}function Te(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Pe(t){var e=Se(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}at("d",0,"do","day");at("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});at("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});at("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});at("e",0,0,"weekday");at("E",0,0,"isoWeekday");K("day","d");K("weekday","e");K("isoWeekday","E");tt("day",11);tt("weekday",11);tt("isoWeekday",11);Tt("d",gt);Tt("e",gt);Tt("E",gt);Tt("dd",function(t,e){return e.weekdaysMinRegex(t)});Tt("ddd",function(t,e){return e.weekdaysShortRegex(t)});Tt("dddd",function(t,e){return e.weekdaysRegex(t)});zt(["dd","ddd","dddd"],function(t,e,i,o){var n=i._locale.weekdaysParse(t,o,i._strict);null!=n?e.d=n:m(i).invalidWeekday=t});zt(["d","e","E"],function(t,e,i,o){e[o]=O(t)});function Ie(t,e){if("string"!=typeof t)return t;if(!isNaN(t))return parseInt(t,10);if("number"==typeof(t=e.weekdaysParse(t)))return t;return null}function Ne(t,e){if("string"==typeof t)return e.weekdaysParse(t)%7||7;return isNaN(t)?null:t}var Ae="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function Re(t,e){if(!t)return r(this._weekdays)?this._weekdays:this._weekdays["standalone"];return r(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}var ze="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function Le(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}var Fe="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Be(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function je(t,e,i){var o,n,r,s=t.toLocaleLowerCase();if(!this._weekdaysParse){this._weekdaysParse=[];this._shortWeekdaysParse=[];this._minWeekdaysParse=[];for(o=0;o<7;++o){r=f([2e3,1]).day(o);this._minWeekdaysParse[o]=this.weekdaysMin(r,"").toLocaleLowerCase();this._shortWeekdaysParse[o]=this.weekdaysShort(r,"").toLocaleLowerCase();this._weekdaysParse[o]=this.weekdays(r,"").toLocaleLowerCase()}}if(i)return"dddd"===e?-1!==(n=oe.call(this._weekdaysParse,s))?n:null:"ddd"===e?-1!==(n=oe.call(this._shortWeekdaysParse,s))?n:null:-1!==(n=oe.call(this._minWeekdaysParse,s))?n:null;if("dddd"===e){if(-1!==(n=oe.call(this._weekdaysParse,s)))return n;if(-1!==(n=oe.call(this._shortWeekdaysParse,s)))return n;return-1!==(n=oe.call(this._minWeekdaysParse,s))?n:null}if("ddd"===e){if(-1!==(n=oe.call(this._shortWeekdaysParse,s)))return n;if(-1!==(n=oe.call(this._weekdaysParse,s)))return n;return-1!==(n=oe.call(this._minWeekdaysParse,s))?n:null}if(-1!==(n=oe.call(this._minWeekdaysParse,s)))return n;if(-1!==(n=oe.call(this._weekdaysParse,s)))return n;return-1!==(n=oe.call(this._shortWeekdaysParse,s))?n:null}function He(t,e,i){var o,n,r;if(this._weekdaysParseExact)return je.call(this,t,e,i);if(!this._weekdaysParse){this._weekdaysParse=[];this._minWeekdaysParse=[];this._shortWeekdaysParse=[];this._fullWeekdaysParse=[]}for(o=0;o<7;o++){n=f([2e3,1]).day(o);if(i&&!this._fullWeekdaysParse[o]){this._fullWeekdaysParse[o]=new RegExp("^"+this.weekdays(n,"").replace(".",".?")+"$","i");this._shortWeekdaysParse[o]=new RegExp("^"+this.weekdaysShort(n,"").replace(".",".?")+"$","i");this._minWeekdaysParse[o]=new RegExp("^"+this.weekdaysMin(n,"").replace(".",".?")+"$","i")}if(!this._weekdaysParse[o]){r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,"");this._weekdaysParse[o]=new RegExp(r.replace(".",""),"i")}if(i&&"dddd"===e&&this._fullWeekdaysParse[o].test(t))return o;if(i&&"ddd"===e&&this._shortWeekdaysParse[o].test(t))return o;if(i&&"dd"===e&&this._minWeekdaysParse[o].test(t))return o;if(!i&&this._weekdaysParse[o].test(t))return o}}function We(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=t){t=Ie(t,this.localeData());return this.add(t-e,"d")}return e}function Ye(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ge(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Ne(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}var Ve=Ct;function Ue(t){if(this._weekdaysParseExact){c(this,"_weekdaysRegex")||Qe.call(this);return t?this._weekdaysStrictRegex:this._weekdaysRegex}c(this,"_weekdaysRegex")||(this._weekdaysRegex=Ve);return this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex}var qe=Ct;function Xe(t){if(this._weekdaysParseExact){c(this,"_weekdaysRegex")||Qe.call(this);return t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qe);return this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}var Ze=Ct;function Ke(t){if(this._weekdaysParseExact){c(this,"_weekdaysRegex")||Qe.call(this);return t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ze);return this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}function Qe(){function t(t,e){return e.length-t.length}var e=[],i=[],o=[],n=[],r,s,a,h,d;for(r=0;r<7;r++){s=f([2e3,1]).day(r);a=this.weekdaysMin(s,"");h=this.weekdaysShort(s,"");d=this.weekdays(s,"");e.push(a);i.push(h);o.push(d);n.push(a);n.push(h);n.push(d)}e.sort(t);i.sort(t);o.sort(t);n.sort(t);for(r=0;r<7;r++){i[r]=Nt(i[r]);o[r]=Nt(o[r]);n[r]=Nt(n[r])}this._weekdaysRegex=new RegExp("^("+n.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+o.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Je(){return this.hours()%12||12}function $e(){return this.hours()||24}at("H",["HH",2],0,"hour");at("h",["hh",2],0,Je);at("k",["kk",2],0,$e);at("hmm",0,0,function(){return""+Je.apply(this)+it(this.minutes(),2)});at("hmmss",0,0,function(){return""+Je.apply(this)+it(this.minutes(),2)+it(this.seconds(),2)});at("Hmm",0,0,function(){return""+this.hours()+it(this.minutes(),2)});at("Hmmss",0,0,function(){return""+this.hours()+it(this.minutes(),2)+it(this.seconds(),2)});function ti(t,e){at(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}ti("a",!0);ti("A",!1);K("hour","h");tt("hour",13);function ei(t,e){return e._meridiemParse}Tt("a",ei);Tt("A",ei);Tt("H",gt);Tt("h",gt);Tt("k",gt);Tt("HH",gt,pt);Tt("hh",gt,pt);Tt("kk",gt,pt);Tt("hmm",yt);Tt("hmmss",bt);Tt("Hmm",yt);Tt("Hmmss",bt);Rt(["H","HH"],Ht);Rt(["k","kk"],function(t,e,i){var o=O(t);e[Ht]=24===o?0:o});Rt(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t);i._meridiem=t});Rt(["h","hh"],function(t,e,i){e[Ht]=O(t);m(i).bigHour=!0});Rt("hmm",function(t,e,i){var o=t.length-2;e[Ht]=O(t.substr(0,o));e[Wt]=O(t.substr(o));m(i).bigHour=!0});Rt("hmmss",function(t,e,i){var o=t.length-4;var n=t.length-2;e[Ht]=O(t.substr(0,o));e[Wt]=O(t.substr(o,2));e[Yt]=O(t.substr(n));m(i).bigHour=!0});Rt("Hmm",function(t,e,i){var o=t.length-2;e[Ht]=O(t.substr(0,o));e[Wt]=O(t.substr(o))});Rt("Hmmss",function(t,e,i){var o=t.length-4;var n=t.length-2;e[Ht]=O(t.substr(0,o));e[Wt]=O(t.substr(o,2));e[Yt]=O(t.substr(n))});function ii(t){return"p"===(t+"").toLowerCase().charAt(0)}var oi=/[ap]\.?m?\.?/i;function ni(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}var ri=Qt("Hours",!0);var si={calendar:L,longDateFormat:B,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:G,relativeTime:U,months:se,monthsShort:he,week:Me,weekdays:Ae,weekdaysMin:Fe,weekdaysShort:ze,meridiemParse:oi};var ai={};var hi={};var di;function li(t){return t?t.toLowerCase().replace("_","-"):t}function ui(t){var e=0,i,o,n,r;for(;e<t.length;){i=(r=li(t[e]).split("-")).length;o=(o=li(t[e+1]))?o.split("-"):null;for(;i>0;){if(n=ci(r.slice(0,i).join("-")))return n;if(o&&o.length>=i&&M(r,o,!0)>=i-1)break;i--}e++}return null}function ci(i){var o=null;if(!ai[i]&&void 0!==t&&t&&t.exports)try{o=di._abbr;var n=e;!function t(){var e=new Error('Cannot find module "./locale"');e.code="MODULE_NOT_FOUND";throw e}();pi(o)}catch(t){}return ai[i]}function pi(t,e){var i;t&&(i=h(e)?mi(t):fi(t,e))&&(di=i);return di._abbr}function fi(t,e){if(null!==e){var i=si;e.abbr=t;if(null!=ai[t]){P("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info.");i=ai[t]._config}else if(null!=e.parentLocale){if(null==ai[e.parentLocale]){hi[e.parentLocale]||(hi[e.parentLocale]=[]);hi[e.parentLocale].push({name:t,config:e});return null}i=ai[e.parentLocale]._config}ai[t]=new R(A(i,e));hi[t]&&hi[t].forEach(function(t){fi(t.name,t.config)});pi(t);return ai[t]}delete ai[t];return null}function vi(t,e){if(null!=e){var i,o=si;null!=ai[t]&&(o=ai[t]._config);(i=new R(e=A(o,e))).parentLocale=ai[t];ai[t]=i;pi(t)}else null!=ai[t]&&(null!=ai[t].parentLocale?ai[t]=ai[t].parentLocale:null!=ai[t]&&delete ai[t]);return ai[t]}function mi(t){var e;t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr);if(!t)return di;if(!r(t)){if(e=ci(t))return e;t=[t]}return ui(t)}function gi(){return z(ai)}function yi(t){var e;var i=t._a;if(i&&-2===m(t).overflow){e=i[Bt]<0||i[Bt]>11?Bt:i[jt]<1||i[jt]>ne(i[Ft],i[Bt])?jt:i[Ht]<0||i[Ht]>24||24===i[Ht]&&(0!==i[Wt]||0!==i[Yt]||0!==i[Gt])?Ht:i[Wt]<0||i[Wt]>59?Wt:i[Yt]<0||i[Yt]>59?Yt:i[Gt]<0||i[Gt]>999?Gt:-1;m(t)._overflowDayOfYear&&(e<Ft||e>jt)&&(e=jt);m(t)._overflowWeeks&&-1===e&&(e=Vt);m(t)._overflowWeekday&&-1===e&&(e=Ut);m(t).overflow=e}return t}function bi(t,e,i){if(null!=t)return t;if(null!=e)return e;return i}function _i(t){var e=new Date(o.now());if(t._useUTC)return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()];return[e.getFullYear(),e.getMonth(),e.getDate()]}function wi(t){var e,i,o=[],n,r;if(t._d)return;n=_i(t);t._w&&null==t._a[jt]&&null==t._a[Bt]&&xi(t);if(null!=t._dayOfYear){r=bi(t._a[Ft],n[Ft]);(t._dayOfYear>qt(r)||0===t._dayOfYear)&&(m(t)._overflowDayOfYear=!0);i=we(r,0,t._dayOfYear);t._a[Bt]=i.getUTCMonth();t._a[jt]=i.getUTCDate()}for(e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=n[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];if(24===t._a[Ht]&&0===t._a[Wt]&&0===t._a[Yt]&&0===t._a[Gt]){t._nextDay=!0;t._a[Ht]=0}t._d=(t._useUTC?we:_e).apply(null,o);null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm);t._nextDay&&(t._a[Ht]=24);t._w&&void 0!==t._w.d&&t._w.d!==t._d.getDay()&&(m(t).weekdayMismatch=!0)}function xi(t){var e,i,o,n,r,s,a,h;if(null!=(e=t._w).GG||null!=e.W||null!=e.E){r=1;s=4;i=bi(e.GG,t._a[Ft],Se(qi(),1,4).year);o=bi(e.W,1);((n=bi(e.E,1))<1||n>7)&&(h=!0)}else{r=t._locale._week.dow;s=t._locale._week.doy;var d=Se(qi(),r,s);i=bi(e.gg,t._a[Ft],d.year);o=bi(e.w,d.week);if(null!=e.d)((n=e.d)<0||n>6)&&(h=!0);else if(null!=e.e){n=e.e+r;(e.e<0||e.e>6)&&(h=!0)}else n=r}if(o<1||o>De(i,r,s))m(t)._overflowWeeks=!0;else if(null!=h)m(t)._overflowWeekday=!0;else{a=ke(i,o,n,r,s);t._a[Ft]=a.year;t._dayOfYear=a.dayOfYear}}var ki=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var Si=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var Di=/Z|[+-]\d\d(?::?\d\d)?/;var Oi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]];var Mi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]];var Ci=/^\/?Date\((\-?\d+)/i;function Ei(t){var e,i,o=t._i,n=ki.exec(o)||Si.exec(o),r,s,a,h;if(n){m(t).iso=!0;for(e=0,i=Oi.length;e<i;e++)if(Oi[e][1].exec(n[1])){s=Oi[e][0];r=!1!==Oi[e][2];break}if(null==s){t._isValid=!1;return}if(n[3]){for(e=0,i=Mi.length;e<i;e++)if(Mi[e][1].exec(n[3])){a=(n[2]||" ")+Mi[e][0];break}if(null==a){t._isValid=!1;return}}if(!r&&null!=a){t._isValid=!1;return}if(n[4]){if(!Di.exec(n[4])){t._isValid=!1;return}h="Z"}t._f=s+(a||"")+(h||"");Bi(t)}else t._isValid=!1}var Ti=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Pi(t,e,i,o,n,r){var s=[Ii(t),he.indexOf(e),parseInt(i,10),parseInt(o,10),parseInt(n,10)];r&&s.push(parseInt(r,10));return s}function Ii(t){var e=parseInt(t,10);if(e<=49)return 2e3+e;if(e<=999)return 1900+e;return e}function Ni(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function Ai(t,e,i){if(t){var o,n;if(ze.indexOf(t)!==new Date(e[0],e[1],e[2]).getDay()){m(i).weekdayMismatch=!0;i._isValid=!1;return!1}}return!0}var Ri={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function zi(t,e,i){if(t)return Ri[t];if(e)return 0;var o=parseInt(i,10);var n=o%100,r;return 60*((o-n)/100)+n}function Li(t){var e=Ti.exec(Ni(t._i));if(e){var i=Pi(e[4],e[3],e[2],e[5],e[6],e[7]);if(!Ai(e[1],i,t))return;t._a=i;t._tzm=zi(e[8],e[9],e[10]);t._d=we.apply(null,t._a);t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm);m(t).rfc2822=!0}else t._isValid=!1}function Fi(t){var e=Ci.exec(t._i);if(null!==e){t._d=new Date(+e[1]);return}Ei(t);if(!1!==t._isValid)return;delete t._isValid;Li(t);if(!1!==t._isValid)return;delete t._isValid;o.createFromInputFallback(t)}o.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});o.ISO_8601=function(){};o.RFC_2822=function(){};function Bi(t){if(t._f===o.ISO_8601){Ei(t);return}if(t._f===o.RFC_2822){Li(t);return}t._a=[];m(t).empty=!0;var e=""+t._i,i,n,r,s,a,h=e.length,d=0;r=ut(t._f,t._locale).match(ot)||[];for(i=0;i<r.length;i++){s=r[i];if(n=(e.match(Pt(s,t))||[])[0]){(a=e.substr(0,e.indexOf(n))).length>0&&m(t).unusedInput.push(a);e=e.slice(e.indexOf(n)+n.length);d+=n.length}if(st[s]){n?m(t).empty=!1:m(t).unusedTokens.push(s);Lt(s,n,t)}else t._strict&&!n&&m(t).unusedTokens.push(s)}m(t).charsLeftOver=h-d;e.length>0&&m(t).unusedInput.push(e);t._a[Ht]<=12&&!0===m(t).bigHour&&t._a[Ht]>0&&(m(t).bigHour=void 0);m(t).parsedDateParts=t._a.slice(0);m(t).meridiem=t._meridiem;t._a[Ht]=ji(t._locale,t._a[Ht],t._meridiem);wi(t);yi(t)}function ji(t,e,i){var o;if(null==i)return e;if(null!=t.meridiemHour)return t.meridiemHour(e,i);if(null!=t.isPM){(o=t.isPM(i))&&e<12&&(e+=12);o||12!==e||(e=0);return e}return e}function Hi(t){var e,i,o,n,r;if(0===t._f.length){m(t).invalidFormat=!0;t._d=new Date(NaN);return}for(n=0;n<t._f.length;n++){r=0;e=w({},t);null!=t._useUTC&&(e._useUTC=t._useUTC);e._f=t._f[n];Bi(e);if(!y(e))continue;r+=m(e).charsLeftOver;r+=10*m(e).unusedTokens.length;m(e).score=r;if(null==o||r<o){o=r;i=e}}p(t,i||e)}function Wi(t){if(t._d)return;var e=J(t._i);t._a=u([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)});wi(t)}function Yi(t){var e=new k(yi(Gi(t)));if(e._nextDay){e.add(1,"d");e._nextDay=void 0}return e}function Gi(t){var e=t._i,i=t._f;t._locale=t._locale||mi(t._l);if(null===e||void 0===i&&""===e)return b({nullInput:!0});"string"==typeof e&&(t._i=e=t._locale.preparse(e));if(S(e))return new k(yi(e));l(e)?t._d=e:r(i)?Hi(t):i?Bi(t):Vi(t);y(t)||(t._d=null);return t}function Vi(t){var e=t._i;if(h(e))t._d=new Date(o.now());else if(l(e))t._d=new Date(e.valueOf());else if("string"==typeof e)Fi(t);else if(r(e)){t._a=u(e.slice(0),function(t){return parseInt(t,10)});wi(t)}else s(e)?Wi(t):d(e)?t._d=new Date(e):o.createFromInputFallback(t)}function Ui(t,e,i,o,n){var h={};if(!0===i||!1===i){o=i;i=void 0}(s(t)&&a(t)||r(t)&&0===t.length)&&(t=void 0);h._isAMomentObject=!0;h._useUTC=h._isUTC=n;h._l=i;h._i=t;h._f=e;h._strict=o;return Yi(h)}function qi(t,e,i,o){return Ui(t,e,i,o,!1)}var Xi=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=qi.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:b()});var Zi=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=qi.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:b()});function Ki(t,e){var i,o;1===e.length&&r(e[0])&&(e=e[0]);if(!e.length)return qi();i=e[0];for(o=1;o<e.length;++o)e[o].isValid()&&!e[o][t](i)||(i=e[o]);return i}function Qi(){var t;return Ki("isBefore",[].slice.call(arguments,0))}function Ji(){var t;return Ki("isAfter",[].slice.call(arguments,0))}var $i=function(){return Date.now?Date.now():+new Date};var to=["year","quarter","month","week","day","hour","minute","second","millisecond"];function eo(t){for(var e in t)if(-1===oe.call(to,e)||null!=t[e]&&isNaN(t[e]))return!1;var i=!1;for(var o=0;o<to.length;++o)if(t[to[o]]){if(i)return!1;parseFloat(t[to[o]])!==O(t[to[o]])&&(i=!0)}return!0}function io(){return this._isValid}function oo(){return Oo(NaN)}function no(t){var e=J(t),i=e.year||0,o=e.quarter||0,n=e.month||0,r=e.week||0,s=e.day||0,a=e.hour||0,h=e.minute||0,d=e.second||0,l=e.millisecond||0;this._isValid=eo(e);this._milliseconds=+l+1e3*d+6e4*h+1e3*a*60*60;this._days=+s+7*r;this._months=+n+3*o+12*i;this._data={};this._locale=mi();this._bubble()}function ro(t){return t instanceof no}function so(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function ao(t,e){at(t,0,0,function(){var t=this.utcOffset();var i="+";if(t<0){t=-t;i="-"}return i+it(~~(t/60),2)+e+it(~~t%60,2)})}ao("Z",":");ao("ZZ","");Tt("Z",Ot);Tt("ZZ",Ot);Rt(["Z","ZZ"],function(t,e,i){i._useUTC=!0;i._tzm=lo(Ot,t)});var ho=/([\+\-]|\d\d)/gi;function lo(t,e){var i=(e||"").match(t);if(null===i)return null;var o;var n=((i[i.length-1]||[])+"").match(ho)||["-",0,0];var r=60*n[1]+O(n[2]);return 0===r?0:"+"===n[0]?r:-r}function uo(t,e){var i,n;if(e._isUTC){i=e.clone();n=(S(t)||l(t)?t.valueOf():qi(t).valueOf())-i.valueOf();i._d.setTime(i._d.valueOf()+n);o.updateOffset(i,!1);return i}return qi(t).local()}function co(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}o.updateOffset=function(){};function po(t,e,i){var n=this._offset||0,r;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=lo(Ot,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);!this._isUTC&&e&&(r=co(this));this._offset=t;this._isUTC=!0;null!=r&&this.add(r,"m");if(n!==t)if(!e||this._changeInProgress)Po(this,Oo(t-n,"m"),1,!1);else if(!this._changeInProgress){this._changeInProgress=!0;o.updateOffset(this,!0);this._changeInProgress=null}return this}return this._isUTC?n:co(this)}function fo(t,e){if(null!=t){"string"!=typeof t&&(t=-t);this.utcOffset(t,e);return this}return-this.utcOffset()}function vo(t){return this.utcOffset(0,t)}function mo(t){if(this._isUTC){this.utcOffset(0,t);this._isUTC=!1;t&&this.subtract(co(this),"m")}return this}function go(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=lo(Dt,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function yo(t){if(!this.isValid())return!1;t=t?qi(t).utcOffset():0;return(this.utcOffset()-t)%60==0}function bo(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function _o(){if(!h(this._isDSTShifted))return this._isDSTShifted;var t={};w(t,this);if((t=Gi(t))._a){var e=t._isUTC?f(t._a):qi(t._a);this._isDSTShifted=this.isValid()&&M(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function wo(){return!!this.isValid()&&!this._isUTC}function xo(){return!!this.isValid()&&this._isUTC}function ko(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}var So=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/;var Do=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Oo(t,e){var i=t,o=null,n,r,s;if(ro(t))i={ms:t._milliseconds,d:t._days,M:t._months};else if(d(t)){i={};e?i[e]=t:i.milliseconds=t}else if(o=So.exec(t)){n="-"===o[1]?-1:1;i={y:0,d:O(o[jt])*n,h:O(o[Ht])*n,m:O(o[Wt])*n,s:O(o[Yt])*n,ms:O(so(1e3*o[Gt]))*n}}else if(o=Do.exec(t)){n="-"===o[1]?-1:(o[1],1);i={y:Mo(o[2],n),M:Mo(o[3],n),w:Mo(o[4],n),d:Mo(o[5],n),h:Mo(o[6],n),m:Mo(o[7],n),s:Mo(o[8],n)}}else if(null==i)i={};else if("object"==typeof i&&("from"in i||"to"in i)){s=Eo(qi(i.from),qi(i.to));(i={}).ms=s.milliseconds;i.M=s.months}r=new no(i);ro(t)&&c(t,"_locale")&&(r._locale=t._locale);return r}Oo.fn=no.prototype;Oo.invalid=oo;function Mo(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Co(t,e){var i={milliseconds:0,months:0};i.months=e.month()-t.month()+12*(e.year()-t.year());t.clone().add(i.months,"M").isAfter(e)&&--i.months;i.milliseconds=+e-+t.clone().add(i.months,"M");return i}function Eo(t,e){var i;if(!t.isValid()||!e.isValid())return{milliseconds:0,months:0};e=uo(e,t);if(t.isBefore(e))i=Co(t,e);else{(i=Co(e,t)).milliseconds=-i.milliseconds;i.months=-i.months}return i}function To(t,e){return function(i,o){var n,r;if(null!==o&&!isNaN(+o)){P(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.");r=i;i=o;o=r}Po(this,n=Oo(i="string"==typeof i?+i:i,o),t);return this}}function Po(t,e,i,n){var r=e._milliseconds,s=so(e._days),a=so(e._months);if(!t.isValid())return;n=null==n||n;a&&ce(t,Jt(t,"Month")+a*i);s&&$t(t,"Date",Jt(t,"Date")+s*i);r&&t._d.setTime(t._d.valueOf()+r*i);n&&o.updateOffset(t,s||a)}var Io=To(1,"add");var No=To(-1,"subtract");function Ao(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function Ro(t,e){var i=t||qi(),n=uo(i,this).startOf("day"),r=o.calendarFormat(this,n)||"sameElse";var s=e&&(I(e[r])?e[r].call(this,i):e[r]);return this.format(s||this.localeData().calendar(r,this,qi(i)))}function zo(){return new k(this)}function Lo(t,e){var i=S(t)?t:qi(t);if(!this.isValid()||!i.isValid())return!1;return"millisecond"===(e=Q(h(e)?"millisecond":e))?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf()}function Fo(t,e){var i=S(t)?t:qi(t);if(!this.isValid()||!i.isValid())return!1;return"millisecond"===(e=Q(h(e)?"millisecond":e))?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf()}function Bo(t,e,i,o){return("("===(o=o||"()")[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===o[1]?this.isBefore(e,i):!this.isAfter(e,i))}function jo(t,e){var i=S(t)?t:qi(t),o;if(!this.isValid()||!i.isValid())return!1;if("millisecond"===(e=Q(e||"millisecond")))return this.valueOf()===i.valueOf();o=i.valueOf();return this.clone().startOf(e).valueOf()<=o&&o<=this.clone().endOf(e).valueOf()}function Ho(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Wo(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Yo(t,e,i){var o,n,r,s;if(!this.isValid())return NaN;if(!(o=uo(t,this)).isValid())return NaN;n=6e4*(o.utcOffset()-this.utcOffset());switch(e=Q(e)){case"year":s=Go(this,o)/12;break;case"month":s=Go(this,o);break;case"quarter":s=Go(this,o)/3;break;case"second":s=(this-o)/1e3;break;case"minute":s=(this-o)/6e4;break;case"hour":s=(this-o)/36e5;break;case"day":s=(this-o-n)/864e5;break;case"week":s=(this-o-n)/6048e5;break;default:s=this-o}return i?s:D(s)}function Go(t,e){var i=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(i,"months"),n,r;return-(i+(r=e-o<0?(e-o)/(o-(n=t.clone().add(i-1,"months"))):(e-o)/((n=t.clone().add(i+1,"months"))-o)))||0}o.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";o.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Vo(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Uo(){if(!this.isValid())return null;var t=this.clone().utc();if(t.year()<0||t.year()>9999)return lt(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]");if(I(Date.prototype.toISOString))return this.toDate().toISOString();return lt(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function qo(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment";var e="";if(!this.isLocal()){t=0===this.utcOffset()?"moment.utc":"moment.parseZone";e="Z"}var i="["+t+'("]';var o=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";var n="-MM-DD[T]HH:mm:ss.SSS";var r=e+'[")]';return this.format(i+o+n+r)}function Xo(t){t||(t=this.isUtc()?o.defaultFormatUtc:o.defaultFormat);var e=lt(this,t);return this.localeData().postformat(e)}function Zo(t,e){return this.isValid()&&(S(t)&&t.isValid()||qi(t).isValid())?Oo({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Ko(t){return this.from(qi(),t)}function Qo(t,e){return this.isValid()&&(S(t)&&t.isValid()||qi(t).isValid())?Oo({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Jo(t){return this.to(qi(),t)}function $o(t){var e;if(void 0===t)return this._locale._abbr;null!=(e=mi(t))&&(this._locale=e);return this}var tn=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function en(){return this._locale}function on(t){switch(t=Q(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}"week"===t&&this.weekday(0);"isoWeek"===t&&this.isoWeekday(1);"quarter"===t&&this.month(3*Math.floor(this.month()/3));return this}function nn(t){if(void 0===(t=Q(t))||"millisecond"===t)return this;"date"===t&&(t="day");return this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function rn(){return this._d.valueOf()-6e4*(this._offset||0)}function sn(){return Math.floor(this.valueOf()/1e3)}function an(){return new Date(this.valueOf())}function hn(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function dn(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function ln(){return this.isValid()?this.toISOString():null}function un(){return y(this)}function cn(){return p({},m(this))}function pn(){return m(this).overflow}function fn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}at(0,["gg",2],0,function(){return this.weekYear()%100});at(0,["GG",2],0,function(){return this.isoWeekYear()%100});function vn(t,e){at(0,[t,t.length],0,e)}vn("gggg","weekYear");vn("ggggg","weekYear");vn("GGGG","isoWeekYear");vn("GGGGG","isoWeekYear");K("weekYear","gg");K("isoWeekYear","GG");tt("weekYear",1);tt("isoWeekYear",1);Tt("G",St);Tt("g",St);Tt("GG",gt,pt);Tt("gg",gt,pt);Tt("GGGG",wt,vt);Tt("gggg",wt,vt);Tt("GGGGG",xt,mt);Tt("ggggg",xt,mt);zt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,o){e[o.substr(0,2)]=O(t)});zt(["gg","GG"],function(t,e,i,n){e[n]=o.parseTwoDigitYear(t)});function mn(t){return _n.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function gn(t){return _n.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function yn(){return De(this.year(),1,4)}function bn(){var t=this.localeData()._week;return De(this.year(),t.dow,t.doy)}function _n(t,e,i,o,n){var r;if(null==t)return Se(this,o,n).year;e>(r=De(t,o,n))&&(e=r);return wn.call(this,t,e,i,o,n)}function wn(t,e,i,o,n){var r=ke(t,e,i,o,n),s=we(r.year,0,r.dayOfYear);this.year(s.getUTCFullYear());this.month(s.getUTCMonth());this.date(s.getUTCDate());return this}at("Q",0,"Qo","quarter");K("quarter","Q");tt("quarter",7);Tt("Q",ct);Rt("Q",function(t,e){e[Bt]=3*(O(t)-1)});function xn(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}at("D",["DD",2],"Do","date");K("date","D");tt("date",9);Tt("D",gt);Tt("DD",gt,pt);Tt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Rt(["D","DD"],jt);Rt("Do",function(t,e){e[jt]=O(t.match(gt)[0],10)});var kn=Qt("Date",!0);at("DDD",["DDDD",3],"DDDo","dayOfYear");K("dayOfYear","DDD");tt("dayOfYear",4);Tt("DDD",_t);Tt("DDDD",ft);Rt(["DDD","DDDD"],function(t,e,i){i._dayOfYear=O(t)});function Sn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}at("m",["mm",2],0,"minute");K("minute","m");tt("minute",14);Tt("m",gt);Tt("mm",gt,pt);Rt(["m","mm"],Wt);var Dn=Qt("Minutes",!1);at("s",["ss",2],0,"second");K("second","s");tt("second",15);Tt("s",gt);Tt("ss",gt,pt);Rt(["s","ss"],Yt);var On=Qt("Seconds",!1);at("S",0,0,function(){return~~(this.millisecond()/100)});at(0,["SS",2],0,function(){return~~(this.millisecond()/10)});at(0,["SSS",3],0,"millisecond");at(0,["SSSS",4],0,function(){return 10*this.millisecond()});at(0,["SSSSS",5],0,function(){return 100*this.millisecond()});at(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()});at(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()});at(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()});at(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()});K("millisecond","ms");tt("millisecond",16);Tt("S",_t,ct);Tt("SS",_t,pt);Tt("SSS",_t,ft);var Mn;for(Mn="SSSS";Mn.length<=9;Mn+="S")Tt(Mn,kt);function Cn(t,e){e[Gt]=O(1e3*("0."+t))}for(Mn="S";Mn.length<=9;Mn+="S")Rt(Mn,Cn);var En=Qt("Milliseconds",!1);at("z",0,0,"zoneAbbr");at("zz",0,0,"zoneName");function Tn(){return this._isUTC?"UTC":""}function Pn(){return this._isUTC?"Coordinated Universal Time":""}var In=k.prototype;In.add=Io;In.calendar=Ro;In.clone=zo;In.diff=Yo;In.endOf=nn;In.format=Xo;In.from=Zo;In.fromNow=Ko;In.to=Qo;In.toNow=Jo;In.get=te;In.invalidAt=pn;In.isAfter=Lo;In.isBefore=Fo;In.isBetween=Bo;In.isSame=jo;In.isSameOrAfter=Ho;In.isSameOrBefore=Wo;In.isValid=un;In.lang=tn;In.locale=$o;In.localeData=en;In.max=Zi;In.min=Xi;In.parsingFlags=cn;In.set=ee;In.startOf=on;In.subtract=No;In.toArray=hn;In.toObject=dn;In.toDate=an;In.toISOString=Uo;In.inspect=qo;In.toJSON=ln;In.toString=Vo;In.unix=sn;In.valueOf=rn;In.creationData=fn;In.year=Zt;In.isLeapYear=Kt;In.weekYear=mn;In.isoWeekYear=gn;In.quarter=In.quarters=xn;In.month=pe;In.daysInMonth=fe;In.week=In.weeks=Te;In.isoWeek=In.isoWeeks=Pe;In.weeksInYear=bn;In.isoWeeksInYear=yn;In.date=kn;In.day=In.days=We;In.weekday=Ye;In.isoWeekday=Ge;In.dayOfYear=Sn;In.hour=In.hours=ri;In.minute=In.minutes=Dn;In.second=In.seconds=On;In.millisecond=In.milliseconds=En;In.utcOffset=po;In.utc=vo;In.local=mo;In.parseZone=go;In.hasAlignedHourOffset=yo;In.isDST=bo;In.isLocal=wo;In.isUtcOffset=xo;In.isUtc=ko;In.isUTC=ko;In.zoneAbbr=Tn;In.zoneName=Pn;In.dates=E("dates accessor is deprecated. Use date instead.",kn);In.months=E("months accessor is deprecated. Use month instead",pe);In.years=E("years accessor is deprecated. Use year instead",Zt);In.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",fo);In.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",_o);function Nn(t){return qi(1e3*t)}function An(){return qi.apply(null,arguments).parseZone()}function Rn(t){return t}var zn=R.prototype;zn.calendar=F;zn.longDateFormat=j;zn.invalidDate=W;zn.ordinal=V;zn.preparse=Rn;zn.postformat=Rn;zn.relativeTime=q;zn.pastFuture=X;zn.set=N;zn.months=ae;zn.monthsShort=de;zn.monthsParse=ue;zn.monthsRegex=ye;zn.monthsShortRegex=me;zn.week=Oe;zn.firstDayOfYear=Ee;zn.firstDayOfWeek=Ce;zn.weekdays=Re;zn.weekdaysMin=Be;zn.weekdaysShort=Le;zn.weekdaysParse=He;zn.weekdaysRegex=Ue;zn.weekdaysShortRegex=Xe;zn.weekdaysMinRegex=Ke;zn.isPM=ii;zn.meridiem=ni;function Ln(t,e,i,o){var n=mi();var r=f().set(o,e);return n[i](r,t)}function Fn(t,e,i){if(d(t)){e=t;t=void 0}t=t||"";if(null!=e)return Ln(t,e,i,"month");var o;var n=[];for(o=0;o<12;o++)n[o]=Ln(t,o,i,"month");return n}function Bn(t,e,i,o){if("boolean"==typeof t){if(d(e)){i=e;e=void 0}e=e||""}else{i=e=t;t=!1;if(d(e)){i=e;e=void 0}e=e||""}var n=mi(),r=t?n._week.dow:0;if(null!=i)return Ln(e,(i+r)%7,o,"day");var s;var a=[];for(s=0;s<7;s++)a[s]=Ln(e,(s+r)%7,o,"day");return a}function jn(t,e){return Fn(t,e,"months")}function Hn(t,e){return Fn(t,e,"monthsShort")}function Wn(t,e,i){return Bn(t,e,i,"weekdays")}function Yn(t,e,i){return Bn(t,e,i,"weekdaysShort")}function Gn(t,e,i){return Bn(t,e,i,"weekdaysMin")}pi("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i;return t+(1===O(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}});o.lang=E("moment.lang is deprecated. Use moment.locale instead.",pi);o.langData=E("moment.langData is deprecated. Use moment.localeData instead.",mi);var Vn=Math.abs;function Un(){var t=this._data;this._milliseconds=Vn(this._milliseconds);this._days=Vn(this._days);this._months=Vn(this._months);t.milliseconds=Vn(t.milliseconds);t.seconds=Vn(t.seconds);t.minutes=Vn(t.minutes);t.hours=Vn(t.hours);t.months=Vn(t.months);t.years=Vn(t.years);return this}function qn(t,e,i,o){var n=Oo(e,i);t._milliseconds+=o*n._milliseconds;t._days+=o*n._days;t._months+=o*n._months;return t._bubble()}function Xn(t,e){return qn(this,t,e,1)}function Zn(t,e){return qn(this,t,e,-1)}function Kn(t){return t<0?Math.floor(t):Math.ceil(t)}function Qn(){var t=this._milliseconds;var e=this._days;var i=this._months;var o=this._data;var n,r,s,a,h;if(!(t>=0&&e>=0&&i>=0||t<=0&&e<=0&&i<=0)){t+=864e5*Kn($n(i)+e);e=0;i=0}o.milliseconds=t%1e3;n=D(t/1e3);o.seconds=n%60;r=D(n/60);o.minutes=r%60;s=D(r/60);o.hours=s%24;i+=h=D(Jn(e+=D(s/24)));e-=Kn($n(h));a=D(i/12);i%=12;o.days=e;o.months=i;o.years=a;return this}function Jn(t){return 4800*t/146097}function $n(t){return 146097*t/4800}function tr(t){if(!this.isValid())return NaN;var e;var i;var o=this._milliseconds;if("month"===(t=Q(t))||"year"===t){e=this._days+o/864e5;i=this._months+Jn(e);return"month"===t?i:i/12}e=this._days+Math.round($n(this._months));switch(t){case"week":return e/7+o/6048e5;case"day":return e+o/864e5;case"hour":return 24*e+o/36e5;case"minute":return 1440*e+o/6e4;case"second":return 86400*e+o/1e3;case"millisecond":return Math.floor(864e5*e)+o;default:throw new Error("Unknown unit "+t)}}function er(){if(!this.isValid())return NaN;return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*O(this._months/12)}function ir(t){return function(){return this.as(t)}}var or=ir("ms");var nr=ir("s");var rr=ir("m");var sr=ir("h");var ar=ir("d");var hr=ir("w");var dr=ir("M");var lr=ir("y");function ur(){return Oo(this)}function cr(t){t=Q(t);return this.isValid()?this[t+"s"]():NaN}function pr(t){return function(){return this.isValid()?this._data[t]:NaN}}var fr=pr("milliseconds");var vr=pr("seconds");var mr=pr("minutes");var gr=pr("hours");var yr=pr("days");var br=pr("months");var _r=pr("years");function wr(){return D(this.days()/7)}var xr=Math.round;var kr={ss:44,s:45,m:45,h:22,d:26,M:11};function Sr(t,e,i,o,n){return n.relativeTime(e||1,!!i,t,o)}function Dr(t,e,i){var o=Oo(t).abs();var n=xr(o.as("s"));var r=xr(o.as("m"));var s=xr(o.as("h"));var a=xr(o.as("d"));var h=xr(o.as("M"));var d=xr(o.as("y"));var l=n<=kr.ss&&["s",n]||n<kr.s&&["ss",n]||r<=1&&["m"]||r<kr.m&&["mm",r]||s<=1&&["h"]||s<kr.h&&["hh",s]||a<=1&&["d"]||a<kr.d&&["dd",a]||h<=1&&["M"]||h<kr.M&&["MM",h]||d<=1&&["y"]||["yy",d];l[2]=e;l[3]=+t>0;l[4]=i;return Sr.apply(null,l)}function Or(t){if(void 0===t)return xr;if("function"==typeof t){xr=t;return!0}return!1}function Mr(t,e){if(void 0===kr[t])return!1;if(void 0===e)return kr[t];kr[t]=e;"s"===t&&(kr.ss=e-1);return!0}function Cr(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData();var i=Dr(this,!t,e);t&&(i=e.pastFuture(+this,i));return e.postformat(i)}var Er=Math.abs;function Tr(t){return(t>0)-(t<0)||+t}function Pr(){if(!this.isValid())return this.localeData().invalidDate();var t=Er(this._milliseconds)/1e3;var e=Er(this._days);var i=Er(this._months);var o,n,r;n=D((o=D(t/60))/60);t%=60;o%=60;var s=r=D(i/12);var a=i%=12;var h=e;var d=n;var l=o;var u=t?t.toFixed(3).replace(/\.?0+$/,""):"";var c=this.asSeconds();if(!c)return"P0D";var p=c<0?"-":"";var f=Tr(this._months)!==Tr(c)?"-":"";var v=Tr(this._days)!==Tr(c)?"-":"";var m=Tr(this._milliseconds)!==Tr(c)?"-":"";return p+"P"+(s?f+s+"Y":"")+(a?f+a+"M":"")+(h?v+h+"D":"")+(d||l||u?"T":"")+(d?m+d+"H":"")+(l?m+l+"M":"")+(u?m+u+"S":"")}var Ir=no.prototype;Ir.isValid=io;Ir.abs=Un;Ir.add=Xn;Ir.subtract=Zn;Ir.as=tr;Ir.asMilliseconds=or;Ir.asSeconds=nr;Ir.asMinutes=rr;Ir.asHours=sr;Ir.asDays=ar;Ir.asWeeks=hr;Ir.asMonths=dr;Ir.asYears=lr;Ir.valueOf=er;Ir._bubble=Qn;Ir.clone=ur;Ir.get=cr;Ir.milliseconds=fr;Ir.seconds=vr;Ir.minutes=mr;Ir.hours=gr;Ir.days=yr;Ir.weeks=wr;Ir.months=br;Ir.years=_r;Ir.humanize=Cr;Ir.toISOString=Pr;Ir.toString=Pr;Ir.toJSON=Pr;Ir.locale=$o;Ir.localeData=en;Ir.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Pr);Ir.lang=tn;at("X",0,0,"unix");at("x",0,0,"valueOf");Tt("x",St);Tt("X",Mt);Rt("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))});Rt("x",function(t,e,i){i._d=new Date(O(t))});o.version="2.19.1";n(qi);o.fn=In;o.min=Qi;o.max=Ji;o.now=$i;o.utc=f;o.unix=Nn;o.months=jn;o.isDate=l;o.locale=pi;o.invalid=b;o.duration=Oo;o.isMoment=S;o.weekdays=Wn;o.parseZone=An;o.localeData=mi;o.isDuration=ro;o.monthsShort=Hn;o.weekdaysMin=Gn;o.defineLocale=fi;o.updateLocale=vi;o.locales=gi;o.weekdaysShort=Yn;o.normalizeUnits=Q;o.relativeTimeRounding=Or;o.relativeTimeThreshold=Mr;o.calendarFormat=Ao;o.prototype=In;return o},t.exports=o();var i,o}).call(e,i(155)(t))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){t.deprecate=function(){};t.paths=[];t.children||(t.children=[]);Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}});Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}});t.webpackPolyfill=1}return t}},function(t,e){function i(t){throw new Error("Cannot find module '"+t+"'.")}i.keys=function(){return[]};i.resolve=i;t.exports=i;i.id=156},function(t,e,i){(function(e){var i;var o="undefined"!=typeof window?window:void 0!==e?e:null;if(o&&o.crypto&&crypto.getRandomValues){var n=new Uint8Array(16);i=function t(){crypto.getRandomValues(n);return n}}if(!i){var r=new Array(16);i=function t(){for(var e=0,i;e<16;e++){0==(3&e)&&(i=4294967296*Math.random());r[e]=i>>>((3&e)<<3)&255}return r}}var s=[];var a={};for(var h=0;h<256;h++){s[h]=(h+256).toString(16).substr(1);a[s[h]]=h}function d(t,e,i){var o=e&&i||0,n=0;e=e||[];t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){n<16&&(e[o+n++]=a[t])});for(;n<16;)e[o+n++]=0;return e}function l(t,e){var i=e||0,o=s;return o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]}var u=i();var c=[1|u[0],u[1],u[2],u[3],u[4],u[5]];var p=16383&(u[6]<<8|u[7]);var f=0,v=0;function m(t,e,i){var o=e&&i||0;var n=e||[];var r=void 0!==(t=t||{}).clockseq?t.clockseq:p;var s=void 0!==t.msecs?t.msecs:(new Date).getTime();var a=void 0!==t.nsecs?t.nsecs:v+1;var h=s-f+(a-v)/1e4;h<0&&void 0===t.clockseq&&(r=r+1&16383);(h<0||s>f)&&void 0===t.nsecs&&(a=0);if(a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=s;v=a;p=r;var d=(1e4*(268435455&(s+=122192928e5))+a)%4294967296;n[o++]=d>>>24&255;n[o++]=d>>>16&255;n[o++]=d>>>8&255;n[o++]=255&d;var u=s/4294967296*1e4&268435455;n[o++]=u>>>8&255;n[o++]=255&u;n[o++]=u>>>24&15|16;n[o++]=u>>>16&255;n[o++]=r>>>8|128;n[o++]=255&r;var m=t.node||c;for(var g=0;g<6;g++)n[o+g]=m[g];return e||l(n)}function g(t,e,o){var n=e&&o||0;if("string"==typeof t){e="binary"==t?new Array(16):null;t=null}var r=(t=t||{}).random||(t.rng||i)();r[6]=15&r[6]|64;r[8]=63&r[8]|128;if(e)for(var s=0;s<16;s++)e[n+s]=r[s];return e||l(r)}var y=g;y.v1=m;y.v4=g;y.parse=d;y.unparse=l;t.exports=y}).call(e,i(158))},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){e.util=i(2);e.DOMutil=i(14);e.DataSet=i(11);e.DataView=i(12);e.Queue=i(43);e.Graph3d=i(161);e.graph3d={Camera:i(95),Filter:i(96),Point2d:i(91),Point3d:i(34),Slider:i(92),StepNumber:i(93)};e.moment=i(9);e.Hammer=i(10);e.keycharm=i(35)},function(t,e,i){var o=i(7);var n=o.JSON||(o.JSON={stringify:JSON.stringify});t.exports=function t(e){return n.stringify.apply(n,arguments)}},function(t,e,i){var o;var n=r(i(90));function r(t){return t&&t.__esModule?t:{default:t}}var s=i(44);var a=i(2);var h=i(34);var d=i(91);var l=i(92);var u=i(93);var c=i(94);var p=i(15)["default"];var f,v=i(15).printStyle;var m,g=i(172).allOptions;var y=i(173);_.STYLE=c.STYLE;var b=void 0;_.DEFAULTS={width:"400px",height:"400px",filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function t(e){return e},yValueLabel:function t(e){return e},zValueLabel:function t(e){return e},showXAxis:!0,showYAxis:!0,showZAxis:!0,showGrid:!0,showPerspective:!0,showShadow:!1,keepAspectRatio:!0,verticalRatio:.5,dotSizeRatio:.02,dotSizeMinFraction:.5,dotSizeMaxFraction:2.5,showAnimationControls:void 0,animationInterval:1e3,animationPreload:!1,animationAutoStart:void 0,axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",yCenter:"50%",style:_.STYLE.DOT,tooltip:!1,tooltipStyle:{content:{padding:"10px",border:"1px solid #4d4d4d",color:"#1a1a1a",background:"rgba(255,255,255,0.7)",borderRadius:"2px",boxShadow:"5px 5px 10px rgba(128,128,128,0.5)"},line:{height:"40px",width:"0",borderLeft:"1px solid #4d4d4d"},dot:{height:"0",width:"0",border:"5px solid #4d4d4d",borderRadius:"5px"}},dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},cameraPosition:{horizontal:1,vertical:.5,distance:1.7},showLegend:void 0,backgroundColor:void 0,xBarWidth:void 0,yBarWidth:void 0,valueMin:void 0,valueMax:void 0,xMin:void 0,xMax:void 0,xStep:void 0,yMin:void 0,yMax:void 0,yStep:void 0,zMin:void 0,zMax:void 0,zStep:void 0};function _(t,e,i){if(!(this instanceof _))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=t;this.dataGroup=new y;this.dataPoints=null;this.create();c.setDefaults(_.DEFAULTS,this);this.colX=void 0;this.colY=void 0;this.colZ=void 0;this.colValue=void 0;this.setOptions(i);this.setData(e)}s(_.prototype);_.prototype._setScale=function(){this.scale=new h(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range());this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y);this.scale.z*=this.verticalRatio;void 0!==this.valueRange&&(this.scale.value=1/this.valueRange.range());var t=this.xRange.center()*this.scale.x;var e=this.yRange.center()*this.scale.y;var i=this.zRange.center()*this.scale.z;this.camera.setArmLocation(t,e,i)};_.prototype._convert3Dto2D=function(t){var e=this._convertPointToTranslation(t);return this._convertTranslationToScreen(e)};_.prototype._convertPointToTranslation=function(t){var e=this.camera.getCameraLocation(),i=this.camera.getCameraRotation(),o=t.x*this.scale.x,n=t.y*this.scale.y,r=t.z*this.scale.z,s=e.x,a=e.y,d=e.z,l=Math.sin(i.x),u=Math.cos(i.x),c=Math.sin(i.y),p=Math.cos(i.y),f=Math.sin(i.z),v=Math.cos(i.z),m,g,y;return new h(p*(f*(n-a)+v*(o-s))-c*(r-d),l*(p*(r-d)+c*(f*(n-a)+v*(o-s)))+u*(v*(n-a)-f*(o-s)),u*(p*(r-d)+c*(f*(n-a)+v*(o-s)))-l*(v*(n-a)-f*(o-s)))};_.prototype._convertTranslationToScreen=function(t){var e=this.eye.x,i=this.eye.y,o=this.eye.z,n=t.x,r=t.y,s=t.z;var a;var h;if(this.showPerspective){a=o/s*(n-e);h=o/s*(r-i)}else{a=n*(-o/this.camera.getArmLength());h=r*(-o/this.camera.getArmLength())}return new d(this.currentXCenter+a*this.frame.canvas.clientWidth,this.currentYCenter-h*this.frame.canvas.clientWidth)};_.prototype._calcTranslations=function(t){for(var e=0;e<t.length;e++){var i=t[e];i.trans=this._convertPointToTranslation(i.point);i.screen=this._convertTranslationToScreen(i.trans);var o=this._convertPointToTranslation(i.bottom);i.dist=this.showPerspective?o.length():-o.z}var n=function t(e,i){return i.dist-e.dist};t.sort(n)};_.prototype._initializeRanges=function(){var t=this.dataGroup;this.xRange=t.xRange;this.yRange=t.yRange;this.zRange=t.zRange;this.valueRange=t.valueRange;this.xStep=t.xStep;this.yStep=t.yStep;this.zStep=t.zStep;this.xBarWidth=t.xBarWidth;this.yBarWidth=t.yBarWidth;this.colX=t.colX;this.colY=t.colY;this.colZ=t.colZ;this.colValue=t.colValue;this._setScale()};_.prototype.getDataPoints=function(t){var e=[];for(var i=0;i<t.length;i++){var o=new h;o.x=t[i][this.colX]||0;o.y=t[i][this.colY]||0;o.z=t[i][this.colZ]||0;o.data=t[i];void 0!==this.colValue&&(o.value=t[i][this.colValue]||0);var n={};n.point=o;n.bottom=new h(o.x,o.y,this.zRange.min);n.trans=void 0;n.screen=void 0;e.push(n)}return e};_.prototype._getDataPoints=function(t){var e,i,o,n;var r=[];if(this.style===_.STYLE.GRID||this.style===_.STYLE.SURFACE){var s=this.dataGroup.getDistinctValues(this.colX,t);var a=this.dataGroup.getDistinctValues(this.colY,t);r=this.getDataPoints(t);var h=[];for(o=0;o<r.length;o++){n=r[o];var d=s.indexOf(n.point.x);var l=a.indexOf(n.point.y);void 0===h[d]&&(h[d]=[]);h[d][l]=n}for(e=0;e<h.length;e++)for(i=0;i<h[e].length;i++)if(h[e][i]){h[e][i].pointRight=e<h.length-1?h[e+1][i]:void 0;h[e][i].pointTop=i<h[e].length-1?h[e][i+1]:void 0;h[e][i].pointCross=e<h.length-1&&i<h[e].length-1?h[e+1][i+1]:void 0}}else{this._checkValueField(t);r=this.getDataPoints(t);if(this.style===_.STYLE.LINE)for(o=0;o<r.length;o++)o>0&&(r[o-1].pointNext=r[o])}return r};_.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div");this.frame.style.position="relative";this.frame.style.overflow="hidden";this.frame.canvas=document.createElement("canvas");this.frame.canvas.style.position="relative";this.frame.appendChild(this.frame.canvas);var t=document.createElement("DIV");t.style.color="red";t.style.fontWeight="bold";t.style.padding="10px";t.innerHTML="Error: your browser does not support HTML canvas";this.frame.canvas.appendChild(t);this.frame.filter=document.createElement("div");this.frame.filter.style.position="absolute";this.frame.filter.style.bottom="0px";this.frame.filter.style.left="0px";this.frame.filter.style.width="100%";this.frame.appendChild(this.frame.filter);var e=this;var i=function t(i){e._onMouseDown(i)};var o=function t(i){e._onTouchStart(i)};var n=function t(i){e._onWheel(i)};var r=function t(i){e._onTooltip(i)};var s=function t(i){e._onClick(i)};a.addEventListener(this.frame.canvas,"mousedown",i);a.addEventListener(this.frame.canvas,"touchstart",o);a.addEventListener(this.frame.canvas,"mousewheel",n);a.addEventListener(this.frame.canvas,"mousemove",r);a.addEventListener(this.frame.canvas,"click",s);this.containerElement.appendChild(this.frame)};_.prototype._setSize=function(t,e){this.frame.style.width=t;this.frame.style.height=e;this._resizeCanvas()};_.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%";this.frame.canvas.style.height="100%";this.frame.canvas.width=this.frame.canvas.clientWidth;this.frame.canvas.height=this.frame.canvas.clientHeight;this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"};_.prototype.animationStart=function(){if(!this.animationAutoStart||!this.dataGroup.dataFilter)return;if(!this.frame.filter||!this.frame.filter.slider)throw new Error("No animation available");this.frame.filter.slider.play()};_.prototype.animationStop=function(){if(!this.frame.filter||!this.frame.filter.slider)return;this.frame.filter.slider.stop()};_.prototype._resizeCenter=function(){"%"===this.xCenter.charAt(this.xCenter.length-1)?this.currentXCenter=parseFloat(this.xCenter)/100*this.frame.canvas.clientWidth:this.currentXCenter=parseFloat(this.xCenter);"%"===this.yCenter.charAt(this.yCenter.length-1)?this.currentYCenter=parseFloat(this.yCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):this.currentYCenter=parseFloat(this.yCenter)};_.prototype.getCameraPosition=function(){var t=this.camera.getArmRotation();t.distance=this.camera.getArmLength();return t};_.prototype._readData=function(t){this.dataPoints=this.dataGroup.initializeData(this,t,this.style);this._initializeRanges();this._redrawFilter()};_.prototype.setData=function(t){if(void 0===t||null===t)return;this._readData(t);this.redraw();this.animationStart()};_.prototype.setOptions=function(t){if(void 0===t)return;var e;!0===p.validate(t,g)&&console.log("%cErrors have been found in the supplied options object.",v);this.animationStop();c.setOptions(t,this);this.setPointDrawingMethod();this._setSize(this.width,this.height);this.setData(this.dataGroup.getDataTable());this.animationStart()};_.prototype.setPointDrawingMethod=function(){var t=void 0;switch(this.style){case _.STYLE.BAR:t=_.prototype._redrawBarGraphPoint;break;case _.STYLE.BARCOLOR:t=_.prototype._redrawBarColorGraphPoint;break;case _.STYLE.BARSIZE:t=_.prototype._redrawBarSizeGraphPoint;break;case _.STYLE.DOT:t=_.prototype._redrawDotGraphPoint;break;case _.STYLE.DOTLINE:t=_.prototype._redrawDotLineGraphPoint;break;case _.STYLE.DOTCOLOR:t=_.prototype._redrawDotColorGraphPoint;break;case _.STYLE.DOTSIZE:t=_.prototype._redrawDotSizeGraphPoint;break;case _.STYLE.SURFACE:t=_.prototype._redrawSurfaceGraphPoint;break;case _.STYLE.GRID:t=_.prototype._redrawGridGraphPoint;break;case _.STYLE.LINE:t=_.prototype._redrawLineGraphPoint;break;default:throw new Error("Can not determine point drawing method for graph style '"+this.style+"'")}this._pointDrawingMethod=t};_.prototype.redraw=function(){if(void 0===this.dataPoints)throw new Error("Graph data not initialized");this._resizeCanvas();this._resizeCenter();this._redrawSlider();this._redrawClear();this._redrawAxis();this._redrawDataGraph();this._redrawInfo();this._redrawLegend()};_.prototype._getContext=function(){var t;var e=this.frame.canvas.getContext("2d");e.lineJoin="round";e.lineCap="round";return e};_.prototype._redrawClear=function(){var t=this.frame.canvas;var e;t.getContext("2d").clearRect(0,0,t.width,t.height)};_.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio};_.prototype._getLegendWidth=function(){var t;if(this.style===_.STYLE.DOTSIZE){var e;t=this._dotSize()*this.dotSizeMaxFraction}else t=this.style===_.STYLE.BARSIZE?this.xBarWidth:20;return t};_.prototype._redrawLegend=function(){if(!0!==this.showLegend)return;if(this.style===_.STYLE.LINE||this.style===_.STYLE.BARSIZE)return;var t=this.style===_.STYLE.BARSIZE||this.style===_.STYLE.DOTSIZE;var e=this.style===_.STYLE.DOTSIZE||this.style===_.STYLE.DOTCOLOR||this.style===_.STYLE.BARCOLOR;var i=Math.max(.25*this.frame.clientHeight,100);var o=this.margin;var n=this._getLegendWidth();var r=this.frame.clientWidth-this.margin;var s=r-n;var a=o+i;var h=this._getContext();h.lineWidth=1;h.font="14px arial";if(!1===t){var l=0;var c=i;var p;for(p=0;p<c;p++){var f;var v=240*((p-0)/(c-0));var m=this._hsv2rgb(v,1,1);h.strokeStyle=m;h.beginPath();h.moveTo(s,o+p);h.lineTo(r,o+p);h.stroke()}h.strokeStyle=this.axisColor;h.strokeRect(s,o,n,i)}else{var g;this.style===_.STYLE.DOTSIZE?g=n*(this.dotSizeMinFraction/this.dotSizeMaxFraction):(this.style,_.STYLE.BARSIZE);h.strokeStyle=this.axisColor;h.fillStyle=this.dataColor.fill;h.beginPath();h.moveTo(s,o);h.lineTo(r,o);h.lineTo(s+g,a);h.lineTo(s,a);h.closePath();h.fill();h.stroke()}var y=5;var b=e?this.valueRange.min:this.zRange.min;var w=e?this.valueRange.max:this.zRange.max;var x=new u(b,w,(w-b)/5,!0);x.start(!0);var k;var S;for(;!x.end();){p=a-(x.getCurrent()-b)/(w-b)*i;k=new d(s-5,p);S=new d(s,p);this._line(h,k,S);h.textAlign="right";h.textBaseline="middle";h.fillStyle=this.axisColor;h.fillText(x.getCurrent(),s-10,p);x.next()}h.textAlign="right";h.textBaseline="top";var D=this.legendLabel;h.fillText(D,r,a+this.margin)};_.prototype._redrawFilter=function(){var t=this.dataGroup.dataFilter;var e=this.frame.filter;e.innerHTML="";if(!t){e.slider=void 0;return}var i={visible:this.showAnimationControls};var o=new l(e,i);e.slider=o;e.style.padding="10px";o.setValues(t.values);o.setPlayInterval(this.animationInterval);var n=this;var r=function t(){var e=n.dataGroup.dataFilter;var i=o.getIndex();e.selectValue(i);n.dataPoints=e._getDataPoints();n.redraw()};o.setOnChangeCallback(r)};_.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()};_.prototype._redrawInfo=function(){var t=this.dataGroup.getInfo();if(void 0===t)return;var e=this._getContext();e.font="14px arial";e.lineStyle="gray";e.fillStyle="gray";e.textAlign="left";e.textBaseline="top";var i=this.margin;var o=this.margin;e.fillText(t,i,o)};_.prototype._line=function(t,e,i,o){void 0!==o&&(t.strokeStyle=o);t.beginPath();t.moveTo(e.x,e.y);t.lineTo(i.x,i.y);t.stroke()};_.prototype.drawAxisLabelX=function(t,e,i,o,n){void 0===n&&(n=0);var r=this._convert3Dto2D(e);if(Math.cos(2*o)>0){t.textAlign="center";t.textBaseline="top";r.y+=n}else if(Math.sin(2*o)<0){t.textAlign="right";t.textBaseline="middle"}else{t.textAlign="left";t.textBaseline="middle"}t.fillStyle=this.axisColor;t.fillText(i,r.x,r.y)};_.prototype.drawAxisLabelY=function(t,e,i,o,n){void 0===n&&(n=0);var r=this._convert3Dto2D(e);if(Math.cos(2*o)<0){t.textAlign="center";t.textBaseline="top";r.y+=n}else if(Math.sin(2*o)>0){t.textAlign="right";t.textBaseline="middle"}else{t.textAlign="left";t.textBaseline="middle"}t.fillStyle=this.axisColor;t.fillText(i,r.x,r.y)};_.prototype.drawAxisLabelZ=function(t,e,i,o){void 0===o&&(o=0);var n=this._convert3Dto2D(e);t.textAlign="right";t.textBaseline="middle";t.fillStyle=this.axisColor;t.fillText(i,n.x-o,n.y)};_.prototype._line3d=function(t,e,i,o){var n=this._convert3Dto2D(e);var r=this._convert3Dto2D(i);this._line(t,n,r,o)};_.prototype._redrawAxis=function(){var t=this._getContext(),e,i,o,n,r,s,a,l,c,p,f;t.font=24/this.camera.getArmLength()+"px arial";var v=.025/this.scale.x;var m=.025/this.scale.y;var g=5/this.camera.getArmLength();var y=this.camera.getArmRotation().horizontal;var b=new d(Math.cos(y),Math.sin(y));var _=this.xRange;var w=this.yRange;var x=this.zRange;var k;t.lineWidth=1;n=void 0===this.defaultXStep;(o=new u(_.min,_.max,this.xStep,n)).start(!0);for(;!o.end();){var S=o.getCurrent();if(this.showGrid){e=new h(S,w.min,x.min);i=new h(S,w.max,x.min);this._line3d(t,e,i,this.gridColor)}else if(this.showXAxis){e=new h(S,w.min,x.min);i=new h(S,w.min+v,x.min);this._line3d(t,e,i,this.axisColor);e=new h(S,w.max,x.min);i=new h(S,w.max-v,x.min);this._line3d(t,e,i,this.axisColor)}if(this.showXAxis){a=b.x>0?w.min:w.max;k=new h(S,a,x.min);var D="  "+this.xValueLabel(S)+"  ";this.drawAxisLabelX(t,k,D,y,g)}o.next()}t.lineWidth=1;n=void 0===this.defaultYStep;(o=new u(w.min,w.max,this.yStep,n)).start(!0);for(;!o.end();){var O=o.getCurrent();if(this.showGrid){e=new h(_.min,O,x.min);i=new h(_.max,O,x.min);this._line3d(t,e,i,this.gridColor)}else if(this.showYAxis){e=new h(_.min,O,x.min);i=new h(_.min+m,O,x.min);this._line3d(t,e,i,this.axisColor);e=new h(_.max,O,x.min);i=new h(_.max-m,O,x.min);this._line3d(t,e,i,this.axisColor)}if(this.showYAxis){s=b.y>0?_.min:_.max;k=new h(s,O,x.min);var M="  "+this.yValueLabel(O)+"  ";this.drawAxisLabelY(t,k,M,y,g)}o.next()}if(this.showZAxis){t.lineWidth=1;n=void 0===this.defaultZStep;(o=new u(x.min,x.max,this.zStep,n)).start(!0);s=b.x>0?_.min:_.max;a=b.y<0?w.min:w.max;for(;!o.end();){var C=o.getCurrent();var E=new h(s,a,C);var T=this._convert3Dto2D(E);i=new d(T.x-g,T.y);this._line(t,T,i,this.axisColor);var P=this.zValueLabel(C)+" ";this.drawAxisLabelZ(t,E,P,5);o.next()}t.lineWidth=1;e=new h(s,a,x.min);i=new h(s,a,x.max);this._line3d(t,e,i,this.axisColor)}if(this.showXAxis){var I;var N;t.lineWidth=1;I=new h(_.min,w.min,x.min);N=new h(_.max,w.min,x.min);this._line3d(t,I,N,this.axisColor);I=new h(_.min,w.max,x.min);N=new h(_.max,w.max,x.min);this._line3d(t,I,N,this.axisColor)}if(this.showYAxis){t.lineWidth=1;e=new h(_.min,w.min,x.min);i=new h(_.min,w.max,x.min);this._line3d(t,e,i,this.axisColor);e=new h(_.max,w.min,x.min);i=new h(_.max,w.max,x.min);this._line3d(t,e,i,this.axisColor)}var A=this.xLabel;if(A.length>0&&this.showXAxis){f=.1/this.scale.y;s=(_.max+3*_.min)/4;a=b.x>0?w.min-f:w.max+f;r=new h(s,a,x.min);this.drawAxisLabelX(t,r,A,y)}var R=this.yLabel;if(R.length>0&&this.showYAxis){p=.1/this.scale.x;s=b.y>0?_.min-p:_.max+p;a=(w.max+3*w.min)/4;r=new h(s,a,x.min);this.drawAxisLabelY(t,r,R,y)}var z=this.zLabel;if(z.length>0&&this.showZAxis){c=30;s=b.x>0?_.min:_.max;a=b.y<0?w.min:w.max;l=(x.max+3*x.min)/4;r=new h(s,a,l);this.drawAxisLabelZ(t,r,z,c)}};_.prototype._hsv2rgb=function(t,e,i){var o,n,r,s,a,h;s=i*e;a=Math.floor(t/60);h=s*(1-Math.abs(t/60%2-1));switch(a){case 0:o=s;n=h;r=0;break;case 1:o=h;n=s;r=0;break;case 2:o=0;n=s;r=h;break;case 3:o=0;n=h;r=s;break;case 4:o=h;n=0;r=s;break;case 5:o=s;n=0;r=h;break;default:o=0;n=0;r=0}return"RGB("+parseInt(255*o)+","+parseInt(255*n)+","+parseInt(255*r)+")"};_.prototype._getStrokeWidth=function(t){if(void 0!==t)return this.showPerspective?1/-t.trans.z*this.dataColor.strokeWidth:-this.eye.z/this.camera.getArmLength()*this.dataColor.strokeWidth;return this.dataColor.strokeWidth};_.prototype._redrawBar=function(t,e,i,o,n,r){var s;var a=this;var d=e.point;var l=this.zRange.min;var u=[{point:new h(d.x-i,d.y-o,d.z)},{point:new h(d.x+i,d.y-o,d.z)},{point:new h(d.x+i,d.y+o,d.z)},{point:new h(d.x-i,d.y+o,d.z)}];var c=[{point:new h(d.x-i,d.y-o,l)},{point:new h(d.x+i,d.y-o,l)},{point:new h(d.x+i,d.y+o,l)},{point:new h(d.x-i,d.y+o,l)}];u.forEach(function(t){t.screen=a._convert3Dto2D(t.point)});c.forEach(function(t){t.screen=a._convert3Dto2D(t.point)});var p=[{corners:u,center:h.avg(c[0].point,c[2].point)},{corners:[u[0],u[1],c[1],c[0]],center:h.avg(c[1].point,c[0].point)},{corners:[u[1],u[2],c[2],c[1]],center:h.avg(c[2].point,c[1].point)},{corners:[u[2],u[3],c[3],c[2]],center:h.avg(c[3].point,c[2].point)},{corners:[u[3],u[0],c[0],c[3]],center:h.avg(c[0].point,c[3].point)}];e.surfaces=p;for(var f=0;f<p.length;f++){s=p[f];var v=this._convertPointToTranslation(s.center);s.dist=this.showPerspective?v.length():-v.z}p.sort(function(t,e){var i=e.dist-t.dist;if(i)return i;if(t.corners===u)return 1;if(e.corners===u)return-1;return 0});t.lineWidth=this._getStrokeWidth(e);t.strokeStyle=r;t.fillStyle=n;for(var m=2;m<p.length;m++){s=p[m];this._polygon(t,s.corners)}};_.prototype._polygon=function(t,e,i,o){if(e.length<2)return;void 0!==i&&(t.fillStyle=i);void 0!==o&&(t.strokeStyle=o);t.beginPath();t.moveTo(e[0].screen.x,e[0].screen.y);for(var n=1;n<e.length;++n){var r=e[n];t.lineTo(r.screen.x,r.screen.y)}t.closePath();t.fill();t.stroke()};_.prototype._drawCircle=function(t,e,i,o,n){var r=this._calcRadius(e,n);t.lineWidth=this._getStrokeWidth(e);t.strokeStyle=o;t.fillStyle=i;t.beginPath();t.arc(e.screen.x,e.screen.y,r,0,2*Math.PI,!0);t.fill();t.stroke()};_.prototype._getColorsRegular=function(t){var e=240*(1-(t.point.z-this.zRange.min)*this.scale.z/this.verticalRatio);var i;var o;return{fill:this._hsv2rgb(e,1,1),border:this._hsv2rgb(e,1,.8)}};_.prototype._getColorsColor=function(t){var e,i;if("string"==typeof t.point.value){e=t.point.value;i=t.point.value}else{var o=240*(1-(t.point.value-this.valueRange.min)*this.scale.value);e=this._hsv2rgb(o,1,1);i=this._hsv2rgb(o,1,.8)}return{fill:e,border:i}};_.prototype._getColorsSize=function(){return{fill:this.dataColor.fill,border:this.dataColor.stroke}};_.prototype._calcRadius=function(t,e){void 0===e&&(e=this._dotSize());var i;(i=this.showPerspective?e/-t.trans.z:e*(-this.eye.z/this.camera.getArmLength()))<0&&(i=0);return i};_.prototype._redrawBarGraphPoint=function(t,e){var i=this.xBarWidth/2;var o=this.yBarWidth/2;var n=this._getColorsRegular(e);this._redrawBar(t,e,i,o,n.fill,n.border)};_.prototype._redrawBarColorGraphPoint=function(t,e){var i=this.xBarWidth/2;var o=this.yBarWidth/2;var n=this._getColorsColor(e);this._redrawBar(t,e,i,o,n.fill,n.border)};_.prototype._redrawBarSizeGraphPoint=function(t,e){var i=(e.point.value-this.valueRange.min)/this.valueRange.range();var o=this.xBarWidth/2*(.8*i+.2);var n=this.yBarWidth/2*(.8*i+.2);var r=this._getColorsSize();this._redrawBar(t,e,o,n,r.fill,r.border)};_.prototype._redrawDotGraphPoint=function(t,e){var i=this._getColorsRegular(e);this._drawCircle(t,e,i.fill,i.border)};_.prototype._redrawDotLineGraphPoint=function(t,e){var i=this._convert3Dto2D(e.bottom);t.lineWidth=1;this._line(t,i,e.screen,this.gridColor);this._redrawDotGraphPoint(t,e)};_.prototype._redrawDotColorGraphPoint=function(t,e){var i=this._getColorsColor(e);this._drawCircle(t,e,i.fill,i.border)};_.prototype._redrawDotSizeGraphPoint=function(t,e){var i=this._dotSize();var o=(e.point.value-this.valueRange.min)/this.valueRange.range();var n=i*this.dotSizeMinFraction;var r;var s=n+(i*this.dotSizeMaxFraction-n)*o;var a=this._getColorsSize();this._drawCircle(t,e,a.fill,a.border,s)};_.prototype._redrawSurfaceGraphPoint=function(t,e){var i=e.pointRight;var o=e.pointTop;var n=e.pointCross;if(void 0===e||void 0===i||void 0===o||void 0===n)return;var r=!0;var s;var a;if(this.showGrayBottom||this.showShadow){var d=h.subtract(n.trans,e.trans);var l=h.subtract(o.trans,i.trans);var u=h.crossProduct(d,l);var c=u.length();r=u.z>0}if(r){var p;var f=240*(1-((e.point.z+i.point.z+o.point.z+n.point.z)/4-this.zRange.min)*this.scale.z/this.verticalRatio);var v=1;var m;if(this.showShadow){m=Math.min(1+u.x/c/2,1);a=s=this._hsv2rgb(f,1,m)}else{m=1;s=this._hsv2rgb(f,1,m);a=this.axisColor}}else{s="gray";a=this.axisColor}t.lineWidth=this._getStrokeWidth(e);var g=[e,i,n,o];this._polygon(t,g,s,a)};_.prototype._drawGridLine=function(t,e,i){if(void 0===e||void 0===i)return;var o;var n=240*(1-((e.point.z+i.point.z)/2-this.zRange.min)*this.scale.z/this.verticalRatio);t.lineWidth=2*this._getStrokeWidth(e);t.strokeStyle=this._hsv2rgb(n,1,1);this._line(t,e.screen,i.screen)};_.prototype._redrawGridGraphPoint=function(t,e){this._drawGridLine(t,e,e.pointRight);this._drawGridLine(t,e,e.pointTop)};_.prototype._redrawLineGraphPoint=function(t,e){if(void 0===e.pointNext)return;t.lineWidth=this._getStrokeWidth(e);t.strokeStyle=this.dataColor.stroke;this._line(t,e.screen,e.pointNext.screen)};_.prototype._redrawDataGraph=function(){var t=this._getContext();var e;if(void 0===this.dataPoints||this.dataPoints.length<=0)return;this._calcTranslations(this.dataPoints);for(e=0;e<this.dataPoints.length;e++){var i=this.dataPoints[e];this._pointDrawingMethod.call(this,t,i)}};_.prototype._storeMousePosition=function(t){this.startMouseX=w(t);this.startMouseY=x(t);this._startCameraOffset=this.camera.getOffset()};_.prototype._onMouseDown=function(t){t=t||window.event;this.leftButtonDown&&this._onMouseUp(t);this.leftButtonDown=t.which?1===t.which:1===t.button;if(!this.leftButtonDown&&!this.touchDown)return;this._storeMousePosition(t);this.startStart=new Date(this.start);this.startEnd=new Date(this.end);this.startArmRotation=this.camera.getArmRotation();this.frame.style.cursor="move";var e=this;this.onmousemove=function(t){e._onMouseMove(t)};this.onmouseup=function(t){e._onMouseUp(t)};a.addEventListener(document,"mousemove",e.onmousemove);a.addEventListener(document,"mouseup",e.onmouseup);a.preventDefault(t)};_.prototype._onMouseMove=function(t){this.moving=!0;t=t||window.event;var e=parseFloat(w(t))-this.startMouseX;var i=parseFloat(x(t))-this.startMouseY;if(t&&!0===t.ctrlKey){var o=.5*this.frame.clientWidth;var n=.5*this.frame.clientHeight;var r=(this._startCameraOffset.x||0)-e/o*this.camera.armLength*.8;var s=(this._startCameraOffset.y||0)+i/n*this.camera.armLength*.8;this.camera.setOffset(r,s);this._storeMousePosition(t)}else{var h=this.startArmRotation.horizontal+e/200;var d=this.startArmRotation.vertical+i/200;var l=4;var u=Math.sin(4/360*2*Math.PI);Math.abs(Math.sin(h))<u&&(h=Math.round(h/Math.PI)*Math.PI-.001);Math.abs(Math.cos(h))<u&&(h=(Math.round(h/Math.PI-.5)+.5)*Math.PI-.001);Math.abs(Math.sin(d))<u&&(d=Math.round(d/Math.PI)*Math.PI);Math.abs(Math.cos(d))<u&&(d=(Math.round(d/Math.PI-.5)+.5)*Math.PI);this.camera.setArmRotation(h,d)}this.redraw();var c=this.getCameraPosition();this.emit("cameraPositionChange",c);a.preventDefault(t)};_.prototype._onMouseUp=function(t){this.frame.style.cursor="auto";this.leftButtonDown=!1;a.removeEventListener(document,"mousemove",this.onmousemove);a.removeEventListener(document,"mouseup",this.onmouseup);a.preventDefault(t)};_.prototype._onClick=function(t){if(!this.onclick_callback)return;if(this.moving)this.moving=!1;else{var e=this.frame.getBoundingClientRect();var i=w(t)-e.left;var o=x(t)-e.top;var n=this._dataPointFromXY(i,o);n&&this.onclick_callback(n.point.data)}a.preventDefault(t)};_.prototype._onTooltip=function(t){var e=300;var i=this.frame.getBoundingClientRect();var o=w(t)-i.left;var n=x(t)-i.top;if(!this.showTooltip)return;this.tooltipTimeout&&clearTimeout(this.tooltipTimeout);if(this.leftButtonDown){this._hideTooltip();return}if(this.tooltip&&this.tooltip.dataPoint){var r=this._dataPointFromXY(o,n);r!==this.tooltip.dataPoint&&(r?this._showTooltip(r):this._hideTooltip())}else{var s=this;this.tooltipTimeout=setTimeout(function(){s.tooltipTimeout=null;var t=s._dataPointFromXY(o,n);t&&s._showTooltip(t)},300)}};_.prototype._onTouchStart=function(t){this.touchDown=!0;var e=this;this.ontouchmove=function(t){e._onTouchMove(t)};this.ontouchend=function(t){e._onTouchEnd(t)};a.addEventListener(document,"touchmove",e.ontouchmove);a.addEventListener(document,"touchend",e.ontouchend);this._onMouseDown(t)};_.prototype._onTouchMove=function(t){this._onMouseMove(t)};_.prototype._onTouchEnd=function(t){this.touchDown=!1;a.removeEventListener(document,"touchmove",this.ontouchmove);a.removeEventListener(document,"touchend",this.ontouchend);this._onMouseUp(t)};_.prototype._onWheel=function(t){t||(t=window.event);var e=0;t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3);if(e){var i;var o=this.camera.getArmLength()*(1-e/10);this.camera.setArmLength(o);this.redraw();this._hideTooltip()}var n=this.getCameraPosition();this.emit("cameraPositionChange",n);a.preventDefault(t)};_.prototype._insideTriangle=function(t,e){var i=e[0],o=e[1],n=e[2];function r(t){return t>0?1:t<0?-1:0}var s=r((o.x-i.x)*(t.y-i.y)-(o.y-i.y)*(t.x-i.x));var a=r((n.x-o.x)*(t.y-o.y)-(n.y-o.y)*(t.x-o.x));var h=r((i.x-n.x)*(t.y-n.y)-(i.y-n.y)*(t.x-n.x));return!(0!=s&&0!=a&&s!=a||0!=a&&0!=h&&a!=h||0!=s&&0!=h&&s!=h)};_.prototype._dataPointFromXY=function(t,e){var i,o=100,n=null,r=null,s=null,a=new d(t,e);if(this.style===_.STYLE.BAR||this.style===_.STYLE.BARCOLOR||this.style===_.STYLE.BARSIZE)for(i=this.dataPoints.length-1;i>=0;i--){var h=(n=this.dataPoints[i]).surfaces;if(h)for(var l=h.length-1;l>=0;l--){var u;var c=h[l].corners;var p=[c[0].screen,c[1].screen,c[2].screen];var f=[c[2].screen,c[3].screen,c[0].screen];if(this._insideTriangle(a,p)||this._insideTriangle(a,f))return n}}else for(i=0;i<this.dataPoints.length;i++){var v=(n=this.dataPoints[i]).screen;if(v){var m=Math.abs(t-v.x);var g=Math.abs(e-v.y);var y=Math.sqrt(m*m+g*g);if((null===s||y<s)&&y<100){s=y;r=n}}}return r};_.prototype.hasBars=function(t){return t==_.STYLE.BAR||t==_.STYLE.BARCOLOR||t==_.STYLE.BARSIZE};_.prototype._showTooltip=function(t){var e,i,o;if(this.tooltip){e=this.tooltip.dom.content;i=this.tooltip.dom.line;o=this.tooltip.dom.dot}else{e=document.createElement("div");(0,n["default"])(e.style,{},this.tooltipStyle.content);e.style.position="absolute";i=document.createElement("div");(0,n["default"])(i.style,{},this.tooltipStyle.line);i.style.position="absolute";o=document.createElement("div");(0,n["default"])(o.style,{},this.tooltipStyle.dot);o.style.position="absolute";this.tooltip={dataPoint:null,dom:{content:e,line:i,dot:o}}}this._hideTooltip();this.tooltip.dataPoint=t;"function"==typeof this.showTooltip?e.innerHTML=this.showTooltip(t.point):e.innerHTML="<table><tr><td>"+this.xLabel+":</td><td>"+t.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+t.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+t.point.z+"</td></tr></table>";e.style.left="0";e.style.top="0";this.frame.appendChild(e);this.frame.appendChild(i);this.frame.appendChild(o);var r=e.offsetWidth;var s=e.offsetHeight;var a=i.offsetHeight;var h=o.offsetWidth;var d=o.offsetHeight;var l=t.screen.x-r/2;l=Math.min(Math.max(l,10),this.frame.clientWidth-10-r);i.style.left=t.screen.x+"px";i.style.top=t.screen.y-a+"px";e.style.left=l+"px";e.style.top=t.screen.y-a-s+"px";o.style.left=t.screen.x-h/2+"px";o.style.top=t.screen.y-d/2+"px"};_.prototype._hideTooltip=function(){if(this.tooltip){this.tooltip.dataPoint=null;for(var t in this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(t)){var e=this.tooltip.dom[t];e&&e.parentNode&&e.parentNode.removeChild(e)}}};function w(t){if("clientX"in t)return t.clientX;return t.targetTouches[0]&&t.targetTouches[0].clientX||0}function x(t){if("clientY"in t)return t.clientY;return t.targetTouches[0]&&t.targetTouches[0].clientY||0}_.prototype.setCameraPosition=function(t){c.setCameraPosition(t,this);this.redraw()};_.prototype.setSize=function(t,e){this._setSize(t,e);this.redraw()};t.exports=_},function(t,e,i){i(163);t.exports=i(7).Object.assign},function(t,e,i){var o=i(17);o(o.S+o.F,"Object",{assign:i(164)})},function(t,e,i){var o=i(33);var n=i(63);var r=i(42);var s=i(41);var a=i(78);var h=Object.assign;t.exports=!h||i(28)(function(){var t={};var e={};var i=Symbol();var o="abcdefghijklmnopqrst";t[i]=7;o.split("").forEach(function(t){e[t]=t});return 7!=h({},t)[i]||Object.keys(h({},e)).join("")!=o})?function t(e,i){var h=s(e);var d=arguments.length;var l=1;var u=n.f;var c=r.f;for(;d>l;){var p=a(arguments[l++]);var f=u?o(p).concat(u(p)):o(p);var v=f.length;var m=0;var g;for(;v>m;)c.call(p,g=f[m++])&&(h[g]=p[g])}return h}:h},function(t,e,i){t.exports={default:i(166),__esModule:!0}},function(t,e,i){i(167);t.exports=i(7).Math.sign},function(t,e,i){var o=i(17);o(o.S,"Math",{sign:i(168)})},function(t,e){t.exports=Math.sign||function t(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(t,e,i){t.exports={default:i(170),__esModule:!0}},function(t,e,i){i(171);var o=i(7).Object;t.exports=function t(e,i,n){return o.defineProperty(e,i,n)}},function(t,e,i){var o=i(17);o(o.S+o.F*!i(21),"Object",{defineProperty:i(20).f})},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o="string";var n="boolean";var r="number";var s="object";var a={fill:{string:o},stroke:{string:o},strokeWidth:{number:r},__type__:{string:o,object:s,undefined:"undefined"}};var h={animationAutoStart:{boolean:n,undefined:"undefined"},animationInterval:{number:r},animationPreload:{boolean:n},axisColor:{string:o},backgroundColor:a,xBarWidth:{number:r,undefined:"undefined"},yBarWidth:{number:r,undefined:"undefined"},cameraPosition:{distance:{number:r},horizontal:{number:r},vertical:{number:r},__type__:{object:s}},xCenter:{string:o},yCenter:{string:o},dataColor:a,dotSizeMinFraction:{number:r},dotSizeMaxFraction:{number:r},dotSizeRatio:{number:r},filterLabel:{string:o},gridColor:{string:o},onclick:{function:"function"},keepAspectRatio:{boolean:n},xLabel:{string:o},yLabel:{string:o},zLabel:{string:o},legendLabel:{string:o},xMin:{number:r,undefined:"undefined"},yMin:{number:r,undefined:"undefined"},zMin:{number:r,undefined:"undefined"},xMax:{number:r,undefined:"undefined"},yMax:{number:r,undefined:"undefined"},zMax:{number:r,undefined:"undefined"},showAnimationControls:{boolean:n,undefined:"undefined"},showGrid:{boolean:n},showLegend:{boolean:n,undefined:"undefined"},showPerspective:{boolean:n},showShadow:{boolean:n},showXAxis:{boolean:n},showYAxis:{boolean:n},showZAxis:{boolean:n},xStep:{number:r,undefined:"undefined"},yStep:{number:r,undefined:"undefined"},zStep:{number:r,undefined:"undefined"},style:{number:r,string:["bar","bar-color","bar-size","dot","dot-line","dot-color","dot-size","line","grid","surface"]},tooltip:{boolean:n,function:"function"},tooltipStyle:{content:{color:{string:o},background:{string:o},border:{string:o},borderRadius:{string:o},boxShadow:{string:o},padding:{string:o},__type__:{object:s}},line:{borderLeft:{string:o},height:{string:o},width:{string:o},__type__:{object:s}},dot:{border:{string:o},borderRadius:{string:o},height:{string:o},width:{string:o},__type__:{object:s}},__type__:{object:s}},xValueLabel:{function:"function"},yValueLabel:{function:"function"},zValueLabel:{function:"function"},valueMax:{number:r,undefined:"undefined"},valueMin:{number:r,undefined:"undefined"},verticalRatio:{number:r},height:{string:o},width:{string:o},__type__:{object:s}};e.allOptions=h},function(t,e,i){var o=i(11);var n=i(12);var r=i(174);var s=i(96);var a=i(94);var h=i(34);function d(){this.dataTable=null}d.prototype.initializeData=function(t,e,i){if(void 0===e)return;Array.isArray(e)&&(e=new o(e));var r;if(!(e instanceof o||e instanceof n))throw new Error("Array, DataSet, or DataView expected");if(0==(r=e.get()).length)return;this.style=i;this.dataSet&&this.dataSet.off("*",this._onChange);this.dataSet=e;this.dataTable=r;var a=this;this._onChange=function(){t.setData(a.dataSet)};this.dataSet.on("*",this._onChange);this.colX="x";this.colY="y";this.colZ="z";var h=t.hasBars(i);if(h){void 0!==t.defaultXBarWidth?this.xBarWidth=t.defaultXBarWidth:this.xBarWidth=this.getSmallestDifference(r,this.colX)||1;void 0!==t.defaultYBarWidth?this.yBarWidth=t.defaultYBarWidth:this.yBarWidth=this.getSmallestDifference(r,this.colY)||1}this._initializeRange(r,this.colX,t,h);this._initializeRange(r,this.colY,t,h);this._initializeRange(r,this.colZ,t,!1);if(r[0].hasOwnProperty("style")){this.colValue="style";var d=this.getColumnRange(r,this.colValue);this._setRangeDefaults(d,t.defaultValueMin,t.defaultValueMax);this.valueRange=d}var l;if(this.getDataTable()[0].hasOwnProperty("filter")&&void 0===this.dataFilter){this.dataFilter=new s(this,"filter",t);this.dataFilter.setOnLoadCallback(function(){t.redraw()})}var u;return u=this.dataFilter?this.dataFilter._getDataPoints():this._getDataPoints(this.getDataTable())};d.prototype._collectRangeSettings=function(t,e){var i;if(-1==["x","y","z"].indexOf(t))throw new Error("Column '"+t+"' invalid");var o=t.toUpperCase();return{barWidth:this[t+"BarWidth"],min:e["default"+o+"Min"],max:e["default"+o+"Max"],step:e["default"+o+"Step"],range_label:t+"Range",step_label:t+"Step"}};d.prototype._initializeRange=function(t,e,i,o){var n=5;var r=this._collectRangeSettings(e,i);var s=this.getColumnRange(t,e);o&&"z"!=e&&s.expand(r.barWidth/2);this._setRangeDefaults(s,r.min,r.max);this[r.range_label]=s;this[r.step_label]=void 0!==r.step?r.step:s.range()/5};d.prototype.getDistinctValues=function(t,e){void 0===e&&(e=this.dataTable);var i=[];for(var o=0;o<e.length;o++){var n=e[o][t]||0;-1===i.indexOf(n)&&i.push(n)}return i.sort(function(t,e){return t-e})};d.prototype.getSmallestDifference=function(t,e){var i=this.getDistinctValues(t,e);var o=null;for(var n=1;n<i.length;n++){var r=i[n]-i[n-1];(null==o||o>r)&&(o=r)}return o};d.prototype.getColumnRange=function(t,e){var i=new r;for(var o=0;o<t.length;o++){var n=t[o][e];i.adjust(n)}return i};d.prototype.getNumberOfRows=function(){return this.dataTable.length};d.prototype._setRangeDefaults=function(t,e,i){void 0!==e&&(t.min=e);void 0!==i&&(t.max=i);t.max<=t.min&&(t.max=t.min+1)};d.prototype.getDataTable=function(){return this.dataTable};d.prototype.getDataSet=function(){return this.dataSet};d.prototype.getDataPoints=function(t){var e=[];for(var i=0;i<t.length;i++){var o=new h;o.x=t[i][this.colX]||0;o.y=t[i][this.colY]||0;o.z=t[i][this.colZ]||0;o.data=t[i];void 0!==this.colValue&&(o.value=t[i][this.colValue]||0);var n={};n.point=o;n.bottom=new h(o.x,o.y,this.zRange.min);n.trans=void 0;n.screen=void 0;e.push(n)}return e};d.prototype.initDataAsMatrix=function(t){var e,i,o,n;var r=this.getDistinctValues(this.colX,t);var s=this.getDistinctValues(this.colY,t);var a=this.getDataPoints(t);var h=[];for(o=0;o<a.length;o++){n=a[o];var d=r.indexOf(n.point.x);var l=s.indexOf(n.point.y);void 0===h[d]&&(h[d]=[]);h[d][l]=n}for(e=0;e<h.length;e++)for(i=0;i<h[e].length;i++)if(h[e][i]){h[e][i].pointRight=e<h.length-1?h[e+1][i]:void 0;h[e][i].pointTop=i<h[e].length-1?h[e][i+1]:void 0;h[e][i].pointCross=e<h.length-1&&i<h[e].length-1?h[e+1][i+1]:void 0}return a};d.prototype.getInfo=function(){var t=this.dataFilter;if(!t)return;return t.getLabel()+": "+t.getSelectedValue()};d.prototype.reload=function(){this.dataTable&&this.setData(this.dataTable)};d.prototype._getDataPoints=function(t){var e=[];if(this.style===a.STYLE.GRID||this.style===a.STYLE.SURFACE)e=this.initDataAsMatrix(t);else{this._checkValueField(t);e=this.getDataPoints(t);if(this.style===a.STYLE.LINE)for(var i=0;i<e.length;i++)i>0&&(e[i-1].pointNext=e[i])}return e};d.prototype._checkValueField=function(t){var e;if(!(this.style===a.STYLE.BARCOLOR||this.style===a.STYLE.BARSIZE||this.style===a.STYLE.DOTCOLOR||this.style===a.STYLE.DOTSIZE))return;if(void 0===this.colValue)throw new Error("Expected data to have  field 'style'  for graph style '"+this.style+"'");if(void 0===t[0][this.colValue])throw new Error("Expected data to have  field '"+this.colValue+"'  for graph style '"+this.style+"'")};t.exports=d},function(t,e,i){function o(){this.min=void 0;this.max=void 0}o.prototype.adjust=function(t){if(void 0===t)return;(void 0===this.min||this.min>t)&&(this.min=t);(void 0===this.max||this.max<t)&&(this.max=t)};o.prototype.combine=function(t){this.add(t.min);this.add(t.max)};o.prototype.expand=function(t){if(void 0===t)return;var e=this.min-t;var i=this.max+t;if(e>i)throw new Error("Passed expansion value makes range invalid");this.min=e;this.max=i};o.prototype.range=function(){return this.max-this.min};o.prototype.center=function(){return(this.min+this.max)/2};t.exports=o},function(t,e,i){var o,n,r;n=[],void 0!==(r="function"==typeof(o=s=function(){var t=null;return function e(i,o){var n=o||{preventDefault:!1};if(i.Manager){var r=i;var s=function(t,i){var o=Object.create(n);i&&r.assign(o,i);return e(new r(t,o),o)};r.assign(s,r);s.Manager=function(t,i){var o=Object.create(n);i&&r.assign(o,i);return e(new r.Manager(t,o),o)};return s}var a=Object.create(i);var h=i.element;h.hammer||(h.hammer=[]);h.hammer.push(a);i.on("hammer.input",function(e){!0!==n.preventDefault&&n.preventDefault!==e.pointerType||e.preventDefault();e.isFirst&&(t=e.target)});a._handlers={};a.on=function(t,e){d(t).forEach(function(t){var o=a._handlers[t];if(!o){a._handlers[t]=o=[];i.on(t,l)}o.push(e)});return a};a.off=function(t,e){d(t).forEach(function(t){var o=a._handlers[t];if(o)if((o=e?o.filter(function(t){return t!==e}):[]).length>0)a._handlers[t]=o;else{i.off(t,l);delete a._handlers[t]}});return a};a.emit=function(e,o){t=o.target;i.emit(e,o)};a.destroy=function(){var t=i.element.hammer;var e=t.indexOf(a);-1!==e&&t.splice(e,1);t.length||delete i.element.hammer;a._handlers={};i.destroy()};function d(t){return t.match(/[^ ]+/g)}function l(e){if("hammer.input"!==e.type){e.srcEvent._handled||(e.srcEvent._handled={});if(e.srcEvent._handled[e.type])return;e.srcEvent._handled[e.type]=!0}var i=!1;e.stopPropagation=function(){i=!0};var o=e.srcEvent.stopPropagation.bind(e.srcEvent);"function"==typeof o&&(e.srcEvent.stopPropagation=function(){o();e.stopPropagation()});e.firstTarget=t;var n=t;for(;n&&!i;){var r=n.hammer;if(r){var s;for(var a=0;a<r.length;a++)if(s=r[a]._handlers[e.type])for(var h=0;h<s.length&&!i;h++)s[h](e)}n=n.parentNode}}return a}})?o.apply(e,n):o)&&(t.exports=r);var s},function(t,e,i){var o;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(n,r,s,a){var h=["","webkit","Moz","MS","ms","o"];var d=r.createElement("div");var l="function";var u=Math.round;var c=Math.abs;var p=Date.now;function f(t,e,i){return setTimeout(x(t,i),e)}function v(t,e,i){if(Array.isArray(t)){m(t,i[e],i);return!0}return!1}function m(t,e,i){var o;if(!t)return;if(t.forEach)t.forEach(e,i);else if(t.length!==a){o=0;for(;o<t.length;){e.call(i,t[o],o,t);o++}}else for(o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)}function g(t,e,i){var o="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace");var i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace";var r=n.console&&(n.console.warn||n.console.log);r&&r.call(n.console,o,i);return t.apply(this,arguments)}}var y;y="function"!=typeof Object.assign?function t(e){if(e===a||null===e)throw new TypeError("Cannot convert undefined or null to object");var i=Object(e);for(var o=1;o<arguments.length;o++){var n=arguments[o];if(n!==a&&null!==n)for(var r in n)n.hasOwnProperty(r)&&(i[r]=n[r])}return i}:Object.assign;var b=g(function t(e,i,o){var n=Object.keys(i);var r=0;for(;r<n.length;){(!o||o&&e[n[r]]===a)&&(e[n[r]]=i[n[r]]);r++}return e},"extend","Use `assign`.");var _=g(function t(e,i){return b(e,i,!0)},"merge","Use `assign`.");function w(t,e,i){var o=e.prototype,n;(n=t.prototype=Object.create(o)).constructor=t;n._super=o;i&&y(n,i)}function x(t,e){return function i(){return t.apply(e,arguments)}}function k(t,e){if(typeof t==l)return t.apply(e&&e[0]||a,e);return t}function S(t,e){return t===a?e:t}function D(t,e,i){m(E(e),function(e){t.addEventListener(e,i,!1)})}function O(t,e,i){m(E(e),function(e){t.removeEventListener(e,i,!1)})}function M(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function C(t,e){return t.indexOf(e)>-1}function E(t){return t.trim().split(/\s+/g)}function T(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);var o=0;for(;o<t.length;){if(i&&t[o][i]==e||!i&&t[o]===e)return o;o++}return-1}function P(t){return Array.prototype.slice.call(t,0)}function I(t,e,i){var o=[];var n=[];var r=0;for(;r<t.length;){var s=e?t[r][e]:t[r];T(n,s)<0&&o.push(t[r]);n[r]=s;r++}i&&(o=e?o.sort(function t(i,o){return i[e]>o[e]}):o.sort());return o}function N(t,e){var i,o;var n=e[0].toUpperCase()+e.slice(1);var r=0;for(;r<h.length;){if((o=(i=h[r])?i+n:e)in t)return o;r++}return a}var A=1;function R(){return A++}function z(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||n}var L=/mobile|tablet|ip(ad|hone|od)|android/i;var F="ontouchstart"in n;var B=N(n,"PointerEvent")!==a;var j=F&&L.test(navigator.userAgent);var H="touch";var W="pen";var Y="mouse";var G="kinect";var V=25;var U=1;var q=2;var X=4;var Z=8;var K=1;var Q=2;var J=4;var $=8;var tt=16;var et=Q|J;var it=$|tt;var ot=et|it;var nt=["x","y"];var rt=["clientX","clientY"];function st(t,e){var i=this;this.manager=t;this.callback=e;this.element=t.element;this.target=t.options.inputTarget;this.domHandler=function(e){k(t.options.enable,[t])&&i.handler(e)};this.init()}st.prototype={handler:function(){},init:function(){this.evEl&&D(this.element,this.evEl,this.domHandler);this.evTarget&&D(this.target,this.evTarget,this.domHandler);this.evWin&&D(z(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&O(this.element,this.evEl,this.domHandler);this.evTarget&&O(this.target,this.evTarget,this.domHandler);this.evWin&&O(z(this.element),this.evWin,this.domHandler)}};function at(t){var e;var i=t.options.inputClass;return new(e=i||(B?Ct:j?zt:F?jt:kt))(t,ht)}function ht(t,e,i){var o=i.pointers.length;var n=i.changedPointers.length;var r=e&U&&o-n==0;var s=e&(X|Z)&&o-n==0;i.isFirst=!!r;i.isFinal=!!s;r&&(t.session={});i.eventType=e;dt(t,i);t.emit("hammer.input",i);t.recognize(i);t.session.prevInput=i}function dt(t,e){var i=t.session;var o=e.pointers;var n=o.length;i.firstInput||(i.firstInput=ct(e));n>1&&!i.firstMultiple?i.firstMultiple=ct(e):1===n&&(i.firstMultiple=!1);var r=i.firstInput;var s=i.firstMultiple;var a=s?s.center:r.center;var h=e.center=pt(o);e.timeStamp=p();e.deltaTime=e.timeStamp-r.timeStamp;e.angle=gt(a,h);e.distance=mt(a,h);lt(i,e);e.offsetDirection=vt(e.deltaX,e.deltaY);var d=ft(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=d.x;e.overallVelocityY=d.y;e.overallVelocity=c(d.x)>c(d.y)?d.x:d.y;e.scale=s?bt(s.pointers,o):1;e.rotation=s?yt(s.pointers,o):0;e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length;ut(i,e);var l=t.element;M(e.srcEvent.target,l)&&(l=e.srcEvent.target);e.target=l}function lt(t,e){var i=e.center;var o=t.offsetDelta||{};var n=t.prevDelta||{};var r=t.prevInput||{};if(e.eventType===U||r.eventType===X){n=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0};o=t.offsetDelta={x:i.x,y:i.y}}e.deltaX=n.x+(i.x-o.x);e.deltaY=n.y+(i.y-o.y)}function ut(t,e){var i=t.lastInterval||e,o=e.timeStamp-i.timeStamp,n,r,s,h;if(e.eventType!=Z&&(o>V||i.velocity===a)){var d=e.deltaX-i.deltaX;var l=e.deltaY-i.deltaY;var u=ft(o,d,l);r=u.x;s=u.y;n=c(u.x)>c(u.y)?u.x:u.y;h=vt(d,l);t.lastInterval=e}else{n=i.velocity;r=i.velocityX;s=i.velocityY;h=i.direction}e.velocity=n;e.velocityX=r;e.velocityY=s;e.direction=h}function ct(t){var e=[];var i=0;for(;i<t.pointers.length;){e[i]={clientX:u(t.pointers[i].clientX),clientY:u(t.pointers[i].clientY)};i++}return{timeStamp:p(),pointers:e,center:pt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function pt(t){var e=t.length;if(1===e)return{x:u(t[0].clientX),y:u(t[0].clientY)};var i=0,o=0,n=0;for(;n<e;){i+=t[n].clientX;o+=t[n].clientY;n++}return{x:u(i/e),y:u(o/e)}}function ft(t,e,i){return{x:e/t||0,y:i/t||0}}function vt(t,e){if(t===e)return K;if(c(t)>=c(e))return t<0?Q:J;return e<0?$:tt}function mt(t,e,i){i||(i=nt);var o=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return Math.sqrt(o*o+n*n)}function gt(t,e,i){i||(i=nt);var o=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return 180*Math.atan2(n,o)/Math.PI}function yt(t,e){return gt(e[1],e[0],rt)+gt(t[1],t[0],rt)}function bt(t,e){return mt(e[0],e[1],rt)/mt(t[0],t[1],rt)}var _t={mousedown:U,mousemove:q,mouseup:X};var wt="mousedown";var xt="mousemove mouseup";function kt(){this.evEl=wt;this.evWin=xt;this.pressed=!1;st.apply(this,arguments)}w(kt,st,{handler:function t(e){var i=_t[e.type];i&U&&0===e.button&&(this.pressed=!0);i&q&&1!==e.which&&(i=X);if(!this.pressed)return;i&X&&(this.pressed=!1);this.callback(this.manager,i,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e})}});var St={pointerdown:U,pointermove:q,pointerup:X,pointercancel:Z,pointerout:Z};var Dt={2:"touch",3:"pen",4:"mouse",5:"kinect"};var Ot="pointerdown";var Mt="pointermove pointerup pointercancel";if(n.MSPointerEvent&&!n.PointerEvent){Ot="MSPointerDown";Mt="MSPointerMove MSPointerUp MSPointerCancel"}function Ct(){this.evEl=Ot;this.evWin=Mt;st.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}w(Ct,st,{handler:function t(e){var i=this.store;var o=!1;var n=e.type.toLowerCase().replace("ms","");var r=St[n];var s=Dt[e.pointerType]||e.pointerType;var a="touch"==s;var h=T(i,e.pointerId,"pointerId");if(r&U&&(0===e.button||a)){if(h<0){i.push(e);h=i.length-1}}else r&(X|Z)&&(o=!0);if(h<0)return;i[h]=e;this.callback(this.manager,r,{pointers:i,changedPointers:[e],pointerType:s,srcEvent:e});o&&i.splice(h,1)}});var Et={touchstart:U,touchmove:q,touchend:X,touchcancel:Z};var Tt="touchstart";var Pt="touchstart touchmove touchend touchcancel";function It(){this.evTarget=Tt;this.evWin=Pt;this.started=!1;st.apply(this,arguments)}w(It,st,{handler:function t(e){var i=Et[e.type];i===U&&(this.started=!0);if(!this.started)return;var o=Nt.call(this,e,i);i&(X|Z)&&o[0].length-o[1].length==0&&(this.started=!1);this.callback(this.manager,i,{pointers:o[0],changedPointers:o[1],pointerType:"touch",srcEvent:e})}});function Nt(t,e){var i=P(t.touches);var o=P(t.changedTouches);e&(X|Z)&&(i=I(i.concat(o),"identifier",!0));return[i,o]}var At={touchstart:U,touchmove:q,touchend:X,touchcancel:Z};var Rt="touchstart touchmove touchend touchcancel";function zt(){this.evTarget=Rt;this.targetIds={};st.apply(this,arguments)}w(zt,st,{handler:function t(e){var i=At[e.type];var o=Lt.call(this,e,i);if(!o)return;this.callback(this.manager,i,{pointers:o[0],changedPointers:o[1],pointerType:"touch",srcEvent:e})}});function Lt(t,e){var i=P(t.touches);var o=this.targetIds;if(e&(U|q)&&1===i.length){o[i[0].identifier]=!0;return[i,i]}var n,r,s=P(t.changedTouches),a=[],h=this.target;r=i.filter(function(t){return M(t.target,h)});if(e===U){n=0;for(;n<r.length;){o[r[n].identifier]=!0;n++}}n=0;for(;n<s.length;){o[s[n].identifier]&&a.push(s[n]);e&(X|Z)&&delete o[s[n].identifier];n++}if(!a.length)return;return[I(r.concat(a),"identifier",!0),a]}var Ft=2500;var Bt=25;function jt(){st.apply(this,arguments);var t=x(this.handler,this);this.touch=new zt(this.manager,t);this.mouse=new kt(this.manager,t);this.primaryTouch=null;this.lastTouches=[]}w(jt,st,{handler:function t(e,i,o){var n="touch"==o.pointerType,r="mouse"==o.pointerType;if(r&&o.sourceCapabilities&&o.sourceCapabilities.firesTouchEvents)return;if(n)Ht.call(this,i,o);else if(r&&Yt.call(this,o))return;this.callback(e,i,o)},destroy:function t(){this.touch.destroy();this.mouse.destroy()}});function Ht(t,e){if(t&U){this.primaryTouch=e.changedPointers[0].identifier;Wt.call(this,e)}else t&(X|Z)&&Wt.call(this,e)}function Wt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var o=this.lastTouches;var n;setTimeout(function(){var t=o.indexOf(i);t>-1&&o.splice(t,1)},Ft)}}function Yt(t){var e=t.srcEvent.clientX,i=t.srcEvent.clientY;for(var o=0;o<this.lastTouches.length;o++){var n=this.lastTouches[o];var r=Math.abs(e-n.x),s=Math.abs(i-n.y);if(r<=Bt&&s<=Bt)return!0}return!1}var Gt=N(d.style,"touchAction");var Vt=Gt!==a;var Ut="compute";var qt="auto";var Xt="manipulation";var Zt="none";var Kt="pan-x";var Qt="pan-y";var Jt=ee();function $t(t,e){this.manager=t;this.set(e)}$t.prototype={set:function(t){"compute"==t&&(t=this.compute());Vt&&this.manager.element.style&&Jt[t]&&(this.manager.element.style[Gt]=t);this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];m(this.manager.recognizers,function(e){k(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))});return te(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent;var i=t.offsetDirection;if(this.manager.session.prevented){e.preventDefault();return}var o=this.actions;var n=C(o,Zt)&&!Jt[Zt];var r=C(o,Qt)&&!Jt[Qt];var s=C(o,Kt)&&!Jt[Kt];if(n){var a=1===t.pointers.length;var h=t.distance<2;var d=t.deltaTime<250;if(a&&h&&d)return}if(s&&r)return;if(n||r&&i&et||s&&i&it)return this.preventSrc(e)},preventSrc:function(t){this.manager.session.prevented=!0;t.preventDefault()}};function te(t){if(C(t,Zt))return Zt;var e=C(t,Kt);var i=C(t,Qt);if(e&&i)return Zt;if(e||i)return e?Kt:Qt;if(C(t,Xt))return Xt;return qt}function ee(){if(!Vt)return!1;var t={};var e=n.CSS&&n.CSS.supports;["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){t[i]=!e||n.CSS.supports("touch-action",i)});return t}var ie=1;var oe=2;var ne=4;var re=8;var se=re;var ae=16;var he=32;function de(t){this.options=y({},this.defaults,t||{});this.id=R();this.manager=null;this.options.enable=S(this.options.enable,!0);this.state=ie;this.simultaneous={};this.requireFail=[]}de.prototype={defaults:{},set:function(t){y(this.options,t);this.manager&&this.manager.touchAction.update();return this},recognizeWith:function(t){if(v(t,"recognizeWith",this))return this;var e=this.simultaneous;if(!e[(t=ce(t,this)).id]){e[t.id]=t;t.recognizeWith(this)}return this},dropRecognizeWith:function(t){if(v(t,"dropRecognizeWith",this))return this;t=ce(t,this);delete this.simultaneous[t.id];return this},requireFailure:function(t){if(v(t,"requireFailure",this))return this;var e=this.requireFail;if(-1===T(e,t=ce(t,this))){e.push(t);t.requireFailure(this)}return this},dropRequireFailure:function(t){if(v(t,"dropRequireFailure",this))return this;t=ce(t,this);var e=T(this.requireFail,t);e>-1&&this.requireFail.splice(e,1);return this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this;var i=this.state;function o(i){e.manager.emit(i,t)}i<re&&o(e.options.event+le(i));o(e.options.event);t.additionalEvent&&o(t.additionalEvent);i>=re&&o(e.options.event+le(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){var t=0;for(;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|ie)))return!1;t++}return!0},recognize:function(t){var e=y({},t);if(!k(this.options.enable,[this,e])){this.reset();this.state=32;return}this.state&(se|ae|32)&&(this.state=ie);this.state=this.process(e);this.state&(oe|ne|re|ae)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}};function le(t){if(t&ae)return"cancel";if(t&re)return"end";if(t&ne)return"move";if(t&oe)return"start";return""}function ue(t){if(t==tt)return"down";if(t==$)return"up";if(t==Q)return"left";if(t==J)return"right";return""}function ce(t,e){var i=e.manager;if(i)return i.get(t);return t}function pe(){de.apply(this,arguments)}w(pe,de,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state;var i=t.eventType;var o=e&(oe|ne);var n=this.attrTest(t);if(o&&(i&Z||!n))return e|ae;if(o||n){if(i&X)return e|re;if(!(e&oe))return oe;return e|ne}return 32}});function fe(){pe.apply(this,arguments);this.pX=null;this.pY=null}w(fe,pe,{defaults:{event:"pan",threshold:10,pointers:1,direction:ot},getTouchAction:function(){var t=this.options.direction;var e=[];t&et&&e.push(Qt);t&it&&e.push(Kt);return e},directionTest:function(t){var e=this.options;var i=!0;var o=t.distance;var n=t.direction;var r=t.deltaX;var s=t.deltaY;if(!(n&e.direction))if(e.direction&et){n=0===r?K:r<0?Q:J;i=r!=this.pX;o=Math.abs(t.deltaX)}else{n=0===s?K:s<0?$:tt;i=s!=this.pY;o=Math.abs(t.deltaY)}t.direction=n;return i&&o>e.threshold&&n&e.direction},attrTest:function(t){return pe.prototype.attrTest.call(this,t)&&(this.state&oe||!(this.state&oe)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX;this.pY=t.deltaY;var e=ue(t.direction);e&&(t.additionalEvent=this.options.event+e);this._super.emit.call(this,t)}});function ve(){pe.apply(this,arguments)}w(ve,pe,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Zt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&oe)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}});function me(){de.apply(this,arguments);this._timer=null;this._input=null}w(me,de,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[qt]},process:function(t){var e=this.options;var i=t.pointers.length===e.pointers;var o=t.distance<e.threshold;var n=t.deltaTime>e.time;this._input=t;if(!o||!i||t.eventType&(X|Z)&&!n)this.reset();else if(t.eventType&U){this.reset();this._timer=f(function(){this.state=se;this.tryEmit()},e.time,this)}else if(t.eventType&X)return se;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){if(this.state!==se)return;if(t&&t.eventType&X)this.manager.emit(this.options.event+"up",t);else{this._input.timeStamp=p();this.manager.emit(this.options.event,this._input)}}});function ge(){pe.apply(this,arguments)}w(ge,pe,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Zt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&oe)}});function ye(){pe.apply(this,arguments)}w(ye,pe,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:et|it,pointers:1},getTouchAction:function(){return fe.prototype.getTouchAction.call(this)},attrTest:function(t){var e=this.options.direction;var i;e&(et|it)?i=t.overallVelocity:e&et?i=t.overallVelocityX:e&it&&(i=t.overallVelocityY);return this._super.attrTest.call(this,t)&&e&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&c(i)>this.options.velocity&&t.eventType&X},emit:function(t){var e=ue(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t);this.manager.emit(this.options.event,t)}});function be(){de.apply(this,arguments);this.pTime=!1;this.pCenter=!1;this._timer=null;this._input=null;this.count=0}w(be,de,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Xt]},process:function(t){var e=this.options;var i=t.pointers.length===e.pointers;var o=t.distance<e.threshold;var n=t.deltaTime<e.time;this.reset();if(t.eventType&U&&0===this.count)return this.failTimeout();if(o&&n&&i){if(t.eventType!=X)return this.failTimeout();var r=!this.pTime||t.timeStamp-this.pTime<e.interval;var s=!this.pCenter||mt(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp;this.pCenter=t.center;s&&r?this.count+=1:this.count=1;this._input=t;var a;if(0===this.count%e.taps){if(this.hasRequireFailures()){this._timer=f(function(){this.state=se;this.tryEmit()},e.interval,this);return oe}return se}}return 32},failTimeout:function(){this._timer=f(function(){this.state=32},this.options.interval,this);return 32},reset:function(){clearTimeout(this._timer)},emit:function(){if(this.state==se){this._input.tapCount=this.count;this.manager.emit(this.options.event,this._input)}}});function _e(t,e){(e=e||{}).recognizers=S(e.recognizers,_e.defaults.preset);return new ke(t,e)}_e.VERSION="2.0.7";_e.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[ge,{enable:!1}],[ve,{enable:!1},["rotate"]],[ye,{direction:et}],[fe,{direction:et},["swipe"]],[be],[be,{event:"doubletap",taps:2},["tap"]],[me]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var we=1;var xe=2;function ke(t,e){this.options=y({},_e.defaults,e||{});this.options.inputTarget=this.options.inputTarget||t;this.handlers={};this.session={};this.recognizers=[];this.oldCssProps={};this.element=t;this.input=at(this);this.touchAction=new $t(this,this.options.touchAction);Se(this,!0);m(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]);t[3]&&e.requireFailure(t[3])},this)}ke.prototype={set:function(t){y(this.options,t);t.touchAction&&this.touchAction.update();if(t.inputTarget){this.input.destroy();this.input.target=t.inputTarget;this.input.init()}return this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(e.stopped)return;this.touchAction.preventDefaults(t);var i;var o=this.recognizers;var n=e.curRecognizer;(!n||n&&n.state&se)&&(n=e.curRecognizer=null);var r=0;for(;r<o.length;){i=o[r];2===e.stopped||n&&i!=n&&!i.canRecognizeWith(n)?i.reset():i.recognize(t);!n&&i.state&(oe|ne|re)&&(n=e.curRecognizer=i);r++}},get:function(t){if(t instanceof de)return t;var e=this.recognizers;for(var i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(v(t,"add",this))return this;var e=this.get(t.options.event);e&&this.remove(e);this.recognizers.push(t);t.manager=this;this.touchAction.update();return t},remove:function(t){if(v(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers;var i=T(e,t);if(-1!==i){e.splice(i,1);this.touchAction.update()}}return this},on:function(t,e){if(t===a)return;if(e===a)return;var i=this.handlers;m(E(t),function(t){i[t]=i[t]||[];i[t].push(e)});return this},off:function(t,e){if(t===a)return;var i=this.handlers;m(E(t),function(t){e?i[t]&&i[t].splice(T(i[t],e),1):delete i[t]});return this},emit:function(t,e){this.options.domEvents&&De(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(!i||!i.length)return;e.type=t;e.preventDefault=function(){e.srcEvent.preventDefault()};var o=0;for(;o<i.length;){i[o](e);o++}},destroy:function(){this.element&&Se(this,!1);this.handlers={};this.session={};this.input.destroy();this.element=null}};function Se(t,e){var i=t.element;if(!i.style)return;var o;m(t.options.cssProps,function(n,r){o=N(i.style,r);if(e){t.oldCssProps[o]=i.style[o];i.style[o]=n}else i.style[o]=t.oldCssProps[o]||""});e||(t.oldCssProps={})}function De(t,e){var i=r.createEvent("Event");i.initEvent(t,!0,!0);i.gesture=e;e.target.dispatchEvent(i)}y(_e,{INPUT_START:U,INPUT_MOVE:q,INPUT_END:X,INPUT_CANCEL:Z,STATE_POSSIBLE:ie,STATE_BEGAN:oe,STATE_CHANGED:ne,STATE_ENDED:re,STATE_RECOGNIZED:se,STATE_CANCELLED:ae,STATE_FAILED:32,DIRECTION_NONE:K,DIRECTION_LEFT:Q,DIRECTION_RIGHT:J,DIRECTION_UP:$,DIRECTION_DOWN:tt,DIRECTION_HORIZONTAL:et,DIRECTION_VERTICAL:it,DIRECTION_ALL:ot,Manager:ke,Input:st,TouchAction:$t,TouchInput:zt,MouseInput:kt,PointerEventInput:Ct,TouchMouseInput:jt,SingleTouchInput:It,Recognizer:de,AttrRecognizer:pe,Tap:be,Pan:fe,Swipe:ye,Pinch:ve,Rotate:ge,Press:me,on:D,off:O,each:m,merge:_,extend:b,assign:y,inherit:w,bindFn:x,prefixed:N});var Oe;(void 0!==n?n:"undefined"!=typeof self?self:{}).Hammer=_e;(o=function(){return _e}.call(e,i,e,t))!==a&&(t.exports=o)}(window,document,"Hammer")},function(t,e,i){e.util=i(2);e.DOMutil=i(14);e.DataSet=i(11);e.DataView=i(12);e.Queue=i(43);e.Timeline=i(178);e.Graph2d=i(180);e.timeline={Core:i(65),DateUtil:i(36),Range:i(64),stack:i(100),TimeStep:i(66),components:{items:{Item:i(38),BackgroundItem:i(103),BoxItem:i(101),PointItem:i(102),RangeItem:i(70)},BackgroundGroup:i(69),Component:i(16),CurrentTime:i(67),CustomTime:i(46),DataAxis:i(107),DataScale:i(108),GraphGroup:i(109),Group:i(68),ItemSet:i(99),Legend:i(112),LineGraph:i(106),TimeAxis:i(45)}};e.moment=i(9);e.Hammer=i(10);e.keycharm=i(35)},function(t,e,i){var o=i(9);var n=i(2);var r=i(11);var s=i(12);var a=i(64);var h=i(65);var d=i(45);var l=i(67);var u=i(46);var c=i(99);var p=i(15).printStyle;var f=i(105).allOptions;var v=i(105).configureOptions;var m=i(71)["default"];var g=i(15)["default"];function y(t,e,i,h){if(!(this instanceof y))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(i)||i instanceof r||i instanceof s)&&i instanceof Object){var u=h;h=i;i=u}h&&h.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var p=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:o,width:null,height:null,maxHeight:null,minHeight:null};this.options=n.deepExtend({},this.defaultOptions);this._create(t);if(!h||h&&void 0===h.rtl){this.dom.root.style.visibility="hidden";var f,v=this.dom.root;for(;!f&&v;){f=window.getComputedStyle(v,null).direction;v=v.parentElement}this.options.rtl=f&&"rtl"==f.toLowerCase()}else this.options.rtl=h.rtl;this.options.rollingMode=h&&h.rollingMode;this.options.onInitialDrawComplete=h&&h.onInitialDrawComplete;this.components=[];this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function t(){return p.timeAxis.step.scale},getStep:function t(){return p.timeAxis.step.step},toScreen:p._toScreen.bind(p),toGlobalScreen:p._toGlobalScreen.bind(p),toTime:p._toTime.bind(p),toGlobalTime:p._toGlobalTime.bind(p)}};this.range=new a(this.body,this.options);this.components.push(this.range);this.body.range=this.range;this.timeAxis=new d(this.body,this.options);this.timeAxis2=null;this.components.push(this.timeAxis);this.currentTime=new l(this.body,this.options);this.components.push(this.currentTime);this.itemSet=new c(this.body,this.options);this.components.push(this.itemSet);this.itemsData=null;this.groupsData=null;this.dom.root.onclick=function(t){p.emit("click",p.getEventProperties(t))};this.dom.root.ondblclick=function(t){p.emit("doubleClick",p.getEventProperties(t))};this.dom.root.oncontextmenu=function(t){p.emit("contextmenu",p.getEventProperties(t))};this.dom.root.onmouseover=function(t){p.emit("mouseOver",p.getEventProperties(t))};if(window.PointerEvent){this.dom.root.onpointerdown=function(t){p.emit("mouseDown",p.getEventProperties(t))};this.dom.root.onpointermove=function(t){p.emit("mouseMove",p.getEventProperties(t))};this.dom.root.onpointerup=function(t){p.emit("mouseUp",p.getEventProperties(t))}}else{this.dom.root.onmousemove=function(t){p.emit("mouseMove",p.getEventProperties(t))};this.dom.root.onmousedown=function(t){p.emit("mouseDown",p.getEventProperties(t))};this.dom.root.onmouseup=function(t){p.emit("mouseUp",p.getEventProperties(t))}}this.initialFitDone=!1;this.on("changed",function(){if(null==this.itemsData||this.options.rollingMode)return;if(!p.initialFitDone){p.initialFitDone=!0;if(void 0!=p.options.start||void 0!=p.options.end){if(void 0==p.options.start||void 0==p.options.end)var t=p.getItemRange();var e=void 0!=p.options.start?p.options.start:t.min;var i=void 0!=p.options.end?p.options.end:t.max;p.setWindow(e,i,{animation:!1})}else p.fit({animation:!1})}if(!p.initialDrawDone&&p.initialRangeChangeDone){p.initialDrawDone=!0;p.dom.root.style.visibility="visible";p.options.onInitialDrawComplete&&setTimeout(function(){return p.options.onInitialDrawComplete()},0)}});h&&this.setOptions(h);i&&this.setGroups(i);e&&this.setItems(e);this._redraw()}y.prototype=new h;y.prototype._createConfigurator=function(){return new m(this,this.dom.container,v)};y.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0});this._redraw()};y.prototype.setOptions=function(t){var e;!0===g.validate(t,f)&&console.log("%cErrors have been found in the supplied options object.",p);h.prototype.setOptions.call(this,t);if("type"in t&&t.type!==this.options.type){this.options.type=t.type;var i=this.itemsData;if(i){var o=this.getSelection();this.setItems(null);this.setItems(i);this.setSelection(o)}}};y.prototype.setItems=function(t){var e;e=t?t instanceof r||t instanceof s?t:new r(t,{type:{start:"Date",end:"Date"}}):null;this.itemsData=e;this.itemSet&&this.itemSet.setItems(e)};y.prototype.setGroups=function(t){var e;if(t){var i=function t(e){return!1!==e.visible};e=t instanceof r||t instanceof s?new s(t,{filter:i}):new r(t.filter(i))}else e=null;this.groupsData=e;this.itemSet.setGroups(e)};y.prototype.setData=function(t){t&&t.groups&&this.setGroups(t.groups);t&&t.items&&this.setItems(t.items)};y.prototype.setSelection=function(t,e){this.itemSet&&this.itemSet.setSelection(t);e&&e.focus&&this.focus(t,e)};y.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]};y.prototype.focus=function(t,e){if(!this.itemsData||void 0==t)return;var i=Array.isArray(t)?t:[t];var o;var n=null;var r=null;this.itemsData.getDataSet().get(i,{type:{start:"Date",end:"Date"}}).forEach(function(t){var e=t.start.valueOf();var i="end"in t?t.end.valueOf():t.start.valueOf();(null===n||e<n)&&(n=e);(null===r||i>r)&&(r=i)});if(null!==n&&null!==r){var s=this;var a=this.itemSet.items[i[0]];var h=-1*this._getScrollTop();var d=null;var l=function t(e,i,o){var n=w(s,a);d||(d=n);if(d.itemTop==n.itemTop&&!d.shouldScroll)return;if(d.itemTop!=n.itemTop&&n.shouldScroll){d=n;h=-1*s._getScrollTop()}var r=h;var l=d.scrollOffset;var u=o?l:r+(l-r)*e;s._setScrollTop(-u);i||s._redraw()};var u=function t(){var e=w(s,a);if(e.shouldScroll&&e.itemTop!=d.itemTop){s._setScrollTop(-e.scrollOffset);s._redraw()}};var c=function t(){u();setTimeout(u,100)};var p=(n+r)/2;var f=Math.max(this.range.end-this.range.start,1.1*(r-n));var v=!e||void 0===e.animation||e.animation;v||(d={shouldScroll:!1,scrollOffset:-1,itemTop:-1});this.range.setRange(p-f/2,p+f/2,{animation:v},c,l)}};y.prototype.fit=function(t,e){var i=!t||void 0===t.animation||t.animation;var o;var n=this.itemsData&&this.itemsData.getDataSet();if(1===n.length&&void 0===n.get()[0].end){o=this.getDataRange();this.moveTo(o.min.valueOf(),{animation:i},e)}else{o=this.getItemRange();this.range.setRange(o.min,o.max,{animation:i},e)}};function b(t){return n.convert(t.data.start,"Date").valueOf()}function _(t){var e=void 0!=t.data.end?t.data.end:t.data.start;return n.convert(e,"Date").valueOf()}function w(t,e){var i=t.props.leftContainer.height;var o=t.props.left.height;var n=e.parent;var r=n.top;var s=!0;var a=t.timeAxis.options.orientation.axis;var h=function t(){return"bottom"==a?n.height-e.top-e.height:e.top};var d=-1*t._getScrollTop();var l=r+h();var u=e.height;l<d?r+i<=r+h()+u&&(r+=h()-t.itemSet.options.margin.item.vertical):l+u>d+i?r+=h()+u-i+t.itemSet.options.margin.item.vertical:s=!1;return{shouldScroll:s,scrollOffset:r=Math.min(r,o-i),itemTop:l}}y.prototype.getItemRange=function(){var t=this.getDataRange();var e=null!==t.min?t.min.valueOf():null;var i=null!==t.max?t.max.valueOf():null;var o=null;var r=null;if(null!=e&&null!=i){var s=i-e;s<=0&&(s=10);var a=s/this.props.center.width;var h={};var d=0;n.forEach(this.itemSet.items,function(t,e){if(t.groupShowing){var i=!0;h[e]=t.redraw(!0);d=h[e].length}});var l;if(d>0)for(var u=0;u<d;u++)n.forEach(h,function(t){t[u]()});n.forEach(this.itemSet.items,function(t){var n=b(t);var s=_(t);var h;var d;if(this.options.rtl){h=n-(t.getWidthRight()+10)*a;d=s+(t.getWidthLeft()+10)*a}else{h=n-(t.getWidthLeft()+10)*a;d=s+(t.getWidthRight()+10)*a}if(h<e){e=h;o=t}if(d>i){i=d;r=t}}.bind(this));if(o&&r){var c=o.getWidthLeft()+10;var p=r.getWidthRight()+10;var f=this.props.center.width-c-p;if(f>0)if(this.options.rtl){e=b(o)-p*s/f;i=_(r)+c*s/f}else{e=b(o)-c*s/f;i=_(r)+p*s/f}}}return{min:null!=e?new Date(e):null,max:null!=i?new Date(i):null}};y.prototype.getDataRange=function(){var t=null;var e=null;var i=this.itemsData&&this.itemsData.getDataSet();i&&i.forEach(function(i){var o=n.convert(i.start,"Date").valueOf();var r=n.convert(void 0!=i.end?i.end:i.start,"Date").valueOf();(null===t||o<t)&&(t=o);(null===e||r>e)&&(e=r)});return{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}};y.prototype.getEventProperties=function(t){var e=t.center?t.center.x:t.clientX;var i=t.center?t.center.y:t.clientY;var o;o=this.options.rtl?n.getAbsoluteRight(this.dom.centerContainer)-e:e-n.getAbsoluteLeft(this.dom.centerContainer);var r=i-n.getAbsoluteTop(this.dom.centerContainer);var s=this.itemSet.itemFromTarget(t);var a=this.itemSet.groupFromTarget(t);var h=u.customTimeFromTarget(t);var d=this.itemSet.options.snap||null;var l=this.body.util.getScale();var c=this.body.util.getStep();var p=this._toTime(o);var f=d?d(p,l,c):p;var v=n.getTarget(t);var m=null;null!=s?m="item":null!=h?m="custom-time":n.hasParent(v,this.timeAxis.dom.foreground)?m="axis":this.timeAxis2&&n.hasParent(v,this.timeAxis2.dom.foreground)?m="axis":n.hasParent(v,this.itemSet.dom.labelSet)?m="group-label":n.hasParent(v,this.currentTime.bar)?m="current-time":n.hasParent(v,this.dom.center)&&(m="background");return{event:t,item:s?s.id:null,group:a?a.groupId:null,what:m,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:o,y:r,time:p,snappedTime:f}};y.prototype.toggleRollingMode=function(){if(this.range.rolling)this.range.stopRolling();else{void 0==this.options.rollingMode&&this.setOptions(this.options);this.range.startRolling()}};t.exports=y},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=d(i(19));var r;var s=d(i(0));var a;var h=d(i(1));function d(t){return t&&t.__esModule?t:{default:t}}var l=i(10);var u=i(37);var c=i(2);var p=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,s["default"])(this,t);this.pixelRatio=e;this.generated=!1;this.centerCoordinates={x:144.5,y:144.5};this.r=289*.49;this.color={r:255,g:255,b:255,a:1};this.hueCircle=void 0;this.initialColor={r:255,g:255,b:255,a:1};this.previousColor=void 0;this.applied=!1;this.updateCallback=function(){};this.closeCallback=function(){};this._create()}(0,h["default"])(t,[{key:"insertTo",value:function t(e){if(void 0!==this.hammer){this.hammer.destroy();this.hammer=void 0}this.container=e;this.container.appendChild(this.frame);this._bindHammer();this._setSize()}},{key:"setUpdateCallback",value:function t(e){if("function"!=typeof e)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=e}},{key:"setCloseCallback",value:function t(e){if("function"!=typeof e)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=e}},{key:"_isColorString",value:function t(e){var i;if("string"==typeof e)return{black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"}[e]}},{key:"setColor",value:function t(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"===e)return;var o=void 0;var r=this._isColorString(e);void 0!==r&&(e=r);if(!0===c.isString(e)){if(!0===c.isValidRGB(e)){var s=e.substr(4).substr(0,e.length-5).split(",");o={r:s[0],g:s[1],b:s[2],a:1}}else if(!0===c.isValidRGBA(e)){var a=e.substr(5).substr(0,e.length-6).split(",");o={r:a[0],g:a[1],b:a[2],a:a[3]}}else if(!0===c.isValidHex(e)){var h=c.hexToRGB(e);o={r:h.r,g:h.g,b:h.b,a:1}}}else if(e instanceof Object&&void 0!==e.r&&void 0!==e.g&&void 0!==e.b){var d=void 0!==e.a?e.a:"1.0";o={r:e.r,g:e.g,b:e.b,a:d}}if(void 0===o)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+(0,n["default"])(e));this._setColor(o,i)}},{key:"show",value:function t(){if(void 0!==this.closeCallback){this.closeCallback();this.closeCallback=void 0}this.applied=!1;this.frame.style.display="block";this._generateHueCircle()}},{key:"_hide",value:function t(){var e=this;var i;!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=c.extend({},this.color));!0===this.applied&&this.updateCallback(this.initialColor);this.frame.style.display="none";setTimeout(function(){if(void 0!==e.closeCallback){e.closeCallback();e.closeCallback=void 0}},0)}},{key:"_save",value:function t(){this.updateCallback(this.color);this.applied=!1;this._hide()}},{key:"_apply",value:function t(){this.applied=!0;this.updateCallback(this.color);this._updatePicker(this.color)}},{key:"_loadLast",value:function t(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function t(e){var i;!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=c.extend({},e));this.color=e;var o=c.RGBToHSV(e.r,e.g,e.b);var n=2*Math.PI;var r=this.r*o.s;var s=this.centerCoordinates.x+r*Math.sin(n*o.h);var a=this.centerCoordinates.y+r*Math.cos(n*o.h);this.colorPickerSelector.style.left=s-.5*this.colorPickerSelector.clientWidth+"px";this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px";this._updatePicker(e)}},{key:"_setOpacity",value:function t(e){this.color.a=e/100;this._updatePicker(this.color)}},{key:"_setBrightness",value:function t(e){var i=c.RGBToHSV(this.color.r,this.color.g,this.color.b);i.v=e/100;var o=c.HSVToRGB(i.h,i.s,i.v);o["a"]=this.color.a;this.color=o;this._updatePicker()}},{key:"_updatePicker",value:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color;var i=c.RGBToHSV(e.r,e.g,e.b);var o=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1));o.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var n=this.colorPickerCanvas.clientWidth;var r=this.colorPickerCanvas.clientHeight;o.clearRect(0,0,n,r);o.putImageData(this.hueCircle,0,0);o.fillStyle="rgba(0,0,0,"+(1-i.v)+")";o.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r);o.fill();this.brightnessRange.value=100*i.v;this.opacityRange.value=100*e.a;this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")";this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function t(){this.colorPickerCanvas.style.width="100%";this.colorPickerCanvas.style.height="100%";this.colorPickerCanvas.width=289*this.pixelRatio;this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function t(){this.frame=document.createElement("div");this.frame.className="vis-color-picker";this.colorPickerDiv=document.createElement("div");this.colorPickerSelector=document.createElement("div");this.colorPickerSelector.className="vis-selector";this.colorPickerDiv.appendChild(this.colorPickerSelector);this.colorPickerCanvas=document.createElement("canvas");this.colorPickerDiv.appendChild(this.colorPickerCanvas);if(this.colorPickerCanvas.getContext){var e=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1);this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var i=document.createElement("DIV");i.style.color="red";i.style.fontWeight="bold";i.style.padding="10px";i.innerHTML="Error: your browser does not support HTML canvas";this.colorPickerCanvas.appendChild(i)}this.colorPickerDiv.className="vis-color";this.opacityDiv=document.createElement("div");this.opacityDiv.className="vis-opacity";this.brightnessDiv=document.createElement("div");this.brightnessDiv.className="vis-brightness";this.arrowDiv=document.createElement("div");this.arrowDiv.className="vis-arrow";this.opacityRange=document.createElement("input");try{this.opacityRange.type="range";this.opacityRange.min="0";this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100";this.opacityRange.className="vis-range";this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range";this.brightnessRange.min="0";this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100";this.brightnessRange.className="vis-range";this.opacityDiv.appendChild(this.opacityRange);this.brightnessDiv.appendChild(this.brightnessRange);var o=this;this.opacityRange.onchange=function(){o._setOpacity(this.value)};this.opacityRange.oninput=function(){o._setOpacity(this.value)};this.brightnessRange.onchange=function(){o._setBrightness(this.value)};this.brightnessRange.oninput=function(){o._setBrightness(this.value)};this.brightnessLabel=document.createElement("div");this.brightnessLabel.className="vis-label vis-brightness";this.brightnessLabel.innerHTML="brightness:";this.opacityLabel=document.createElement("div");this.opacityLabel.className="vis-label vis-opacity";this.opacityLabel.innerHTML="opacity:";this.newColorDiv=document.createElement("div");this.newColorDiv.className="vis-new-color";this.newColorDiv.innerHTML="new";this.initialColorDiv=document.createElement("div");this.initialColorDiv.className="vis-initial-color";this.initialColorDiv.innerHTML="initial";this.cancelButton=document.createElement("div");this.cancelButton.className="vis-button vis-cancel";this.cancelButton.innerHTML="cancel";this.cancelButton.onclick=this._hide.bind(this,!1);this.applyButton=document.createElement("div");this.applyButton.className="vis-button vis-apply";this.applyButton.innerHTML="apply";this.applyButton.onclick=this._apply.bind(this);this.saveButton=document.createElement("div");this.saveButton.className="vis-button vis-save";this.saveButton.innerHTML="save";this.saveButton.onclick=this._save.bind(this);this.loadButton=document.createElement("div");this.loadButton.className="vis-button vis-load";this.loadButton.innerHTML="load last";this.loadButton.onclick=this._loadLast.bind(this);this.frame.appendChild(this.colorPickerDiv);this.frame.appendChild(this.arrowDiv);this.frame.appendChild(this.brightnessLabel);this.frame.appendChild(this.brightnessDiv);this.frame.appendChild(this.opacityLabel);this.frame.appendChild(this.opacityDiv);this.frame.appendChild(this.newColorDiv);this.frame.appendChild(this.initialColorDiv);this.frame.appendChild(this.cancelButton);this.frame.appendChild(this.applyButton);this.frame.appendChild(this.saveButton);this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function t(){var e=this;this.drag={};this.pinch={};this.hammer=new l(this.colorPickerCanvas);this.hammer.get("pinch").set({enable:!0});u.onTouch(this.hammer,function(t){e._moveSelector(t)});this.hammer.on("tap",function(t){e._moveSelector(t)});this.hammer.on("panstart",function(t){e._moveSelector(t)});this.hammer.on("panmove",function(t){e._moveSelector(t)});this.hammer.on("panend",function(t){e._moveSelector(t)})}},{key:"_generateHueCircle",value:function t(){if(!1===this.generated){var e=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1));e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i=this.colorPickerCanvas.clientWidth;var o=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,i,o);var n=void 0,r=void 0,s=void 0,a=void 0;this.centerCoordinates={x:.5*i,y:.5*o};this.r=.49*i;var h=2*Math.PI/360;var d=1/360;var l=1/this.r;var u=void 0;for(s=0;s<360;s++)for(a=0;a<this.r;a++){n=this.centerCoordinates.x+a*Math.sin(h*s);r=this.centerCoordinates.y+a*Math.cos(h*s);u=c.HSVToRGB(s*d,a*l,1);e.fillStyle="rgb("+u.r+","+u.g+","+u.b+")";e.fillRect(n-.5,r-.5,2,2)}e.strokeStyle="rgba(0,0,0,1)";e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r);e.stroke();this.hueCircle=e.getImageData(0,0,i,o)}this.generated=!0}},{key:"_moveSelector",value:function t(e){var i=this.colorPickerDiv.getBoundingClientRect();var o=e.center.x-i.left;var n=e.center.y-i.top;var r=.5*this.colorPickerDiv.clientHeight;var s=.5*this.colorPickerDiv.clientWidth;var a=o-s;var h=n-r;var d=Math.atan2(a,h);var l=.98*Math.min(Math.sqrt(a*a+h*h),s);var u=Math.cos(d)*l+r;var p=Math.sin(d)*l+s;this.colorPickerSelector.style.top=u-.5*this.colorPickerSelector.clientHeight+"px";this.colorPickerSelector.style.left=p-.5*this.colorPickerSelector.clientWidth+"px";var f=d/(2*Math.PI);f=f<0?f+1:f;var v=l/this.r;var m=c.RGBToHSV(this.color.r,this.color.g,this.color.b);m.h=f;m.s=v;var g=c.HSVToRGB(m.h,m.s,m.v);g["a"]=this.color.a;this.color=g;this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")";this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]);return t}();e["default"]=p},function(t,e,i){var o=i(9);var n=i(2);var r=i(11);var s=i(12);var a=i(64);var h=i(65);var d=i(45);var l=i(67);var u=i(46);var c=i(106);var p=i(15).printStyle;var f=i(113).allOptions;var v=i(113).configureOptions;var m=i(71)["default"];var g=i(15)["default"];function y(t,e,i,h){if(!(Array.isArray(i)||i instanceof r||i instanceof s)&&i instanceof Object){var u=h;h=i;i=u}h&&h.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var p=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:o,width:null,height:null,maxHeight:null,minHeight:null};this.options=n.deepExtend({},this.defaultOptions);this._create(t);this.components=[];this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:p._toScreen.bind(p),toGlobalScreen:p._toGlobalScreen.bind(p),toTime:p._toTime.bind(p),toGlobalTime:p._toGlobalTime.bind(p)}};this.range=new a(this.body);this.components.push(this.range);this.body.range=this.range;this.timeAxis=new d(this.body);this.components.push(this.timeAxis);this.currentTime=new l(this.body);this.components.push(this.currentTime);this.linegraph=new c(this.body);this.components.push(this.linegraph);this.itemsData=null;this.groupsData=null;this.on("tap",function(t){p.emit("click",p.getEventProperties(t))});this.on("doubletap",function(t){p.emit("doubleClick",p.getEventProperties(t))});this.dom.root.oncontextmenu=function(t){p.emit("contextmenu",p.getEventProperties(t))};h&&this.setOptions(h);i&&this.setGroups(i);e&&this.setItems(e);this._redraw()}y.prototype=new h;y.prototype.setOptions=function(t){var e;!0===g.validate(t,f)&&console.log("%cErrors have been found in the supplied options object.",p);h.prototype.setOptions.call(this,t)};y.prototype.setItems=function(t){var e=null==this.itemsData;var i;i=t?t instanceof r||t instanceof s?t:new r(t,{type:{start:"Date",end:"Date"}}):null;this.itemsData=i;this.linegraph&&this.linegraph.setItems(i);if(e)if(void 0!=this.options.start||void 0!=this.options.end){var o=void 0!=this.options.start?this.options.start:null;var n=void 0!=this.options.end?this.options.end:null;this.setWindow(o,n,{animation:!1})}else this.fit({animation:!1})};y.prototype.setGroups=function(t){var e;e=t?t instanceof r||t instanceof s?t:new r(t):null;this.groupsData=e;this.linegraph.setGroups(e)};y.prototype.getLegend=function(t,e,i){void 0===e&&(e=15);void 0===i&&(i=15);return void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].getLegend(e,i):"cannot find group:'"+t+"'"};y.prototype.isGroupVisible=function(t){return void 0!==this.linegraph.groups[t]&&(this.linegraph.groups[t].visible&&(void 0===this.linegraph.options.groups.visibility[t]||1==this.linegraph.options.groups.visibility[t]))};y.prototype.getDataRange=function(){var t=null;var e=null;for(var i in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(i)&&1==this.linegraph.groups[i].visible)for(var o=0;o<this.linegraph.groups[i].itemsData.length;o++){var r=this.linegraph.groups[i].itemsData[o];var s=n.convert(r.x,"Date").valueOf();t=null==t?s:t>s?s:t;e=null==e?s:e<s?s:e}return{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}};y.prototype.getEventProperties=function(t){var e=t.center?t.center.x:t.clientX;var i=t.center?t.center.y:t.clientY;var o=e-n.getAbsoluteLeft(this.dom.centerContainer);var r=i-n.getAbsoluteTop(this.dom.centerContainer);var s=this._toTime(o);var a=u.customTimeFromTarget(t);var h=n.getTarget(t);var d=null;n.hasParent(h,this.timeAxis.dom.foreground)?d="axis":this.timeAxis2&&n.hasParent(h,this.timeAxis2.dom.foreground)?d="axis":n.hasParent(h,this.linegraph.yAxisLeft.dom.frame)?d="data-axis":n.hasParent(h,this.linegraph.yAxisRight.dom.frame)?d="data-axis":n.hasParent(h,this.linegraph.legendLeft.dom.frame)?d="legend":n.hasParent(h,this.linegraph.legendRight.dom.frame)?d="legend":null!=a?d="custom-time":n.hasParent(h,this.currentTime.bar)?d="current-time":n.hasParent(h,this.dom.center)&&(d="background");var l=[];var c=this.linegraph.yAxisLeft;var p=this.linegraph.yAxisRight;!c.hidden&&this.itemsData.length>0&&l.push(c.screenToValue(r));!p.hidden&&this.itemsData.length>0&&l.push(p.screenToValue(r));return{event:t,what:d,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:o,y:r,time:s,value:l}};y.prototype._createConfigurator=function(){return new m(this,this.dom.container,v)};t.exports=y},function(t,e,i){e.util=i(2);e.DOMutil=i(14);e.DataSet=i(11);e.DataView=i(12);e.Queue=i(43);e.Network=i(182);e.network={Images:i(116),dotparser:i(114),gephiParser:i(115),allOptions:i(122)};e.network.convertDot=function(t){return e.network.dotparser.DOTToGraph(t)};e.network.convertGephi=function(t,i){return e.network.gephiParser.parseGephi(t,i)};e.moment=i(9);e.Hammer=i(10);e.keycharm=i(35)},function(t,e,i){i(183);var o=i(44);var n=i(2);var r=i(114);var s=i(115);var a=i(97);var h=i(184);var d=i(116)["default"];var l=i(186)["default"];var u=i(187)["default"];var c=i(214)["default"];var p=i(220)["default"];var f=i(227)["default"];var v=i(229)["default"];var m=i(230)["default"];var g=i(231)["default"];var y=i(232)["default"];var b=i(234)["default"];var _=i(235)["default"];var w=i(237)["default"];var x=i(71)["default"];var k=i(15)["default"];var S,D=i(15).printStyle;var O=i(122),M=O.allOptions,C=O.configureOptions;var E=i(238)["default"];function T(t,e,i){var o=this;if(!(this instanceof T))throw new SyntaxError("Constructor must be called with the new operator");this.options={};this.defaultOptions={locale:"en",locales:h,clickToUse:!1};n.extend(this.options,this.defaultOptions);this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function t(){},onTouch:function t(){},onDoubleTap:function t(){},onHold:function t(){},onDragStart:function t(){},onDrag:function t(){},onDragEnd:function t(){},onMouseWheel:function t(){},onPinch:function t(){},onMouseMove:function t(){},onRelease:function t(){},onContext:function t(){}},data:{nodes:null,edges:null},functions:{createNode:function t(){},createEdge:function t(){},getPointer:function t(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}};this.bindEventListeners();this.images=new d(function(){return o.body.emitter.emit("_requestRedraw")});this.groups=new l;this.canvas=new m(this.body);this.selectionHandler=new b(this.body,this.canvas);this.interactionHandler=new y(this.body,this.canvas,this.selectionHandler);this.view=new g(this.body,this.canvas);this.renderer=new v(this.body,this.canvas);this.physics=new p(this.body);this.layoutEngine=new _(this.body);this.clustering=new f(this.body);this.manipulation=new w(this.body,this.canvas,this.selectionHandler);this.nodesHandler=new u(this.body,this.images,this.groups,this.layoutEngine);this.edgesHandler=new c(this.body,this.images,this.groups);this.body.modules["kamadaKawai"]=new E(this.body,150,.05);this.body.modules["clustering"]=this.clustering;this.canvas._create();this.setOptions(i);this.setData(e)}o(T.prototype);T.prototype.setOptions=function(t){var e=this;if(void 0!==t){var i;!0===k.validate(t,M)&&console.log("%cErrors have been found in the supplied options object.",D);var o=["locale","locales","clickToUse"];n.selectiveDeepExtend(o,this.options,t);t=this.layoutEngine.setOptions(t.layout,t);this.canvas.setOptions(t);this.groups.setOptions(t.groups);this.nodesHandler.setOptions(t.nodes);this.edgesHandler.setOptions(t.edges);this.physics.setOptions(t.physics);this.manipulation.setOptions(t.manipulation,t,this.options);this.interactionHandler.setOptions(t.interaction);this.renderer.setOptions(t.interaction);this.selectionHandler.setOptions(t.interaction);void 0!==t.groups&&this.body.emitter.emit("refreshNodes");if("configure"in t){this.configurator||(this.configurator=new x(this,this.body.container,C,this.canvas.pixelRatio));this.configurator.setOptions(t.configure)}if(this.configurator&&!0===this.configurator.options.enabled){var r={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};n.deepExtend(r.nodes,this.nodesHandler.options);n.deepExtend(r.edges,this.edgesHandler.options);n.deepExtend(r.layout,this.layoutEngine.options);n.deepExtend(r.interaction,this.selectionHandler.options);n.deepExtend(r.interaction,this.renderer.options);n.deepExtend(r.interaction,this.interactionHandler.options);n.deepExtend(r.manipulation,this.manipulation.options);n.deepExtend(r.physics,this.physics.options);n.deepExtend(r.global,this.canvas.options);n.deepExtend(r.global,this.options);this.configurator.setModuleOptions(r)}if(void 0!==t.clickToUse)if(!0===t.clickToUse){if(void 0===this.activator){this.activator=new a(this.canvas.frame);this.activator.on("change",function(){e.body.emitter.emit("activate")})}}else{if(void 0!==this.activator){this.activator.destroy();delete this.activator}this.body.emitter.emit("activate")}else this.body.emitter.emit("activate");this.canvas.setSize();this.body.emitter.emit("startSimulation")}};T.prototype._updateVisibleIndices=function(){var t=this.body.nodes;var e=this.body.edges;this.body.nodeIndices=[];this.body.edgeIndices=[];for(var i in t)t.hasOwnProperty(i)&&(this.clustering._isClusteredNode(i)||!1!==t[i].options.hidden||this.body.nodeIndices.push(t[i].id));for(var o in e)if(e.hasOwnProperty(o)){var n=e[o];var r=t[n.fromId];var s=t[n.toId];var a=void 0!==r&&void 0!==s;var h;!this.clustering._isClusteredEdge(o)&&!1===n.options.hidden&&a&&!1===r.options.hidden&&!1===s.options.hidden&&this.body.edgeIndices.push(n.id)}};T.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.edgesHandler._updateState();t.body.emitter.emit("_dataUpdated")});this.body.emitter.on("_dataUpdated",function(){t.clustering._updateState();t._updateVisibleIndices();t._updateValueRange(t.body.nodes);t._updateValueRange(t.body.edges);t.body.emitter.emit("startSimulation");t.body.emitter.emit("_requestRedraw")})};T.prototype.setData=function(t){this.body.emitter.emit("resetPhysics");this.body.emitter.emit("_resetData");this.selectionHandler.unselectAll();if(t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');this.setOptions(t&&t.options);if(t&&t.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=r.DOTToGraph(t.dot);this.setData(e);return}if(t&&t.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var i=s.parseGephi(t.gephi);this.setData(i);return}this.nodesHandler.setData(t&&t.nodes,!0);this.edgesHandler.setData(t&&t.edges,!0);this.body.emitter.emit("_dataChanged");this.body.emitter.emit("_dataLoaded");this.body.emitter.emit("initPhysics")};T.prototype.destroy=function(){this.body.emitter.emit("destroy");this.body.emitter.off();this.off();delete this.groups;delete this.canvas;delete this.selectionHandler;delete this.interactionHandler;delete this.view;delete this.renderer;delete this.physics;delete this.layoutEngine;delete this.clustering;delete this.manipulation;delete this.nodesHandler;delete this.edgesHandler;delete this.configurator;delete this.images;for(var t in this.body.nodes){if(!this.body.nodes.hasOwnProperty(t))continue;delete this.body.nodes[t]}for(var e in this.body.edges){if(!this.body.edges.hasOwnProperty(e))continue;delete this.body.edges[e]}n.recursiveDOMDelete(this.body.container)};T.prototype._updateValueRange=function(t){var e;var i=void 0;var o=void 0;var n=0;for(e in t)if(t.hasOwnProperty(e)){var r=t[e].getValue();if(void 0!==r){i=void 0===i?r:Math.min(r,i);o=void 0===o?r:Math.max(r,o);n+=r}}if(void 0!==i&&void 0!==o)for(e in t)t.hasOwnProperty(e)&&t[e].setValueRange(i,o,n)};T.prototype.isActive=function(){return!this.activator||this.activator.active};T.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};T.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};T.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};T.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};T.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};T.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};T.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};T.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};T.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};T.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};T.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};T.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};T.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};T.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};T.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};T.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};T.prototype.editNodeMode=function(){console.log("Deprecated: Please use editNode instead of editNodeMode.");return this.manipulation.editNode.apply(this.manipulation,arguments)};T.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};T.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};T.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};T.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};T.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};T.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};T.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};T.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};T.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};T.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};T.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};T.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};T.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};T.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};T.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)};T.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)};T.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);if(void 0!==t&&void 0!==t.id)return t.id;return t};T.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);if(void 0!==t&&void 0!==t.id)return t.id;return t};T.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};T.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};T.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments);this.redraw()};T.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};T.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};T.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};T.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};T.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};T.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};T.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};T.prototype.getOptionsFromConfigurator=function(){var t={};this.configurator&&(t=this.configurator.getOptions.apply(this.configurator));return t};t.exports=T},function(t,e,i){if("undefined"!=typeof CanvasRenderingContext2D){CanvasRenderingContext2D.prototype.circle=function(t,e,i){this.beginPath();this.arc(t,e,i,0,2*Math.PI,!1);this.closePath()};CanvasRenderingContext2D.prototype.square=function(t,e,i){this.beginPath();this.rect(t-i,e-i,2*i,2*i);this.closePath()};CanvasRenderingContext2D.prototype.triangle=function(t,e,i){this.beginPath();e+=.275*(i*=1.15);var o=2*i;var n=o/2;var r=Math.sqrt(3)/6*o;var s=Math.sqrt(o*o-n*n);this.moveTo(t,e-(s-r));this.lineTo(t+n,e+r);this.lineTo(t-n,e+r);this.lineTo(t,e-(s-r));this.closePath()};CanvasRenderingContext2D.prototype.triangleDown=function(t,e,i){this.beginPath();e-=.275*(i*=1.15);var o=2*i;var n=o/2;var r=Math.sqrt(3)/6*o;var s=Math.sqrt(o*o-n*n);this.moveTo(t,e+(s-r));this.lineTo(t+n,e-r);this.lineTo(t-n,e-r);this.lineTo(t,e+(s-r));this.closePath()};CanvasRenderingContext2D.prototype.star=function(t,e,i){this.beginPath();e+=.1*(i*=.82);for(var o=0;o<10;o++){var n=o%2==0?1.3*i:.5*i;this.lineTo(t+n*Math.sin(2*o*Math.PI/10),e-n*Math.cos(2*o*Math.PI/10))}this.closePath()};CanvasRenderingContext2D.prototype.diamond=function(t,e,i){this.beginPath();this.lineTo(t,e+i);this.lineTo(t+i,e);this.lineTo(t,e-i);this.lineTo(t-i,e);this.closePath()};CanvasRenderingContext2D.prototype.roundRect=function(t,e,i,o,n){var r=Math.PI/180;i-2*n<0&&(n=i/2);o-2*n<0&&(n=o/2);this.beginPath();this.moveTo(t+n,e);this.lineTo(t+i-n,e);this.arc(t+i-n,e+n,n,270*r,360*r,!1);this.lineTo(t+i,e+o-n);this.arc(t+i-n,e+o-n,n,0,90*r,!1);this.lineTo(t+n,e+o);this.arc(t+n,e+o-n,n,90*r,180*r,!1);this.lineTo(t,e+n);this.arc(t+n,e+n,n,180*r,270*r,!1);this.closePath()};CanvasRenderingContext2D.prototype.ellipse_vis=function(t,e,i,o){var n=.5522848,r=i/2*n,s=o/2*n,a=t+i,h=e+o,d=t+i/2,l=e+o/2;this.beginPath();this.moveTo(t,l);this.bezierCurveTo(t,l-s,d-r,e,d,e);this.bezierCurveTo(d+r,e,a,l-s,a,l);this.bezierCurveTo(a,l+s,d+r,h,d,h);this.bezierCurveTo(d-r,h,t,l+s,t,l);this.closePath()};CanvasRenderingContext2D.prototype.database=function(t,e,i,o){var n;var r=i;var s=o*(1/3);var a=.5522848,h=i/2*a,d=s/2*a,l=t+i,u=e+s,c=t+i/2,p=e+s/2,f=e+(o-s/2),v=e+o;this.beginPath();this.moveTo(l,p);this.bezierCurveTo(l,p+d,c+h,u,c,u);this.bezierCurveTo(c-h,u,t,p+d,t,p);this.bezierCurveTo(t,p-d,c-h,e,c,e);this.bezierCurveTo(c+h,e,l,p-d,l,p);this.lineTo(l,f);this.bezierCurveTo(l,f+d,c+h,v,c,v);this.bezierCurveTo(c-h,v,t,f+d,t,f);this.lineTo(t,p)};CanvasRenderingContext2D.prototype.dashedLine=function(t,e,i,o,n){this.beginPath();this.moveTo(t,e);var r=n.length;var s=i-t;var a=o-e;var h=a/s;var d=Math.sqrt(s*s+a*a);var l=0;var u=!0;var c=0;var p=n[0];for(;d>=.1;){(p=n[l++%r])>d&&(p=d);c=Math.sqrt(p*p/(1+h*h));t+=c=s<0?-c:c;e+=h*c;!0===u?this.lineTo(t,e):this.moveTo(t,e);d-=p;u=!u}};CanvasRenderingContext2D.prototype.hexagon=function(t,e,i){this.beginPath();var o=6;var n=2*Math.PI/6;this.moveTo(t+i,e);for(var r=1;r<6;r++)this.lineTo(t+i*Math.cos(n*r),e+i*Math.sin(n*r));this.closePath()}}},function(t,e,i){e["en"]={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."};e["en_EN"]=e["en"];e["en_US"]=e["en"];e["de"]={edit:"Editieren",del:"Lösche Auswahl",back:"Zurück",addNode:"Knoten hinzufügen",addEdge:"Kante hinzufügen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster können nicht gelöscht werden.",editClusterError:"Cluster können nicht editiert werden."};e["de_DE"]=e["de"];e["es"]={edit:"Editar",del:"Eliminar selección",back:"Átras",addNode:"Añadir nodo",addEdge:"Añadir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."};e["es_ES"]=e["es"];e["it"]={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."};e["it_IT"]=e["it"];e["nl"]={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."};e["nl_NL"]=e["nl"];e["nl_BE"]=e["nl"];e["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar nó",addEdge:"Adicionar aresta",editNode:"Editar nó",editEdge:"Editar aresta",addDescription:"Clique em um espaço em branco para adicionar um novo nó",edgeDescription:"Clique em um nó e arraste a aresta até outro nó para conectá-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nó para conectá-los",createEdgeError:"Não foi possível linkar arestas a um cluster.",deleteClusterError:"Clusters não puderam ser removidos.",editClusterError:"Clusters não puderam ser editados."};e["pt-BR"]=e["pt-br"];e["pt_BR"]=e["pt-br"];e["pt_br"]=e["pt-br"];e["ru"]={edit:"Редактировать",del:"Удалить выбранное",back:"Назад",addNode:"Добавить узел",addEdge:"Добавить ребро",editNode:"Редактировать узел",editEdge:"Редактировать ребро",addDescription:"Кликните в свободное место, чтобы добавить новый узел.",edgeDescription:"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.",editEdgeDescription:"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.",createEdgeError:"Невозможно соединить ребра в кластер.",deleteClusterError:"Кластеры не могут быть удалены",editClusterError:"Кластеры недоступны для редактирования."};e["ru_RU"]=e["ru"];e["cn"]={edit:"编辑",del:"删除选定",back:"返回",addNode:"添加节点",addEdge:"添加连接线",editNode:"编辑节点",editEdge:"编辑连接线",addDescription:"单击空白处放置新节点。",edgeDescription:"单击某个节点并将该连接线拖动到另一个节点以连接它们。",editEdgeDescription:"单击控制节点并将它们拖到节点上连接。",createEdgeError:"无法将连接线连接到群集。",deleteClusterError:"无法删除群集。",editClusterError:"无法编辑群集。"};e["zh_CN"]=e["cn"]},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=a(i(0));var r;var s=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(){(0,n["default"])(this,t);this.NUM_ITERATIONS=4;this.image=new Image;this.canvas=document.createElement("canvas")}(0,s["default"])(t,[{key:"init",value:function t(){if(this.initialized())return;this.src=this.image.src;var e=this.image.width;var i=this.image.height;this.width=e;this.height=i;var o=Math.floor(i/2);var n=Math.floor(i/4);var r=Math.floor(i/8);var s=Math.floor(i/16);var a=Math.floor(e/2);var h=Math.floor(e/4);var d=Math.floor(e/8);var l=Math.floor(e/16);this.canvas.width=3*h;this.canvas.height=o;this.coordinates=[[0,0,a,o],[a,0,h,n],[a,n,d,r],[5*d,n,l,s]];this._fillMipMap()}},{key:"initialized",value:function t(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function t(){var e=this.canvas.getContext("2d");var i=this.coordinates[0];e.drawImage(this.image,i[0],i[1],i[2],i[3]);for(var o=1;o<this.NUM_ITERATIONS;o++){var n=this.coordinates[o-1];var r=this.coordinates[o];e.drawImage(this.canvas,n[0],n[1],n[2],n[3],r[0],r[1],r[2],r[3])}}},{key:"drawImageAtPosition",value:function t(e,i,o,n,r,s){if(!this.initialized())return;if(i>2){i*=.5;var a=0;for(;i>2&&a<this.NUM_ITERATIONS;){i*=.5;a+=1}a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);var h=this.coordinates[a];e.drawImage(this.canvas,h[0],h[1],h[2],h[3],o,n,r,s)}else e.drawImage(this.image,o,n,r,s)}}]);return t}();e["default"]=h},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=a(i(0));var r;var s=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var h=i(2);var d=function(){function t(){(0,n["default"])(this,t);this.clear();this.defaultIndex=0;this.groupsArray=[];this.groupIndex=0;this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}];this.options={};this.defaultOptions={useDefaultGroups:!0};h.extend(this.options,this.defaultOptions)}(0,s["default"])(t,[{key:"setOptions",value:function t(e){var i=["useDefaultGroups"];if(void 0!==e)for(var o in e)if(e.hasOwnProperty(o)&&-1===i.indexOf(o)){var n=e[o];this.add(o,n)}}},{key:"clear",value:function t(){this.groups={};this.groupsArray=[]}},{key:"get",value:function t(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var o=this.groups[e];if(void 0===o&&i)if(!1===this.options.useDefaultGroups&&this.groupsArray.length>0){var n=this.groupIndex%this.groupsArray.length;this.groupIndex++;(o={}).color=this.groups[this.groupsArray[n]];this.groups[e]=o}else{var r=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++;(o={}).color=this.defaultGroups[r];this.groups[e]=o}return o}},{key:"add",value:function t(e,i){this.groups[e]=i;this.groupsArray.push(e);return i}}]);return t}();e["default"]=d},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=a(i(0));var r;var s=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var h=i(2);var d=i(11);var l=i(12);var u=i(47)["default"];var c=function(){function t(e,i,o,r){var s=this;(0,n["default"])(this,t);this.body=e;this.images=i;this.groups=o;this.layoutEngine=r;this.body.functions.createNode=this.create.bind(this);this.nodesListeners={add:function t(e,i){s.add(i.items)},update:function t(e,i){s.update(i.items,i.data,i.oldData)},remove:function t(e,i){s.remove(i.items)}};this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function t(e,i,o,n){if(i===e)return.5;var r=1/(i-e);return Math.max(0,(n-e)*r)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0};if(this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=h.bridgeObject(this.defaultOptions);this.bindEventListeners()}(0,s["default"])(t,[{key:"bindEventListeners",value:function t(){var e=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this));this.body.emitter.on("refresh",this.refresh.bind(this));this.body.emitter.on("destroy",function(){h.forEach(e.nodesListeners,function(t,i){e.body.data.nodes&&e.body.data.nodes.off(i,t)});delete e.body.functions.createNode;delete e.nodesListeners.add;delete e.nodesListeners.update;delete e.nodesListeners.remove;delete e.nodesListeners})}},{key:"setOptions",value:function t(e){if(void 0!==e){u.parseOptions(this.options,e);if(void 0!==e.shape)for(var i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&this.body.nodes[i].updateShape();if(void 0!==e.font)for(var o in this.body.nodes)if(this.body.nodes.hasOwnProperty(o)){this.body.nodes[o].updateLabelModule();this.body.nodes[o].needsRefresh()}if(void 0!==e.size)for(var n in this.body.nodes)this.body.nodes.hasOwnProperty(n)&&this.body.nodes[n].needsRefresh();void 0===e.hidden&&void 0===e.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function t(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var o=this.body.data.nodes;if(e instanceof d||e instanceof l)this.body.data.nodes=e;else if(Array.isArray(e)){this.body.data.nodes=new d;this.body.data.nodes.add(e)}else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new d}o&&h.forEach(this.nodesListeners,function(t,e){o.off(e,t)});this.body.nodes={};if(this.body.data.nodes){var n=this;h.forEach(this.nodesListeners,function(t,e){n.body.data.nodes.on(e,t)});var r=this.body.data.nodes.getIds();this.add(r,!0)}!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function t(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var o=void 0;var n=[];for(var r=0;r<e.length;r++){o=e[r];var s=this.body.data.nodes.get(o);var a=this.create(s);n.push(a);this.body.nodes[o]=a}this.layoutEngine.positionInitially(n);!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function t(e,i,o){var n=this.body.nodes;var r=!1;for(var s=0;s<e.length;s++){var a=e[s];var h=n[a];var d=i[s];if(void 0!==h)h.setOptions(d)&&(r=!0);else{r=!0;h=this.create(d);n[a]=h}}r||void 0===o||(r=i.some(function(t,e){var i=o[e];return i&&i.level!==t.level}));!0===r?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function t(e){var i=this.body.nodes;for(var o=0;o<e.length;o++){var n;delete i[e[o]]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function t(e){var i;return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:u)(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function t(){var e=this;var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];h.forEach(this.body.nodes,function(t,o){var n=e.body.data.nodes.get(o);if(void 0!==n){!0===i&&t.setOptions({x:null,y:null});t.setOptions({fixed:!1});t.setOptions(n)}})}},{key:"getPositions",value:function t(e){var i={};if(void 0!==e){if(!0===Array.isArray(e)){for(var o=0;o<e.length;o++)if(void 0!==this.body.nodes[e[o]]){var n=this.body.nodes[e[o]];i[e[o]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(void 0!==this.body.nodes[e]){var r=this.body.nodes[e];i[e]={x:Math.round(r.x),y:Math.round(r.y)}}}else for(var s=0;s<this.body.nodeIndices.length;s++){var a=this.body.nodes[this.body.nodeIndices[s]];i[this.body.nodeIndices[s]]={x:Math.round(a.x),y:Math.round(a.y)}}return i}},{key:"storePositions",value:function t(){var e=[];var i=this.body.data.nodes.getDataSet();for(var o in i._data)if(i._data.hasOwnProperty(o)){var n=this.body.nodes[o];i._data[o].x==Math.round(n.x)&&i._data[o].y==Math.round(n.y)||e.push({id:n.id,x:Math.round(n.x),y:Math.round(n.y)})}i.update(e)}},{key:"getBoundingBox",value:function t(e){if(void 0!==this.body.nodes[e])return this.body.nodes[e].shape.boundingBox}},{key:"getConnectedNodes",value:function t(e,i){var o=[];if(void 0!==this.body.nodes[e]){var n=this.body.nodes[e];var r={};for(var s=0;s<n.edges.length;s++){var a=n.edges[s];if("to"!==i&&a.toId==n.id){if(void 0===r[a.fromId]){o.push(a.fromId);r[a.fromId]=!0}}else if("from"!==i&&a.fromId==n.id&&void 0===r[a.toId]){o.push(a.toId);r[a.toId]=!0}}}return o}},{key:"getConnectedEdges",value:function t(e){var i=[];if(void 0!==this.body.nodes[e]){var o=this.body.nodes[e];for(var n=0;n<o.edges.length;n++)i.push(o.edges[n].id)}else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return i}},{key:"moveNode",value:function t(e,i,o){var n=this;if(void 0!==this.body.nodes[e]){this.body.nodes[e].x=Number(i);this.body.nodes[e].y=Number(o);setTimeout(function(){n.body.emitter.emit("startSimulation")},0)}else console.log("Node id supplied to moveNode does not exist. Provided: ",e)}}]);return t}();e["default"]=c},function(t,e,i){t.exports={default:i(189),__esModule:!0}},function(t,e,i){i(49);i(60);t.exports=i(190)},function(t,e,i){var o=i(86);var n=i(13)("iterator");var r=i(31);t.exports=i(7).isIterable=function(t){var e=Object(t);return void 0!==e[n]||"@@iterator"in e||r.hasOwnProperty(o(e))}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=a(i(0));var r;var s=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var h=i(192)["default"];var d=i(48)["default"];var l=function(){function t(e,i,o,r){var s=this;(0,n["default"])(this,t);this.ctx=e;this.parent=i;var a=function t(i,n){if(void 0===i)return 0;var a=s.parent.getFormattingValues(e,o,r,n);var h=0;if(""!==i){var d;h=s.ctx.measureText(i).width}return{width:h,values:a}};this.lines=new h(a)}(0,s["default"])(t,[{key:"process",value:function t(e){if(!d.isValidLabel(e))return this.lines.finalize();var i=this.parent.fontOptions;e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var o=String(e).split("\n");var n=o.length;if(i.multi)for(var r=0;r<n;r++){var s=this.splitBlocks(o[r],i.multi);if(void 0===s)continue;if(0===s.length){this.lines.newLine("");continue}if(i.maxWdt>0)for(var a=0;a<s.length;a++){var h=s[a].mod;var l=s[a].text;this.splitStringIntoLines(l,h,!0)}else for(var u=0;u<s.length;u++){var c=s[u].mod;var p=s[u].text;this.lines.append(p,c)}this.lines.newLine()}else if(i.maxWdt>0)for(var f=0;f<n;f++)this.splitStringIntoLines(o[f]);else for(var v=0;v<n;v++)this.lines.newLine(o[v]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function t(e){var i="none";"markdown"===e||"md"===e?i="markdown":!0!==e&&"html"!==e||(i="html");return i}},{key:"splitHtmlBlocks",value:function t(e){var i=[];var o={bold:!1,ital:!1,mono:!1,spacing:!1,position:0,buffer:"",modStack:[]};o.mod=function(){return 0===this.modStack.length?"normal":this.modStack[0]};o.modName=function(){if(0===this.modStack.length)return"normal";if("mono"===this.modStack[0])return"mono";if(o.bold&&o.ital)return"boldital";if(o.bold)return"bold";if(o.ital)return"ital"};o.emitBlock=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.spacing){this.add(" ");this.spacing=!1}if(this.buffer.length>0){i.push({text:this.buffer,mod:this.modName()});this.buffer=""}};o.add=function(t){" "===t&&(o.spacing=!0);if(o.spacing){this.buffer+=" ";this.spacing=!1}" "!=t&&(this.buffer+=t)};for(;o.position<e.length;){var n=e.charAt(o.position);if(/[ \t]/.test(n))o.mono?o.add(n):o.spacing=!0;else if(/</.test(n))if(o.mono||o.bold||!/<b>/.test(e.substr(o.position,3)))if(o.mono||o.ital||!/<i>/.test(e.substr(o.position,3)))if(!o.mono&&/<code>/.test(e.substr(o.position,6))){o.emitBlock();o.mono=!0;o.modStack.unshift("mono");o.position+=5}else if(!o.mono&&"bold"===o.mod()&&/<\/b>/.test(e.substr(o.position,4))){o.emitBlock();o.bold=!1;o.modStack.shift();o.position+=3}else if(!o.mono&&"ital"===o.mod()&&/<\/i>/.test(e.substr(o.position,4))){o.emitBlock();o.ital=!1;o.modStack.shift();o.position+=3}else if("mono"===o.mod()&&/<\/code>/.test(e.substr(o.position,7))){o.emitBlock();o.mono=!1;o.modStack.shift();o.position+=6}else o.add(n);else{o.emitBlock();o.ital=!0;o.modStack.unshift("ital");o.position+=2}else{o.emitBlock();o.bold=!0;o.modStack.unshift("bold");o.position+=2}else if(/&/.test(n))if(/&lt;/.test(e.substr(o.position,4))){o.add("<");o.position+=3}else if(/&amp;/.test(e.substr(o.position,5))){o.add("&");o.position+=4}else o.add("&");else o.add(n);o.position++}o.emitBlock();return i}},{key:"splitMarkdownBlocks",value:function t(e){var i=[];var o={bold:!1,ital:!1,mono:!1,beginable:!0,spacing:!1,position:0,buffer:"",modStack:[]};o.mod=function(){return 0===this.modStack.length?"normal":this.modStack[0]};o.modName=function(){if(0===this.modStack.length)return"normal";if("mono"===this.modStack[0])return"mono";if(o.bold&&o.ital)return"boldital";if(o.bold)return"bold";if(o.ital)return"ital"};o.emitBlock=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.spacing){this.add(" ");this.spacing=!1}if(this.buffer.length>0){i.push({text:this.buffer,mod:this.modName()});this.buffer=""}};o.add=function(t){" "===t&&(o.spacing=!0);if(o.spacing){this.buffer+=" ";this.spacing=!1}" "!=t&&(this.buffer+=t)};for(;o.position<e.length;){var n=e.charAt(o.position);if(/[ \t]/.test(n)){o.mono?o.add(n):o.spacing=!0;o.beginable=!0}else if(/\\/.test(n)){if(o.position<e.length+1){o.position++;n=e.charAt(o.position);if(/ \t/.test(n))o.spacing=!0;else{o.add(n);o.beginable=!1}}}else if(o.mono||o.bold||!o.beginable&&!o.spacing||!/\*/.test(n))if(o.mono||o.ital||!o.beginable&&!o.spacing||!/\_/.test(n))if(!o.mono&&(o.beginable||o.spacing)&&/`/.test(n)){o.emitBlock();o.mono=!0;o.modStack.unshift("mono")}else if(!o.mono&&"bold"===o.mod()&&/\*/.test(n))if(o.position===e.length-1||/[.,_` \t\n]/.test(e.charAt(o.position+1))){o.emitBlock();o.bold=!1;o.modStack.shift()}else o.add(n);else if(!o.mono&&"ital"===o.mod()&&/\_/.test(n))if(o.position===e.length-1||/[.,*` \t\n]/.test(e.charAt(o.position+1))){o.emitBlock();o.ital=!1;o.modStack.shift()}else o.add(n);else if(o.mono&&"mono"===o.mod()&&/`/.test(n))if(o.position===e.length-1||/[.,*_ \t\n]/.test(e.charAt(o.position+1))){o.emitBlock();o.mono=!1;o.modStack.shift()}else o.add(n);else{o.add(n);o.beginable=!1}else{o.emitBlock();o.ital=!0;o.modStack.unshift("ital")}else{o.emitBlock();o.bold=!0;o.modStack.unshift("bold")}o.position++}o.emitBlock();return i}},{key:"splitBlocks",value:function t(e,i){var o=this.decodeMarkupSystem(i);if("none"===o)return[{text:e,mod:"normal"}];if("markdown"===o)return this.splitMarkdownBlocks(e);if("html"===o)return this.splitHtmlBlocks(e)}},{key:"overMaxWidth",value:function t(e){var i=this.ctx.measureText(e).width;return this.lines.curWidth()+i>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function t(e){var i="";var o=0;for(;o<e.length;){var n;var r=i+(""===i?"":" ")+e[o];if(this.overMaxWidth(r))break;i=r;o++}return o}},{key:"getLongestFitWord",value:function t(e){var i=0;for(;i<e.length&&!this.overMaxWidth(e.slice(0,i));)i++;return i}},{key:"splitStringIntoLines",value:function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n=(e=(e=e.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");for(;n.length>0;){var r=this.getLongestFit(n);if(0===r){var s=n[0];var a=this.getLongestFitWord(s);this.lines.newLine(s.slice(0,a),i);n[0]=s.slice(a)}else{var h=r;" "===n[r-1]?r--:" "===n[h]&&h++;var d=n.slice(0,r).join("");r==n.length&&o?this.lines.append(d,i):this.lines.newLine(d,i);n=n.slice(h)}}}}]);return t}();e["default"]=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=d(i(90));var r;var s=d(i(0));var a;var h=d(i(1));function d(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(e){(0,s["default"])(this,t);this.measureText=e;this.current=0;this.width=0;this.height=0;this.lines=[]}(0,h["default"])(t,[{key:"_add",value:function t(e,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[e]&&(this.lines[e]={width:0,height:0,blocks:[]});var r=i;void 0!==i&&""!==i||(r=" ");var s=this.measureText(r,o);var a=(0,n["default"])({},s.values);a.text=i;a.width=s.width;a.mod=o;void 0!==i&&""!==i||(a.width=0);this.lines[e].blocks.push(a);this.lines[e].width+=a.width}},{key:"curWidth",value:function t(){var e=this.lines[this.current];if(void 0===e)return 0;return e.width}},{key:"append",value:function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,e,i)}},{key:"newLine",value:function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,e,i);this.current++}},{key:"determineLineHeights",value:function t(){for(var e=0;e<this.lines.length;e++){var i=this.lines[e];var o=0;if(void 0!==i.blocks)for(var n=0;n<i.blocks.length;n++){var r=i.blocks[n];o<r.height&&(o=r.height)}i.height=o}}},{key:"determineLabelSize",value:function t(){var e=0;var i=0;for(var o=0;o<this.lines.length;o++){var n=this.lines[o];n.width>e&&(e=n.width);i+=n.height}this.width=e;this.height=i}},{key:"removeEmptyBlocks",value:function t(){var e=[];for(var i=0;i<this.lines.length;i++){var o=this.lines[i];if(0===o.blocks.length)continue;if(i===this.lines.length-1&&0===o.width)continue;var r={};(0,n["default"])(r,o);r.blocks=[];var s=void 0;var a=[];for(var h=0;h<o.blocks.length;h++){var d=o.blocks[h];0!==d.width?a.push(d):void 0===s&&(s=d)}0===a.length&&void 0!==s&&a.push(s);r.blocks=a;e.push(r)}return e}},{key:"finalize",value:function t(){this.determineLineHeights();this.determineLabelSize();var e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}]);return t}();e["default"]=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=v(i(3));var r;var s=v(i(0));var a;var h=v(i(1));var d;var l=v(i(4));var u;var c=v(i(5));var p;var f;function v(t){return t&&t.__esModule?t:{default:t}}var m=function(t){(0,c["default"])(e,t);function e(t,i,o){(0,s["default"])(this,e);var r=(0,l["default"])(this,(e.__proto__||(0,n["default"])(e)).call(this,t,i,o));r._setMargins(o);return r}(0,h["default"])(e,[{key:"resize",value:function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected;var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(i,o)){var n=this.getDimensionsFromLabel(e,i,o);this.width=n.width+this.margin.right+this.margin.left;this.height=n.height+this.margin.top+this.margin.bottom;this.radius=this.width/2}}},{key:"draw",value:function t(e,i,o,n,r,s){this.resize(e,n,r);this.left=i-this.width/2;this.top=o-this.height/2;this.initContextForDraw(e,s);e.roundRect(this.left,this.top,this.width,this.height,s.borderRadius);this.performFill(e,s);this.updateBoundingBox(i,o,e,n,r);this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,r)}},{key:"updateBoundingBox",value:function t(e,i,o,n,r){this._updateBoundingBox(e,i,o,n,r);var s=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(s)}},{key:"distanceToBorder",value:function t(e,i){this.resize(e);var o=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(i)),Math.abs(this.height/2/Math.sin(i)))+o}}]);return e}(v(i(23))["default"]);e["default"]=m},function(t,e,i){i(195);t.exports=i(7).Object.getPrototypeOf},function(t,e,i){var o=i(41);var n=i(85);i(87)("getPrototypeOf",function(){return function t(e){return n(o(e))}})},function(t,e,i){t.exports={default:i(197),__esModule:!0}},function(t,e,i){i(198);t.exports=i(7).Object.setPrototypeOf},function(t,e,i){var o=i(17);o(o.S,"Object",{setPrototypeOf:i(199).set})},function(t,e,i){var o=i(32);var n=i(27);var r=function(t,e){n(t);if(!o(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,o){try{(o=i(80)(Function.call,i(89).f(Object.prototype,"__proto__").set,2))(t,[]);e=!(t instanceof Array)}catch(t){e=!0}return function t(i,n){r(i,n);e?i.__proto__=n:o(i,n);return i}}({},!1):void 0),check:r}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=v(i(3));var r;var s=v(i(0));var a;var h=v(i(1));var d;var l=v(i(4));var u;var c=v(i(5));var p;var f;function v(t){return t&&t.__esModule?t:{default:t}}var m=function(t){(0,c["default"])(e,t);function e(t,i,o){(0,s["default"])(this,e);var r=(0,l["default"])(this,(e.__proto__||(0,n["default"])(e)).call(this,t,i,o));r._setMargins(o);return r}(0,h["default"])(e,[{key:"resize",value:function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected;var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(i,o)){var n=this.getDimensionsFromLabel(e,i,o);var r=Math.max(n.width+this.margin.right+this.margin.left,n.height+this.margin.top+this.margin.bottom);this.options.size=r/2;this.width=r;this.height=r;this.radius=this.width/2}}},{key:"draw",value:function t(e,i,o,n,r,s){this.resize(e,n,r);this.left=i-this.width/2;this.top=o-this.height/2;this._drawRawCircle(e,i,o,s);this.updateBoundingBox(i,o);this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,o,n,r)}},{key:"updateBoundingBox",value:function t(e,i){this.boundingBox.top=i-this.options.size;this.boundingBox.left=e-this.options.size;this.boundingBox.right=e+this.options.size;this.boundingBox.bottom=i+this.options.size}},{key:"distanceToBorder",value:function t(e,i){this.resize(e);return.5*this.width}}]);return e}(v(i(73))["default"]);e["default"]=m},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=v(i(3));var r;var s=v(i(0));var a;var h=v(i(1));var d;var l=v(i(4));var u;var c=v(i(5));var p;var f;function v(t){return t&&t.__esModule?t:{default:t}}var m=function(t){(0,c["default"])(e,t);function e(t,i,o,r,a){(0,s["default"])(this,e);var h=(0,l["default"])(this,(e.__proto__||(0,n["default"])(e)).call(this,t,i,o));h.setImages(r,a);return h}(0,h["default"])(e,[{key:"resize",value:function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected;var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;var n;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var r=2*this.options.size;this.width=r;this.height=r;this.radius=.5*this.width;return}this.needsRefresh(i,o)&&this._resizeImage()}},{key:"draw",value:function t(e,i,o,n,r,s){this.switchImages(n);this.resize();this.left=i-this.width/2;this.top=o-this.height/2;this._drawRawCircle(e,i,o,s);e.save();e.clip();this._drawImageAtPosition(e,s);e.restore();this._drawImageLabel(e,i,o,n,r);this.updateBoundingBox(i,o)}},{key:"updateBoundingBox",value:function t(e,i){this.boundingBox.top=i-this.options.size;this.boundingBox.left=e-this.options.size;this.boundingBox.right=e+this.options.size;this.boundingBox.bottom=i+this.options.size;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left);this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width);this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function t(e,i){this.resize(e);return.5*this.width}}]);return e}(v(i(73))["default"]);e["default"]=m},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=v(i(3));var r;var s=v(i(0));var a;var h=v(i(1));var d;var l=v(i(4));var u;var c=v(i(5));var p;var f;function v(t){return t&&t.__esModule?t:{default:t}}var m=function(t){(0,c["default"])(e,t);function e(t,i,o){(0,s["default"])(this,e);var r=(0,l["default"])(this,(e.__proto__||(0,n["default"])(e)).call(this,t,i,o));r._setMargins(o);return r}(0,h["default"])(e,[{key:"resize",value:function t(e,i,o){if(this.needsRefresh(i,o)){var n;var r=this.getDimensionsFromLabel(e,i,o).width+this.margin.right+this.margin.left;this.width=r;this.height=r;this.radius=this.width/2}}},{key:"draw",value:function t(e,i,o,n,r,s){this.resize(e,n,r);this.left=i-this.width/2;this.top=o-this.height/2;this.initContextForDraw(e,s);e.database(i-this.width/2,o-this.height/2,this.width,this.height);this.performFill(e,s);this.updateBoundingBox(i,o,e,n,r);this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,r)}},{key:"distanceToBorder",value:function t(e,i){return this._distanceToBorder(e,i)}}]);return e}(v(i(23))["default"]);e["default"]=m},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=v(i(3));var r;var s=v(i(0));var a;var h=v(i(1));var d;var l=v(i(4));var u;var c=v(i(5));var p;var f;function v(t){return t&&t.__esModule?t:{default:t}}var m=function(t){(0,c["default"])(e,t);function e(t,i,o){(0,s["default"])(this,e);return(0,l["default"])(this,(e.__proto__||(0,n["default"])(e)).call(this,t,i,o))}(0,h["default"])(e,[{key:"draw",value:function t(e,i,o,n,r,s){this._drawShape(e,"diamond",4,i,o,n,r,s)}},{key:"distanceToBorder",value:function t(e,i){return this._distanceToBorder(e,i)}}]);return e}(v(i(24))["default"]);e["default"]=m},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=v(i(3));var r;var s=v(i(0));var a;var h=v(i(1));var d;var l=v(i(4));var u;var c=v(i(5));var p;var f;function v(t){return t&&t.__esModule?t:{default:t}}var m=function(t){(0,c["default"])(e,t);function e(t,i,o){(0,s["default"])(this,e);return(0,l["default"])(this,(e.__proto__||(0,n["default"])(e)).call(this,t,i,o))}(0,h["default"])(e,[{key:"draw",value:function t(e,i,o,n,r,s){this._drawShape(e,"circle",2,i,o,n,r,s)}},{key:"distanceToBorder",value:function t(e,i){this.resize(e);return this.options.size}}]);return e}(v(i(24))["default"]);e["default"]=m},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=v(i(3));var r;var s=v(i(0));var a;var h=v(i(1));var d;var l=v(i(4));var u;var c=v(i(5));var p;var f;function v(t){return t&&t.__esModule?t:{default:t}}var m=function(t){(0,c["default"])(e,t);function e(t,i,o){(0,s["default"])(this,e);return(0,l["default"])(this,(e.__proto__||(0,n["default"])(e)).call(this,t,i,o))}(0,h["default"])(e,[{key:"resize",value:function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected;var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(i,o)){var n=this.getDimensionsFromLabel(e,i,o);this.height=2*n.height;this.width=n.width+n.height;this.radius=.5*this.width}}},{key:"draw",value:function t(e,i,o,n,r,s){this.resize(e,n,r);this.left=i-.5*this.width;this.top=o-.5*this.height;this.initContextForDraw(e,s);e.ellipse_vis(this.left,this.top,this.width,this.height);this.performFill(e,s);this.updateBoundingBox(i,o,e,n,r);this.labelModule.draw(e,i,o,n,r)}},{key:"distanceToBorder",value:function t(e,i){this.resize(e);var o=.5*this.width;var n=.5*this.height;var r=Math.sin(i)*o;var s=Math.cos(i)*n;return o*n/Math.sqrt(r*r+s*s)}}]);return e}(v(i(23))["default"]);e["default"]=m},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=v(i(3));var r;var s=v(i(0));var a;var h=v(i(1));var d;var l=v(i(4));var u;var c=v(i(5));var p;var f;function v(t){return t&&t.__esModule?t:{default:t}}var m=function(t){(0,c["default"])(e,t);function e(t,i,o){(0,s["default"])(this,e);var r=(0,l["default"])(this,(e.__proto__||(0,n["default"])(e)).call(this,t,i,o));r._setMargins(o);return r}(0,h["default"])(e,[{key:"resize",value:function t(e,i,o){if(this.needsRefresh(i,o)){this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)};this.width=this.iconSize.width+this.margin.right+this.margin.left;this.height=this.iconSize.height+this.margin.top+this.margin.bottom;this.radius=.5*this.width}}},{key:"draw",value:function t(e,i,o,n,r,s){this.resize(e,n,r);this.options.icon.size=this.options.icon.size||50;this.left=i-this.width/2;this.top=o-this.height/2;this._icon(e,i,o,n,r,s);if(void 0!==this.options.label){var a=5;this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,o+this.height/2+5,n)}this.updateBoundingBox(i,o)}},{key:"updateBoundingBox",value:function t(e,i){this.boundingBox.top=i-.5*this.options.icon.size;this.boundingBox.left=e-.5*this.options.icon.size;this.boundingBox.right=e+.5*this.options.icon.size;this.boundingBox.bottom=i+.5*this.options.icon.size;if(void 0!==this.options.label&&this.labelModule.size.width>0){var o=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left);this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width);this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5)}}},{key:"_icon",value:function t(e,i,o,n,r,s){var a=Number(this.options.icon.size);if(void 0!==this.options.icon.code){e.font=(n?"bold ":"")+a+"px "+this.options.icon.face;e.fillStyle=this.options.icon.color||"black";e.textAlign="center";e.textBaseline="middle";this.enableShadow(e,s);e.fillText(this.options.icon.code,i,o);this.disableShadow(e,s)}else console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function t(e,i){return this._distanceToBorder(e,i)}}]);return e}(v(i(23))["default"]);e["default"]=m},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=v(i(3));var r;var s=v(i(0));var a;var h=v(i(1));var d;var l=v(i(4));var u;var c=v(i(5));var p;var f;function v(t){return t&&t.__esModule?t:{default:t}}var m=function(t){(0,c["default"])(e,t);function e(t,i,o,r,a){(0,s["default"])(this,e);var h=(0,l["default"])(this,(e.__proto__||(0,n["default"])(e)).call(this,t,i,o));h.setImages(r,a);return h}(0,h["default"])(e,[{key:"resize",value:function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected;var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;var n;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var r=2*this.options.size;this.width=r;this.height=r;return}this.needsRefresh(i,o)&&this._resizeImage()}},{key:"draw",value:function t(e,i,o,n,r,s){this.switchImages(n);this.resize();this.left=i-this.width/2;this.top=o-this.height/2;if(!0===this.options.shapeProperties.useBorderWithImage){var a=this.options.borderWidth;var h=this.options.borderWidthSelected||2*this.options.borderWidth;var d=(n?h:a)/this.body.view.scale;e.lineWidth=Math.min(this.width,d);e.beginPath();e.strokeStyle=n?this.options.color.highlight.border:r?this.options.color.hover.border:this.options.color.border;e.fillStyle=n?this.options.color.highlight.background:r?this.options.color.hover.background:this.options.color.background;e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth);e.fill();this.performStroke(e,s);e.closePath()}this._drawImageAtPosition(e,s);this._drawImageLabel(e,i,o,n,r);this.updateBoundingBox(i,o)}},{key:"updateBoundingBox",value:function t(e,i){this.resize();this._updateBoundingBox(e,i);if(void 0!==this.options.label&&this.labelModule.size.width>0){this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left);this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width);this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}}},{key:"distanceToBorder",value:function t(e,i){return this._distanceToBorder(e,i)}}]);return e}(v(i(73))["default"]);e["default"]=m},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=v(i(3));var r;var s=v(i(0));var a;var h=v(i(1));var d;var l=v(i(4));var u;var c=v(i(5));var p;var f;function v(t){return t&&t.__esModule?t:{default:t}}var m=function(t){(0,c["default"])(e,t);function e(t,i,o){(0,s["default"])(this,e);return(0,l["default"])(this,(e.__proto__||(0,n["default"])(e)).call(this,t,i,o))}(0,h["default"])(e,[{key:"draw",value:function t(e,i,o,n,r,s){this._drawShape(e,"square",2,i,o,n,r,s)}},{key:"distanceToBorder",value:function t(e,i){return this._distanceToBorder(e,i)}}]);return e}(v(i(24))["default"]);e["default"]=m},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=v(i(3));var r;var s=v(i(0));var a;var h=v(i(1));var d;var l=v(i(4));var u;var c=v(i(5));var p;var f;function v(t){return t&&t.__esModule?t:{default:t}}var m=function(t){(0,c["default"])(e,t);function e(t,i,o){(0,s["default"])(this,e);return(0,l["default"])(this,(e.__proto__||(0,n["default"])(e)).call(this,t,i,o))}(0,h["default"])(e,[{key:"draw",value:function t(e,i,o,n,r,s){this._drawShape(e,"hexagon",4,i,o,n,r,s)}},{key:"distanceToBorder",value:function t(e,i){return this._distanceToBorder(e,i)}}]);return e}(v(i(24))["default"]);e["default"]=m},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=v(i(3));var r;var s=v(i(0));var a;var h=v(i(1));var d;var l=v(i(4));var u;var c=v(i(5));var p;var f;function v(t){return t&&t.__esModule?t:{default:t}}var m=function(t){(0,c["default"])(e,t);function e(t,i,o){(0,s["default"])(this,e);return(0,l["default"])(this,(e.__proto__||(0,n["default"])(e)).call(this,t,i,o))}(0,h["default"])(e,[{key:"draw",value:function t(e,i,o,n,r,s){this._drawShape(e,"star",4,i,o,n,r,s)}},{key:"distanceToBorder",value:function t(e,i){return this._distanceToBorder(e,i)}}]);return e}(v(i(24))["default"]);e["default"]=m},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=v(i(3));var r;var s=v(i(0));var a;var h=v(i(1));var d;var l=v(i(4));var u;var c=v(i(5));var p;var f;function v(t){return t&&t.__esModule?t:{default:t}}var m=function(t){(0,c["default"])(e,t);function e(t,i,o){(0,s["default"])(this,e);var r=(0,l["default"])(this,(e.__proto__||(0,n["default"])(e)).call(this,t,i,o));r._setMargins(o);return r}(0,h["default"])(e,[{key:"resize",value:function t(e,i,o){if(this.needsRefresh(i,o)){this.textSize=this.labelModule.getTextSize(e,i,o);this.width=this.textSize.width+this.margin.right+this.margin.left;this.height=this.textSize.height+this.margin.top+this.margin.bottom;this.radius=.5*this.width}}},{key:"draw",value:function t(e,i,o,n,r,s){this.resize(e,n,r);this.left=i-this.width/2;this.top=o-this.height/2;this.enableShadow(e,s);this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,r);this.disableShadow(e,s);this.updateBoundingBox(i,o,e,n,r)}},{key:"distanceToBorder",value:function t(e,i){return this._distanceToBorder(e,i)}}]);return e}(v(i(23))["default"]);e["default"]=m},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=v(i(3));var r;var s=v(i(0));var a;var h=v(i(1));var d;var l=v(i(4));var u;var c=v(i(5));var p;var f;function v(t){return t&&t.__esModule?t:{default:t}}var m=function(t){(0,c["default"])(e,t);function e(t,i,o){(0,s["default"])(this,e);return(0,l["default"])(this,(e.__proto__||(0,n["default"])(e)).call(this,t,i,o))}(0,h["default"])(e,[{key:"draw",value:function t(e,i,o,n,r,s){this._drawShape(e,"triangle",3,i,o,n,r,s)}},{key:"distanceToBorder",value:function t(e,i){return this._distanceToBorder(e,i)}}]);return e}(v(i(24))["default"]);e["default"]=m},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=v(i(3));var r;var s=v(i(0));var a;var h=v(i(1));var d;var l=v(i(4));var u;var c=v(i(5));var p;var f;function v(t){return t&&t.__esModule?t:{default:t}}var m=function(t){(0,c["default"])(e,t);function e(t,i,o){(0,s["default"])(this,e);return(0,l["default"])(this,(e.__proto__||(0,n["default"])(e)).call(this,t,i,o))}(0,h["default"])(e,[{key:"draw",value:function t(e,i,o,n,r,s){this._drawShape(e,"triangleDown",3,i,o,n,r,s)}},{key:"distanceToBorder",value:function t(e,i){return this._distanceToBorder(e,i)}}]);return e}(v(i(24))["default"]);e["default"]=m},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=a(i(0));var r;var s=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var h=i(2);var d=i(11);var l=i(12);var u=i(74)["default"];var c=function(){function t(e,i,o){var r=this;(0,n["default"])(this,t);this.body=e;this.images=i;this.groups=o;this.body.functions.createEdge=this.create.bind(this);this.edgesListeners={add:function t(e,i){r.add(i.items)},update:function t(e,i){r.update(i.items)},remove:function t(e,i){r.remove(i.items)}};this.options={};this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function t(e,i,o,n){if(i===e)return.5;var r=1/(i-e);return Math.max(0,(n-e)*r)}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0};h.deepExtend(this.options,this.defaultOptions);this.bindEventListeners()}(0,s["default"])(t,[{key:"bindEventListeners",value:function t(){var e=this;this.body.emitter.on("_forceDisableDynamicCurves",function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===t&&(t="continuous");var o=!1;for(var n in e.body.edges)if(e.body.edges.hasOwnProperty(n)){var r=e.body.edges[n];var s=e.body.data.edges._data[n];if(void 0!==s){var a=s.smooth;if(void 0!==a&&!0===a.enabled&&"dynamic"===a.type){void 0===t?r.setOptions({smooth:!1}):r.setOptions({smooth:{type:t}});o=!0}}}!0===i&&!0===o&&e.body.emitter.emit("_dataChanged")});this.body.emitter.on("_dataUpdated",function(){e.reconnectEdges()});this.body.emitter.on("refreshEdges",this.refresh.bind(this));this.body.emitter.on("refresh",this.refresh.bind(this));this.body.emitter.on("destroy",function(){h.forEach(e.edgesListeners,function(t,i){e.body.data.edges&&e.body.data.edges.off(i,t)});delete e.body.functions.createEdge;delete e.edgesListeners.add;delete e.edgesListeners.update;delete e.edgesListeners.remove;delete e.edgesListeners})}},{key:"setOptions",value:function t(e){if(void 0!==e){u.parseOptions(this.options,e,!0,this.defaultOptions,!0);var i=!1;if(void 0!==e.smooth)for(var o in this.body.edges)this.body.edges.hasOwnProperty(o)&&(i=this.body.edges[o].updateEdgeType()||i);if(void 0!==e.font)for(var n in this.body.edges)this.body.edges.hasOwnProperty(n)&&this.body.edges[n].updateLabelModule();void 0===e.hidden&&void 0===e.physics&&!0!==i||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function t(e){var i=this;var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n=this.body.data.edges;if(e instanceof d||e instanceof l)this.body.data.edges=e;else if(Array.isArray(e)){this.body.data.edges=new d;this.body.data.edges.add(e)}else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.edges=new d}n&&h.forEach(this.edgesListeners,function(t,e){n.off(e,t)});this.body.edges={};if(this.body.data.edges){h.forEach(this.edgesListeners,function(t,e){i.body.data.edges.on(e,t)});var r=this.body.data.edges.getIds();this.add(r,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout");!1===o&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function t(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var o=this.body.edges;var n=this.body.data.edges;for(var r=0;r<e.length;r++){var s=e[r];var a=o[s];a&&a.disconnect();var h=n.get(s,{showInternalIds:!0});o[s]=this.create(h)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout");!1===i&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function t(e){var i=this.body.edges;var o=this.body.data.edges;var n=!1;for(var r=0;r<e.length;r++){var s=e[r];var a=o.get(s);var h=i[s];if(void 0!==h){h.disconnect();n=h.setOptions(a)||n;h.connect()}else{this.body.edges[s]=this.create(a);n=!0}}if(!0===n){this.body.emitter.emit("_adjustEdgesForHierarchicalLayout");this.body.emitter.emit("_dataChanged")}else this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function t(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0===e.length)return;var o=this.body.edges;h.forEach(e,function(t){var e=o[t];void 0!==e&&e.remove()});i&&this.body.emitter.emit("_dataChanged")}},{key:"refresh",value:function t(){var e=this;h.forEach(this.body.edges,function(t,i){var o=e.body.data.edges._data[i];void 0!==o&&t.setOptions(o)})}},{key:"create",value:function t(e){return new u(e,this.body,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function t(){var e;var i=this.body.nodes;var o=this.body.edges;for(e in i)i.hasOwnProperty(e)&&(i[e].edges=[]);for(e in o)if(o.hasOwnProperty(e)){var n=o[e];n.from=null;n.to=null;n.connect()}}},{key:"getConnectedNodes",value:function t(e){var i=[];if(void 0!==this.body.edges[e]){var o=this.body.edges[e];void 0!==o.fromId&&i.push(o.fromId);void 0!==o.toId&&i.push(o.toId)}return i}},{key:"_updateState",value:function t(){this._addMissingEdges();this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function t(){var e=this;var i=[];h.forEach(this.body.edges,function(t,o){var n=e.body.nodes[t.toId];var r=e.body.nodes[t.fromId];if(void 0!==n&&!0===n.isCluster||void 0!==r&&!0===r.isCluster)return;void 0!==n&&void 0!==r||i.push(o)});this.remove(i,!1)}},{key:"_addMissingEdges",value:function t(){var e=this.body.edges;var i;var o=[];this.body.data.edges.forEach(function(t,i){var n;void 0===e[i]&&o.push(i)});this.add(o,!0)}}]);return t}();e["default"]=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=g(i(30));var r;var s=g(i(3));var a;var h=g(i(0));var d;var l=g(i(1));var u;var c=g(i(4));var p;var f=g(i(5));var v;var m;function g(t){return t&&t.__esModule?t:{default:t}}var y=function(t){(0,f["default"])(e,t);function e(t,i,o){(0,h["default"])(this,e);return(0,c["default"])(this,(e.__proto__||(0,s["default"])(e)).call(this,t,i,o))}(0,l["default"])(e,[{key:"_line",value:function t(e,i,o){var n=o[0];var r=o[1];this._bezierCurve(e,i,n,r)}},{key:"_getViaCoordinates",value:function t(){var e=this.from.x-this.to.x;var i=this.from.y-this.to.y;var o=void 0,n=void 0,r=void 0,s=void 0;var a=this.options.smooth.roundness;if((Math.abs(e)>Math.abs(i)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection){n=this.from.y;s=this.to.y;o=this.from.x-a*e;r=this.to.x+a*e}else{n=this.from.y-a*i;s=this.to.y+a*i;o=this.from.x;r=this.to.x}return[{x:o,y:n},{x:r,y:s}]}},{key:"getViaNode",value:function t(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function t(e,i){return this._findBorderPositionBezier(e,i)}},{key:"_getDistanceToEdge",value:function t(e,i,o,r,s,a){var h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),d=(0,n["default"])(h,2),l=d[0],u=d[1];return this._getDistanceToBezierEdge(e,i,o,r,s,a,l,u)}},{key:"getPoint",value:function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),o=(0,n["default"])(i,2),r=o[0],s=o[1];var a=e;var h=[];h[0]=Math.pow(1-a,3);h[1]=3*a*Math.pow(1-a,2);h[2]=3*Math.pow(a,2)*(1-a);h[3]=Math.pow(a,3);var d;var l;return{x:h[0]*this.fromPoint.x+h[1]*r.x+h[2]*s.x+h[3]*this.toPoint.x,y:h[0]*this.fromPoint.y+h[1]*r.y+h[2]*s.y+h[3]*this.toPoint.y}}}]);return e}(g(i(216))["default"]);e["default"]=y},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=v(i(3));var r;var s=v(i(0));var a;var h=v(i(1));var d;var l=v(i(4));var u;var c=v(i(5));var p;var f;function v(t){return t&&t.__esModule?t:{default:t}}var m=function(t){(0,c["default"])(e,t);function e(t,i,o){(0,s["default"])(this,e);return(0,l["default"])(this,(e.__proto__||(0,n["default"])(e)).call(this,t,i,o))}(0,h["default"])(e,[{key:"_getDistanceToBezierEdge",value:function t(e,i,o,n,r,s,a,h){var d=1e9;var l=void 0;var u=void 0,c=void 0,p=void 0,f=void 0;var v=e;var m=i;var g=[0,0,0,0];for(u=1;u<10;u++){c=.1*u;g[0]=Math.pow(1-c,3);g[1]=3*c*Math.pow(1-c,2);g[2]=3*Math.pow(c,2)*(1-c);g[3]=Math.pow(c,3);p=g[0]*e+g[1]*a.x+g[2]*h.x+g[3]*o;f=g[0]*i+g[1]*a.y+g[2]*h.y+g[3]*n;u>0&&(d=(l=this._getDistanceToLine(v,m,p,f,r,s))<d?l:d);v=p;m=f}return d}}]);return e}(v(i(75))["default"]);e["default"]=m},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=g(i(30));var r;var s=g(i(3));var a;var h=g(i(0));var d;var l=g(i(1));var u;var c=g(i(4));var p;var f=g(i(5));var v;var m;function g(t){return t&&t.__esModule?t:{default:t}}var y=function(t){(0,f["default"])(e,t);function e(t,i,o){(0,h["default"])(this,e);var n=(0,c["default"])(this,(e.__proto__||(0,s["default"])(e)).call(this,t,i,o));n._boundFunction=function(){n.positionBezierNode()};n.body.emitter.on("_repositionBezierNodes",n._boundFunction);return n}(0,l["default"])(e,[{key:"setOptions",value:function t(e){var i=!1;this.options.physics!==e.physics&&(i=!0);this.options=e;this.id=this.options.id;this.from=this.body.nodes[this.options.from];this.to=this.body.nodes[this.options.to];this.setupSupportNode();this.connect();if(!0===i){this.via.setOptions({physics:this.options.physics});this.positionBezierNode()}}},{key:"connect",value:function t(){this.from=this.body.nodes[this.options.from];this.to=this.body.nodes[this.options.to];void 0===this.from||void 0===this.to||!1===this.options.physics?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function t(){this.body.emitter.off("_repositionBezierNodes",this._boundFunction);if(void 0!==this.via){delete this.body.nodes[this.via.id];this.via=void 0;return!0}return!1}},{key:"setupSupportNode",value:function t(){if(void 0===this.via){var e="edgeId:"+this.id;var i=this.body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this.body.nodes[e]=i;this.via=i;this.via.parentEdgeId=this.id;this.positionBezierNode()}}},{key:"positionBezierNode",value:function t(){if(void 0!==this.via&&void 0!==this.from&&void 0!==this.to){this.via.x=.5*(this.from.x+this.to.x);this.via.y=.5*(this.from.y+this.to.y)}else if(void 0!==this.via){this.via.x=0;this.via.y=0}}},{key:"_line",value:function t(e,i,o){this._bezierCurve(e,i,o)}},{key:"getViaNode",value:function t(){return this.via}},{key:"getPoint",value:function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via;var o=e;var r=void 0,s=void 0;if(this.from===this.to){var a=this._getCircleData(this.from),h=(0,n["default"])(a,3),d=h[0],l=h[1],u=h[2];var c=2*Math.PI*(1-o);r=d+u*Math.sin(c);s=l+u-u*(1-Math.cos(c))}else{r=Math.pow(1-o,2)*this.fromPoint.x+2*o*(1-o)*i.x+Math.pow(o,2)*this.toPoint.x;s=Math.pow(1-o,2)*this.fromPoint.y+2*o*(1-o)*i.y+Math.pow(o,2)*this.toPoint.y}return{x:r,y:s}}},{key:"_findBorderPosition",value:function t(e,i){return this._findBorderPositionBezier(e,i,this.via)}},{key:"_getDistanceToEdge",value:function t(e,i,o,n,r,s){return this._getDistanceToBezierEdge(e,i,o,n,r,s,this.via)}}]);return e}(g(i(75))["default"]);e["default"]=y},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=v(i(3));var r;var s=v(i(0));var a;var h=v(i(1));var d;var l=v(i(4));var u;var c=v(i(5));var p;var f;function v(t){return t&&t.__esModule?t:{default:t}}var m=function(t){(0,c["default"])(e,t);function e(t,i,o){(0,s["default"])(this,e);return(0,l["default"])(this,(e.__proto__||(0,n["default"])(e)).call(this,t,i,o))}(0,h["default"])(e,[{key:"_line",value:function t(e,i,o){this._bezierCurve(e,i,o)}},{key:"getViaNode",value:function t(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function t(){var e=void 0;var i=void 0;var o=this.options.smooth.roundness;var n=this.options.smooth.type;var r=Math.abs(this.from.x-this.to.x);var s=Math.abs(this.from.y-this.to.y);if("discrete"===n||"diagonalCross"===n){var a=void 0;var h=void 0;a=h=r<=s?o*s:o*r;this.from.x>this.to.x&&(a=-a);this.from.y>=this.to.y&&(h=-h);e=this.from.x+a;i=this.from.y+h;"discrete"===n&&(r<=s?e=r<o*s?this.from.x:e:i=s<o*r?this.from.y:i)}else if("straightCross"===n){var d=(1-o)*r;var l=(1-o)*s;if(r<=s){d=0;this.from.y<this.to.y&&(l=-l)}else{this.from.x<this.to.x&&(d=-d);l=0}e=this.to.x+d;i=this.to.y+l}else if("horizontal"===n){var u=(1-o)*r;this.from.x<this.to.x&&(u=-u);e=this.to.x+u;i=this.from.y}else if("vertical"===n){var c=(1-o)*s;this.from.y<this.to.y&&(c=-c);e=this.from.x;i=this.to.y+c}else if("curvedCW"===n){r=this.to.x-this.from.x;s=this.from.y-this.to.y;var p=Math.sqrt(r*r+s*s);var f=Math.PI;var v;var m=(Math.atan2(s,r)+(.5*o+.5)*f)%(2*f);e=this.from.x+(.5*o+.5)*p*Math.sin(m);i=this.from.y+(.5*o+.5)*p*Math.cos(m)}else if("curvedCCW"===n){r=this.to.x-this.from.x;s=this.from.y-this.to.y;var g=Math.sqrt(r*r+s*s);var y=Math.PI;var b;var _=(Math.atan2(s,r)+(.5*-o+.5)*y)%(2*y);e=this.from.x+(.5*o+.5)*g*Math.sin(_);i=this.from.y+(.5*o+.5)*g*Math.cos(_)}else{var w=void 0;var x=void 0;w=x=r<=s?o*s:o*r;this.from.x>this.to.x&&(w=-w);this.from.y>=this.to.y&&(x=-x);e=this.from.x+w;i=this.from.y+x;r<=s?e=this.from.x<=this.to.x?this.to.x<e?this.to.x:e:this.to.x>e?this.to.x:e:i=this.from.y>=this.to.y?this.to.y>i?this.to.y:i:this.to.y<i?this.to.y:i}return{x:e,y:i}}},{key:"_findBorderPosition",value:function t(e,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(e,i,o.via)}},{key:"_getDistanceToEdge",value:function t(e,i,o,n,r,s){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,i,o,n,r,s,a)}},{key:"getPoint",value:function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates();var o=e;var n;var r;return{x:Math.pow(1-o,2)*this.fromPoint.x+2*o*(1-o)*i.x+Math.pow(o,2)*this.toPoint.x,y:Math.pow(1-o,2)*this.fromPoint.y+2*o*(1-o)*i.y+Math.pow(o,2)*this.toPoint.y}}}]);return e}(v(i(75))["default"]);e["default"]=m},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=v(i(3));var r;var s=v(i(0));var a;var h=v(i(1));var d;var l=v(i(4));var u;var c=v(i(5));var p;var f;function v(t){return t&&t.__esModule?t:{default:t}}var m=function(t){(0,c["default"])(e,t);function e(t,i,o){(0,s["default"])(this,e);return(0,l["default"])(this,(e.__proto__||(0,n["default"])(e)).call(this,t,i,o))}(0,h["default"])(e,[{key:"_line",value:function t(e,i){e.beginPath();e.moveTo(this.fromPoint.x,this.fromPoint.y);e.lineTo(this.toPoint.x,this.toPoint.y);this.enableShadow(e,i);e.stroke();this.disableShadow(e,i)}},{key:"getViaNode",value:function t(){return}},{key:"getPoint",value:function t(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}},{key:"_findBorderPosition",value:function t(e,i){var o=this.to;var n=this.from;if(e.id===this.from.id){o=this.from;n=this.to}var r=Math.atan2(o.y-n.y,o.x-n.x);var s=o.x-n.x;var a=o.y-n.y;var h=Math.sqrt(s*s+a*a);var d;var l=(h-e.distanceToBorder(i,r))/h;var u={};u.x=(1-l)*n.x+l*o.x;u.y=(1-l)*n.y+l*o.y;return u}},{key:"_getDistanceToEdge",value:function t(e,i,o,n,r,s){return this._getDistanceToLine(e,i,o,n,r,s)}}]);return e}(v(i(118))["default"]);e["default"]=m},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=d(i(8));var r;var s=d(i(0));var a;var h=d(i(1));function d(t){return t&&t.__esModule?t:{default:t}}var l=i(120)["default"];var u=i(221)["default"];var c=i(222)["default"];var p=i(223)["default"];var f=i(224)["default"];var v=i(121)["default"];var m=i(225)["default"];var g=i(226)["default"];var y=i(2);var b=i(119)["default"];var _=function(){function t(e){(0,s["default"])(this,t);this.body=e;this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}};this.physicsEnabled=!0;this.simulationInterval=1e3/60;this.requiresTimeout=!0;this.previousStates={};this.referenceState={};this.freezeCache={};this.renderTimer=void 0;this.adaptiveTimestep=!1;this.adaptiveTimestepEnabled=!1;this.adaptiveCounter=0;this.adaptiveInterval=3;this.stabilized=!1;this.startedStabilization=!1;this.stabilizationIterations=0;this.ready=!1;this.options={};this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0};y.extend(this.options,this.defaultOptions);this.timestep=.5;this.layoutFailed=!1;this.bindEventListeners()}(0,h["default"])(t,[{key:"bindEventListeners",value:function t(){var e=this;this.body.emitter.on("initPhysics",function(){e.initPhysics()});this.body.emitter.on("_layoutFailed",function(){e.layoutFailed=!0});this.body.emitter.on("resetPhysics",function(){e.stopSimulation();e.ready=!1});this.body.emitter.on("disablePhysics",function(){e.physicsEnabled=!1;e.stopSimulation()});this.body.emitter.on("restorePhysics",function(){e.setOptions(e.options);!0===e.ready&&e.startSimulation()});this.body.emitter.on("startSimulation",function(){!0===e.ready&&e.startSimulation()});this.body.emitter.on("stopSimulation",function(){e.stopSimulation()});this.body.emitter.on("destroy",function(){e.stopSimulation(!1);e.body.emitter.off()});this.body.emitter.on("_dataChanged",function(){e.updatePhysicsData()})}},{key:"setOptions",value:function t(e){if(void 0!==e)if(!1===e){this.options.enabled=!1;this.physicsEnabled=!1;this.stopSimulation()}else if(!0===e){this.options.enabled=!0;this.physicsEnabled=!0;this.startSimulation()}else{this.physicsEnabled=!0;y.selectiveNotDeepExtend(["stabilization"],this.options,e);y.mergeOptions(this.options,e,"stabilization");void 0===e.enabled&&(this.options.enabled=!0);if(!1===this.options.enabled){this.physicsEnabled=!1;this.stopSimulation()}this.timestep=this.options.timestep}this.init()}},{key:"init",value:function t(){var e;if("forceAtlas2Based"===this.options.solver){e=this.options.forceAtlas2Based;this.nodesSolver=new m(this.body,this.physicsBody,e);this.edgesSolver=new p(this.body,this.physicsBody,e);this.gravitySolver=new g(this.body,this.physicsBody,e)}else if("repulsion"===this.options.solver){e=this.options.repulsion;this.nodesSolver=new u(this.body,this.physicsBody,e);this.edgesSolver=new p(this.body,this.physicsBody,e);this.gravitySolver=new v(this.body,this.physicsBody,e)}else if("hierarchicalRepulsion"===this.options.solver){e=this.options.hierarchicalRepulsion;this.nodesSolver=new c(this.body,this.physicsBody,e);this.edgesSolver=new f(this.body,this.physicsBody,e);this.gravitySolver=new v(this.body,this.physicsBody,e)}else{e=this.options.barnesHut;this.nodesSolver=new l(this.body,this.physicsBody,e);this.edgesSolver=new p(this.body,this.physicsBody,e);this.gravitySolver=new v(this.body,this.physicsBody,e)}this.modelOptions=e}},{key:"initPhysics",value:function t(){if(!0===this.physicsEnabled&&!0===this.options.enabled)if(!0===this.options.stabilization.enabled)this.stabilize();else{this.stabilized=!1;this.ready=!0;this.body.emitter.emit("fit",{},this.layoutFailed);this.startSimulation()}else{this.ready=!0;this.body.emitter.emit("fit")}}},{key:"startSimulation",value:function t(){if(!0===this.physicsEnabled&&!0===this.options.enabled){this.stabilized=!1;this.adaptiveTimestep=!1;this.body.emitter.emit("_resizeNodes");if(void 0===this.viewFunction){this.viewFunction=this.simulationStep.bind(this);this.body.emitter.on("initRedraw",this.viewFunction);this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function t(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0;!0===e&&this._emitStabilized();if(void 0!==this.viewFunction){this.body.emitter.off("initRedraw",this.viewFunction);this.viewFunction=void 0;!0===e&&this.body.emitter.emit("_stopRendering")}}},{key:"simulationStep",value:function t(){var e=Date.now();this.physicsTick();var i;if((Date.now()-e<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized){this.physicsTick();this.runDoubleSpeed=!0}!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function t(){var e=this;var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&setTimeout(function(){e.body.emitter.emit("stabilized",{iterations:i});e.startedStabilization=!1;e.stabilizationIterations=0},0)}},{key:"physicsStep",value:function t(){this.gravitySolver.solve();this.nodesSolver.solve();this.edgesSolver.solve();this.moveNodes()}},{key:"adjustTimeStep",value:function t(){var e=1.2;if(!0===this._evaluateStepQuality())this.timestep=1.2*this.timestep;else if(this.timestep/1.2<this.options.timestep)this.timestep=this.options.timestep;else{this.adaptiveCounter=-1;this.timestep=Math.max(this.options.timestep,this.timestep/1.2)}}},{key:"physicsTick",value:function t(){this._startStabilizing();if(!0===this.stabilized)return;if(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled){var e;if(this.adaptiveCounter%this.adaptiveInterval==0){this.timestep=2*this.timestep;this.physicsStep();this.revert();this.timestep=.5*this.timestep;this.physicsStep();this.physicsStep();this.adjustTimeStep()}else this.physicsStep();this.adaptiveCounter+=1}else{this.timestep=this.options.timestep;this.physicsStep()}!0===this.stabilized&&this.revert();this.stabilizationIterations++}},{key:"updatePhysicsData",value:function t(){this.physicsBody.forces={};this.physicsBody.physicsNodeIndices=[];this.physicsBody.physicsEdgeIndices=[];var e=this.body.nodes;var i=this.body.edges;for(var o in e)e.hasOwnProperty(o)&&!0===e[o].options.physics&&this.physicsBody.physicsNodeIndices.push(e[o].id);for(var n in i)i.hasOwnProperty(n)&&!0===i[n].options.physics&&this.physicsBody.physicsEdgeIndices.push(i[n].id);for(var r=0;r<this.physicsBody.physicsNodeIndices.length;r++){var s=this.physicsBody.physicsNodeIndices[r];this.physicsBody.forces[s]={x:0,y:0};void 0===this.physicsBody.velocities[s]&&(this.physicsBody.velocities[s]={x:0,y:0})}for(var a in this.physicsBody.velocities)void 0===e[a]&&delete this.physicsBody.velocities[a]}},{key:"revert",value:function t(){var e=(0,n["default"])(this.previousStates);var i=this.body.nodes;var o=this.physicsBody.velocities;this.referenceState={};for(var r=0;r<e.length;r++){var s=e[r];if(void 0!==i[s]){if(!0===i[s].options.physics){this.referenceState[s]={positions:{x:i[s].x,y:i[s].y}};o[s].x=this.previousStates[s].vx;o[s].y=this.previousStates[s].vy;i[s].x=this.previousStates[s].x;i[s].y=this.previousStates[s].y}}else delete this.previousStates[s]}}},{key:"_evaluateStepQuality",value:function t(){var e=void 0,i=void 0,o=void 0;var n=this.body.nodes;var r=this.referenceState;var s=.3;for(var a in this.referenceState)if(this.referenceState.hasOwnProperty(a)&&void 0!==n[a]){e=n[a].x-r[a].positions.x;i=n[a].y-r[a].positions.y;if((o=Math.sqrt(Math.pow(e,2)+Math.pow(i,2)))>.3)return!1}return!0}},{key:"moveNodes",value:function t(){var e=this.physicsBody.physicsNodeIndices;var i=0;var o=0;var n=5;for(var r=0;r<e.length;r++){var s=e[r];var a=this._performStep(s);i=Math.max(i,a);o+=a}this.adaptiveTimestepEnabled=o/e.length<5;this.stabilized=i<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function t(e,i,o){var n;var r;e+=(i-this.modelOptions.damping*e)/o*this.timestep;var s=this.options.maxVelocity||1e9;Math.abs(e)>s&&(e=e>0?s:-s);return e}},{key:"_performStep",value:function t(e){var i=this.body.nodes[e];var o=this.physicsBody.forces[e];var n=this.physicsBody.velocities[e];this.previousStates[e]={x:i.x,y:i.y,vx:n.x,vy:n.y};if(!1===i.options.fixed.x){n.x=this.calculateComponentVelocity(n.x,o.x,i.options.mass);i.x+=n.x*this.timestep}else{o.x=0;n.x=0}if(!1===i.options.fixed.y){n.y=this.calculateComponentVelocity(n.y,o.y,i.options.mass);i.y+=n.y*this.timestep}else{o.y=0;n.y=0}var r;return Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}},{key:"_freezeNodes",value:function t(){var e=this.body.nodes;for(var i in e)if(e.hasOwnProperty(i)&&e[i].x&&e[i].y){var o=e[i].options.fixed;this.freezeCache[i]={x:o.x,y:o.y};o.x=!0;o.y=!0}}},{key:"_restoreFrozenNodes",value:function t(){var e=this.body.nodes;for(var i in e)if(e.hasOwnProperty(i)&&void 0!==this.freezeCache[i]){e[i].options.fixed.x=this.freezeCache[i].x;e[i].options.fixed.y=this.freezeCache[i].y}this.freezeCache={}}},{key:"stabilize",value:function t(){var e=this;var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;if("number"!=typeof i){i=this.options.stabilization.iterations;console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",i)}if(0===this.physicsBody.physicsNodeIndices.length){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep;this.body.emitter.emit("_resizeNodes");this.stopSimulation();this.stabilized=!1;this.body.emitter.emit("_blockRedraw");this.targetIterations=i;!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes();this.stabilizationIterations=0;setTimeout(function(){return e._stabilizationBatch()},0)}},{key:"_startStabilizing",value:function t(){if(!0===this.startedStabilization)return!1;this.body.emitter.emit("startStabilizing");this.startedStabilization=!0;return!0}},{key:"_stabilizationBatch",value:function t(){var e=this;var i=function t(){return!1===e.stabilized&&e.stabilizationIterations<e.targetIterations};var o=function t(){e.body.emitter.emit("stabilizationProgress",{iterations:e.stabilizationIterations,total:e.targetIterations})};this._startStabilizing()&&o();var n=0;for(;i()&&n<this.options.stabilization.updateInterval;){this.physicsTick();n++}o();i()?setTimeout(this._stabilizationBatch.bind(this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function t(){this.body.emitter.emit("_allowRedraw");!0===this.options.stabilization.fit&&this.body.emitter.emit("fit");!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes();this.body.emitter.emit("stabilizationIterationsDone");this.body.emitter.emit("_requestRedraw");!0===this.stabilized?this._emitStabilized():this.startSimulation();this.ready=!0}},{key:"_drawForces",value:function t(e){for(var i=0;i<this.physicsBody.physicsNodeIndices.length;i++){var o=this.physicsBody.physicsNodeIndices[i];var n=this.body.nodes[o];var r=this.physicsBody.forces[o];var s=20;var a=.03;var h=Math.sqrt(Math.pow(r.x,2)+Math.pow(r.x,2));var d=Math.min(Math.max(5,h),15);var l=3*d;var u=y.HSVToHex((180-180*Math.min(1,Math.max(0,.03*h)))/360,1,1);var c={x:n.x+20*r.x,y:n.y+20*r.y};e.lineWidth=d;e.strokeStyle=u;e.beginPath();e.moveTo(n.x,n.y);e.lineTo(c.x,c.y);e.stroke();var p=Math.atan2(r.y,r.x);e.fillStyle=u;b.draw(e,{type:"arrow",point:c,angle:p,length:l});e.fill()}}}]);return t}();e["default"]=_},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=a(i(0));var r;var s=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(e,i,o){(0,n["default"])(this,t);this.body=e;this.physicsBody=i;this.setOptions(o)}(0,s["default"])(t,[{key:"setOptions",value:function t(e){this.options=e}},{key:"solve",value:function t(){var e,i,o,n,r,s,a,h;var d=this.body.nodes;var l=this.physicsBody.physicsNodeIndices;var u=this.physicsBody.forces;var c=this.options.nodeDistance;var p=-2/3/c;var f=4/3;for(var v=0;v<l.length-1;v++){a=d[l[v]];for(var m=v+1;m<l.length;m++){e=(h=d[l[m]]).x-a.x;i=h.y-a.y;0===(o=Math.sqrt(e*e+i*i))&&(e=o=.1*Math.random());if(o<2*c){s=o<.5*c?1:p*o+f;n=e*(s/=o);r=i*s;u[a.id].x-=n;u[a.id].y-=r;u[h.id].x+=n;u[h.id].y+=r}}}}}]);return t}();e["default"]=h},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=a(i(0));var r;var s=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(e,i,o){(0,n["default"])(this,t);this.body=e;this.physicsBody=i;this.setOptions(o)}(0,s["default"])(t,[{key:"setOptions",value:function t(e){this.options=e}},{key:"solve",value:function t(){var e,i,o,n,r,s,a,h,d,l;var u=this.body.nodes;var c=this.physicsBody.physicsNodeIndices;var p=this.physicsBody.forces;var f=this.options.nodeDistance;for(d=0;d<c.length-1;d++){a=u[c[d]];for(l=d+1;l<c.length;l++){h=u[c[l]];if(a.level===h.level){e=h.x-a.x;i=h.y-a.y;var v=.05;s=(o=Math.sqrt(e*e+i*i))<f?-Math.pow(.05*o,2)+Math.pow(.05*f,2):0;0===o?o=.01:s/=o;n=e*s;r=i*s;p[a.id].x-=n;p[a.id].y-=r;p[h.id].x+=n;p[h.id].y+=r}}}}}]);return t}();e["default"]=h},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=a(i(0));var r;var s=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(e,i,o){(0,n["default"])(this,t);this.body=e;this.physicsBody=i;this.setOptions(o)}(0,s["default"])(t,[{key:"setOptions",value:function t(e){this.options=e}},{key:"solve",value:function t(){var e=void 0,i=void 0;var o=this.physicsBody.physicsEdgeIndices;var n=this.body.edges;var r=void 0,s=void 0,a=void 0;for(var h=0;h<o.length;h++)if(!0===(i=n[o[h]]).connected&&i.toId!==i.fromId&&void 0!==this.body.nodes[i.toId]&&void 0!==this.body.nodes[i.fromId])if(void 0!==i.edgeType.via){e=void 0===i.options.length?this.options.springLength:i.options.length;r=i.to;s=i.edgeType.via;a=i.from;this._calculateSpringForce(r,s,.5*e);this._calculateSpringForce(s,a,.5*e)}else{e=void 0===i.options.length?1.5*this.options.springLength:i.options.length;this._calculateSpringForce(i.from,i.to,e)}}},{key:"_calculateSpringForce",value:function t(e,i,o){var n=e.x-i.x;var r=e.y-i.y;var s=Math.max(Math.sqrt(n*n+r*r),.01);var a=this.options.springConstant*(o-s)/s;var h=n*a;var d=r*a;if(void 0!==this.physicsBody.forces[e.id]){this.physicsBody.forces[e.id].x+=h;this.physicsBody.forces[e.id].y+=d}if(void 0!==this.physicsBody.forces[i.id]){this.physicsBody.forces[i.id].x-=h;this.physicsBody.forces[i.id].y-=d}}}]);return t}();e["default"]=h},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=a(i(0));var r;var s=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(e,i,o){(0,n["default"])(this,t);this.body=e;this.physicsBody=i;this.setOptions(o)}(0,s["default"])(t,[{key:"setOptions",value:function t(e){this.options=e}},{key:"solve",value:function t(){var e,i;var o,n,r,s,a,h;var d=this.body.edges;var l=.5;var u=this.physicsBody.physicsEdgeIndices;var c=this.physicsBody.physicsNodeIndices;var p=this.physicsBody.forces;for(var f=0;f<c.length;f++){var v=c[f];p[v].springFx=0;p[v].springFy=0}for(var m=0;m<u.length;m++)if(!0===(i=d[u[m]]).connected){e=void 0===i.options.length?this.options.springLength:i.options.length;o=i.from.x-i.to.x;n=i.from.y-i.to.y;h=0===(h=Math.sqrt(o*o+n*n))?.01:h;r=o*(a=this.options.springConstant*(e-h)/h);s=n*a;if(i.to.level!=i.from.level){if(void 0!==p[i.toId]){p[i.toId].springFx-=r;p[i.toId].springFy-=s}if(void 0!==p[i.fromId]){p[i.fromId].springFx+=r;p[i.fromId].springFy+=s}}else{if(void 0!==p[i.toId]){p[i.toId].x-=.5*r;p[i.toId].y-=.5*s}if(void 0!==p[i.fromId]){p[i.fromId].x+=.5*r;p[i.fromId].y+=.5*s}}}a=1;var g,y;for(var b=0;b<c.length;b++){var _=c[b];g=Math.min(a,Math.max(-a,p[_].springFx));y=Math.min(a,Math.max(-a,p[_].springFy));p[_].x+=g;p[_].y+=y}var w=0;var x=0;for(var k=0;k<c.length;k++){var S=c[k];w+=p[S].x;x+=p[S].y}var D=w/c.length;var O=x/c.length;for(var M=0;M<c.length;M++){var C=c[M];p[C].x-=D;p[C].y-=O}}}]);return t}();e["default"]=h},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=v(i(3));var r;var s=v(i(0));var a;var h=v(i(1));var d;var l=v(i(4));var u;var c=v(i(5));var p;var f;function v(t){return t&&t.__esModule?t:{default:t}}var m=function(t){(0,c["default"])(e,t);function e(t,i,o){(0,s["default"])(this,e);return(0,l["default"])(this,(e.__proto__||(0,n["default"])(e)).call(this,t,i,o))}(0,h["default"])(e,[{key:"_calculateForces",value:function t(e,i,o,n,r){0===e&&(i=e=.1*Math.random());this.overlapAvoidanceFactor<1&&n.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));var s=n.edges.length+1;var a=this.options.gravitationalConstant*r.mass*n.options.mass*s/Math.pow(e,2);var h=i*a;var d=o*a;this.physicsBody.forces[n.id].x+=h;this.physicsBody.forces[n.id].y+=d}}]);return e}(v(i(120))["default"]);e["default"]=m},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=v(i(3));var r;var s=v(i(0));var a;var h=v(i(1));var d;var l=v(i(4));var u;var c=v(i(5));var p;var f;function v(t){return t&&t.__esModule?t:{default:t}}var m=function(t){(0,c["default"])(e,t);function e(t,i,o){(0,s["default"])(this,e);return(0,l["default"])(this,(e.__proto__||(0,n["default"])(e)).call(this,t,i,o))}(0,h["default"])(e,[{key:"_calculateForces",value:function t(e,i,o,n,r){if(e>0){var s=r.edges.length+1;var a=this.options.centralGravity*s*r.options.mass;n[r.id].x=i*a;n[r.id].y=o*a}}}]);return e}(v(i(121))["default"]);e["default"]=m},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=u(i(8));var r;var s=u(i(6));var a;var h=u(i(0));var d;var l=u(i(1));function u(t){return t&&t.__esModule?t:{default:t}}var c=i(2);var p=i(76)["default"];var f=i(228)["default"];var v=i(74)["default"];var m=i(47)["default"];var g=function(){function t(e){var i=this;(0,h["default"])(this,t);this.body=e;this.clusteredNodes={};this.clusteredEdges={};this.options={};this.defaultOptions={};c.extend(this.options,this.defaultOptions);this.body.emitter.on("_resetData",function(){i.clusteredNodes={};i.clusteredEdges={}})}(0,l["default"])(t,[{key:"clusterByHubsize",value:function t(e,i){if(void 0===e)e=this._getHubSize();else if("object"===(void 0===e?"undefined":(0,s["default"])(e))){i=this._checkOptions(e);e=this._getHubSize()}var o=[];for(var n=0;n<this.body.nodeIndices.length;n++){var r=this.body.nodes[this.body.nodeIndices[n]];r.edges.length>=e&&o.push(r.id)}for(var a=0;a<o.length;a++)this.clusterByConnection(o[a],i,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function t(){var e=this;var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===i.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");i=this._checkOptions(i);var n={};var r={};c.forEach(this.body.nodes,function(t,o){var s=p.cloneOptions(t);if(!0===i.joinCondition(s)){n[o]=t;c.forEach(t.edges,function(t){void 0===e.clusteredEdges[t.id]&&(r[t.id]=t)})}});this._cluster(n,r,i,o)}},{key:"clusterByEdgeCount",value:function t(e,i){var o=this;var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];i=this._checkOptions(i);var s=[];var a={};var h=void 0,d=void 0,l=void 0;var u=function t(r){var u={};var c={};var g=o.body.nodeIndices[r];var y=o.body.nodes[g];if(void 0===a[g]){l=0;d=[];for(var b=0;b<y.edges.length;b++){h=y.edges[b];if(void 0===o.clusteredEdges[h.id]){h.toId!==h.fromId&&l++;d.push(h)}}if(l===e){f=function t(e){if(void 0===i.joinCondition||null===i.joinCondition)return!0;var o=p.cloneOptions(e);return i.joinCondition(o)};var _=!0;for(var w=0;w<d.length;w++){h=d[w];var x=o._getConnectedId(h,g);if(!f(y)){_=!1;break}c[h.id]=h;u[g]=y;u[x]=o.body.nodes[x];a[g]=!0}if((0,n["default"])(u).length>0&&(0,n["default"])(c).length>0&&!0===_)if(void 0!==(m=(v=function t(){for(var e=0;e<s.length;++e)for(var i in u)if(void 0!==s[e].nodes[i])return s[e];return})())){for(var k in u)void 0===m.nodes[k]&&(m.nodes[k]=u[k]);for(var S in c)void 0===m.edges[S]&&(m.edges[S]=c[S])}else s.push({nodes:u,edges:c})}}};for(var c=0;c<this.body.nodeIndices.length;c++){var f;var v;var m;u(c)}for(var c=0;c<s.length;c++)this._cluster(s[c].nodes,s[c].edges,i,!1);!0===r&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function t(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,e,i)}},{key:"clusterBridges",value:function t(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,e,i)}},{key:"clusterByConnection",value:function t(e,i){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[e])throw new Error("The nodeId given to clusterByConnection does not exist!");var r=this.body.nodes[e];void 0===(i=this._checkOptions(i,r)).clusterNodeProperties.x&&(i.clusterNodeProperties.x=r.x);void 0===i.clusterNodeProperties.y&&(i.clusterNodeProperties.y=r.y);if(void 0===i.clusterNodeProperties.fixed){i.clusterNodeProperties.fixed={};i.clusterNodeProperties.fixed.x=r.options.fixed.x;i.clusterNodeProperties.fixed.y=r.options.fixed.y}var s={};var a={};var h=r.id;var d=p.cloneOptions(r);s[h]=r;for(var l=0;l<r.edges.length;l++){var u=r.edges[l];if(void 0===this.clusteredEdges[u.id]){var c=this._getConnectedId(u,h);if(void 0===this.clusteredNodes[c])if(c!==h)if(void 0===i.joinCondition){a[u.id]=u;s[c]=this.body.nodes[c]}else{var f=p.cloneOptions(this.body.nodes[c]);if(!0===i.joinCondition(d,f)){a[u.id]=u;s[c]=this.body.nodes[c]}}else a[u.id]=u}}var v=(0,n["default"])(s).map(function(t){return s[t].id});for(m in s){if(!s.hasOwnProperty(m))continue;var m=s[m];for(var g=0;g<m.edges.length;g++){var y=m.edges[g];v.indexOf(this._getConnectedId(y,m.id))>-1&&(a[y.id]=y)}}this._cluster(s,a,i,o)}},{key:"_createClusterEdges",value:function t(e,i,o,r){var s=void 0,a=void 0,h=void 0,d=void 0,l=void 0,u=void 0;var c=(0,n["default"])(e);var p=[];for(var f=0;f<c.length;f++){h=e[a=c[f]];for(var v=0;v<h.edges.length;v++){s=h.edges[v];if(void 0===this.clusteredEdges[s.id]){if(s.toId==s.fromId)i[s.id]=s;else if(s.toId==a){d=o.id;u=l=s.fromId}else{d=s.toId;l=o.id;u=d}void 0===e[u]&&p.push({edge:s,fromId:l,toId:d})}}}var m=[];var g=function t(e){for(var i=0;i<m.length;i++){var o=m[i];var n=e.fromId===o.fromId&&e.toId===o.toId;var r=e.fromId===o.toId&&e.toId===o.fromId;if(n||r)return o}return null};for(var y=0;y<p.length;y++){var b=p[y];var _=b.edge;var w=g(b);if(null===w){w=this._createClusteredEdge(b.fromId,b.toId,_,r);m.push(w)}else w.clusteringEdgeReplacingIds.push(_.id);this.body.edges[_.id].edgeReplacedById=w.id;this._backupEdgeOptions(_);_.setOptions({physics:!1})}}},{key:"_checkOptions",value:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};void 0===e.clusterEdgeProperties&&(e.clusterEdgeProperties={});void 0===e.clusterNodeProperties&&(e.clusterNodeProperties={});return e}},{key:"_cluster",value:function t(e,i,o){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];var s=[];for(var a in e)e.hasOwnProperty(a)&&void 0!==this.clusteredNodes[a]&&s.push(a);for(var h=0;h<s.length;++h)delete e[s[h]];if(0==(0,n["default"])(e).length)return;if(1==(0,n["default"])(e).length&&1!=o.clusterNodeProperties.allowSingleNodeCluster)return;var d=c.deepExtend({},o.clusterNodeProperties);if(void 0!==o.processProperties){var l=[];for(var u in e)if(e.hasOwnProperty(u)){var v=p.cloneOptions(e[u]);l.push(v)}var m=[];for(var g in i)if(i.hasOwnProperty(g)&&"clusterEdge:"!==g.substr(0,12)){var y=p.cloneOptions(i[g],"edge");m.push(y)}if(!(d=o.processProperties(d,l,m)))throw new Error("The processProperties function does not return properties!")}void 0===d.id&&(d.id="cluster:"+c.randomUUID());var b=d.id;void 0===d.label&&(d.label="cluster");var _=void 0;if(void 0===d.x){_=this._getClusterPosition(e);d.x=_.x}if(void 0===d.y){void 0===_&&(_=this._getClusterPosition(e));d.y=_.y}d.id=b;var w=this.body.functions.createNode(d,f);w.containedNodes=e;w.containedEdges=i;w.clusterEdgeProperties=o.clusterEdgeProperties;this.body.nodes[d.id]=w;this._clusterEdges(e,i,d,o.clusterEdgeProperties);d.id=void 0;!0===r&&this.body.emitter.emit("_dataChanged")}},{key:"_backupEdgeOptions",value:function t(e){void 0===this.clusteredEdges[e.id]&&(this.clusteredEdges[e.id]={physics:e.options.physics})}},{key:"_restoreEdge",value:function t(e){var i=this.clusteredEdges[e.id];if(void 0!==i){e.setOptions({physics:i.physics});delete this.clusteredEdges[e.id]}}},{key:"isCluster",value:function t(e){if(void 0!==this.body.nodes[e])return!0===this.body.nodes[e].isCluster;console.log("Node does not exist.");return!1}},{key:"_getClusterPosition",value:function t(e){var i=(0,n["default"])(e);var o=e[i[0]].x;var r=e[i[0]].x;var s=e[i[0]].y;var a=e[i[0]].y;var h=void 0;for(var d=1;d<i.length;d++){o=(h=e[i[d]]).x<o?h.x:o;r=h.x>r?h.x:r;s=h.y<s?h.y:s;a=h.y>a?h.y:a}return{x:.5*(o+r),y:.5*(s+a)}}},{key:"openCluster",value:function t(e,i){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new Error("No clusterNodeId supplied to openCluster.");var n=this.body.nodes[e];if(void 0===n)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==n.isCluster||void 0===n.containedNodes||void 0===n.containedEdges)throw new Error("The node:"+e+" is not a valid cluster.");var r=this.findNode(e);var s=r.indexOf(e)-1;if(s>=0){var a=r[s];var h;this.body.nodes[a]._openChildCluster(e);delete this.body.nodes[e];!0===o&&this.body.emitter.emit("_dataChanged");return}var d=n.containedNodes;var l=n.containedEdges;if(void 0!==i&&void 0!==i.releaseFunction&&"function"==typeof i.releaseFunction){var u={};var p={x:n.x,y:n.y};for(var f in d)if(d.hasOwnProperty(f)){var v=this.body.nodes[f];u[f]={x:v.x,y:v.y}}var m=i.releaseFunction(p,u);for(var g in d)if(d.hasOwnProperty(g)){var y=this.body.nodes[g];if(void 0!==m[g]){y.x=void 0===m[g].x?n.x:m[g].x;y.y=void 0===m[g].y?n.y:m[g].y}}}else c.forEach(d,function(t){!1===t.options.fixed.x&&(t.x=n.x);!1===t.options.fixed.y&&(t.y=n.y)});for(var b in d)if(d.hasOwnProperty(b)){var _=this.body.nodes[b];_.vx=n.vx;_.vy=n.vy;_.setOptions({physics:!0});delete this.clusteredNodes[b]}var w=[];for(var x=0;x<n.edges.length;x++)w.push(n.edges[x]);for(var k=0;k<w.length;k++){var S=w[k];var D=this._getConnectedId(S,e);var O=this.clusteredNodes[D];for(var M=0;M<S.clusteringEdgeReplacingIds.length;M++){var C=S.clusteringEdgeReplacingIds[M];var E=this.body.edges[C];if(void 0===E)continue;if(void 0!==O){var T=this.body.nodes[O.clusterId];T.containedEdges[E.id]=E;delete l[E.id];var P=E.fromId;var I=E.toId;E.toId==D?I=O.clusterId:P=O.clusterId;this._createClusteredEdge(P,I,E,T.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(E)}S.remove()}for(var N in l)l.hasOwnProperty(N)&&this._restoreEdge(l[N]);delete this.body.nodes[e];!0===o&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function t(e){var i=[];if(!0===this.isCluster(e)){var o=this.body.nodes[e].containedNodes;for(var n in o)o.hasOwnProperty(n)&&i.push(this.body.nodes[n].id)}return i}},{key:"findNode",value:function t(e){var i=[];var o=100;var n=0;var r=void 0;for(;void 0!==this.clusteredNodes[e]&&n<100;){if(void 0===(r=this.body.nodes[e]))return[];i.push(r.id);e=this.clusteredNodes[e].clusterId;n++}if(void 0===(r=this.body.nodes[e]))return[];i.push(r.id);i.reverse();return i}},{key:"updateClusteredNode",value:function t(e,i){if(void 0===e)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===i)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[e])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(i);this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function t(e,i){if(void 0===e)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===i)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[e])throw new Error("The startEdgeId supplied to updateEdge does not exist.");var o=this.getClusteredEdges(e);for(var n=0;n<o.length;n++){var r;this.body.edges[o[n]].setOptions(i)}this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function t(e){var i=[];var o=100;var n=0;for(;void 0!==e&&void 0!==this.body.edges[e]&&n<100;){i.push(this.body.edges[e].id);e=this.body.edges[e].edgeReplacedById;n++}i.reverse();return i}},{key:"getBaseEdge",value:function t(e){return this.getBaseEdges(e)[0]}},{key:"getBaseEdges",value:function t(e){var i=[e];var o=[];var n=[];var r=100;var s=0;for(;i.length>0&&s<100;){var a=i.pop();if(void 0===a)continue;var h=this.body.edges[a];if(void 0===h)continue;s++;var d=h.clusteringEdgeReplacingIds;if(void 0===d)n.push(a);else for(var l=0;l<d.length;++l){var u=d[l];if(-1!==i.indexOf(d)||-1!==o.indexOf(d))continue;i.push(u)}o.push(a)}return n}},{key:"_getConnectedId",value:function t(e,i){return e.toId!=i?e.toId:(e.fromId,e.fromId)}},{key:"_getHubSize",value:function t(){var e=0;var i=0;var o=0;var n=0;for(var r=0;r<this.body.nodeIndices.length;r++){var s=this.body.nodes[this.body.nodeIndices[r]];s.edges.length>n&&(n=s.edges.length);e+=s.edges.length;i+=Math.pow(s.edges.length,2);o+=1}e/=o;var a=(i/=o)-Math.pow(e,2);var h=Math.sqrt(a);var d=Math.floor(e+2*h);d>n&&(d=n);return d}},{key:"_createClusteredEdge",value:function t(e,i,o,n,r){var s=p.cloneOptions(o,"edge");c.deepExtend(s,n);s.from=e;s.to=i;s.id="clusterEdge:"+c.randomUUID();void 0!==r&&c.deepExtend(s,r);var a=this.body.functions.createEdge(s);a.clusteringEdgeReplacingIds=[o.id];a.connect();this.body.edges[a.id]=a;return a}},{key:"_clusterEdges",value:function t(e,i,o,n){if(i instanceof v){var r=i;var s={};s[r.id]=r;i=s}if(e instanceof m){var a=e;var h={};h[a.id]=a;e=h}if(void 0===o||null===o)throw new Error("_clusterEdges: parameter clusterNode required");void 0===n&&(n=o.clusterEdgeProperties);this._createClusterEdges(e,i,o,n);for(var d in i)if(i.hasOwnProperty(d)&&void 0!==this.body.edges[d]){var l=this.body.edges[d];this._backupEdgeOptions(l);l.setOptions({physics:!1})}for(var u in e)if(e.hasOwnProperty(u)){this.clusteredNodes[u]={clusterId:o.id,node:this.body.nodes[u]};this.body.nodes[u].setOptions({physics:!1})}}},{key:"_getClusterNodeForNode",value:function t(e){if(void 0===e)return;var i=this.clusteredNodes[e];if(void 0===i)return;var o=i.clusterId;if(void 0===o)return;return this.body.nodes[o]}},{key:"_filter",value:function t(e,i){var o=[];c.forEach(e,function(t){i(t)&&o.push(t)});return o}},{key:"_updateState",value:function t(){var e=this;var i=void 0;var o=[];var r=[];var s=function t(i){c.forEach(e.body.nodes,function(t){!0===t.isCluster&&i(t)})};for(i in this.clusteredNodes){if(!this.clusteredNodes.hasOwnProperty(i))continue;var a;void 0===this.body.nodes[i]&&o.push(i)}s(function(t){for(var e=0;e<o.length;e++)delete t.containedNodes[o[e]]});for(var h=0;h<o.length;h++)delete this.clusteredNodes[o[h]];c.forEach(this.clusteredEdges,function(t){var i=e.body.edges[t];void 0!==i&&i.endPointsValid()||r.push(t)});s(function(t){c.forEach(t.containedEdges,function(t,e){t.endPointsValid()||-1!==r.indexOf(e)||r.push(e)})});c.forEach(this.body.edges,function(t,i){var o=!0;var n=t.clusteringEdgeReplacingIds;if(void 0!==n){var s=0;c.forEach(n,function(t){var i=e.body.edges[t];void 0!==i&&i.endPointsValid()&&(s+=1)});o=s>0}t.endPointsValid()&&o||r.push(i)});s(function(t){c.forEach(r,function(i){delete t.containedEdges[i];c.forEach(t.edges,function(o,n){if(o.id===i){t.edges[n]=null;return}o.clusteringEdgeReplacingIds=e._filter(o.clusteringEdgeReplacingIds,function(t){return-1===r.indexOf(t)})});t.edges=e._filter(t.edges,function(t){return null!==t})})});c.forEach(r,function(t){delete e.clusteredEdges[t]});c.forEach(r,function(t){delete e.body.edges[t]});var d=(0,n["default"])(this.body.edges);c.forEach(d,function(t){var i=e.body.edges[t];var o=e._isClusteredNode(i.fromId)||e._isClusteredNode(i.toId);if(o===e._isClusteredEdge(i.id))return;if(!o)throw new Error("remove edge from clustering not implemented!");var n=e._getClusterNodeForNode(i.fromId);void 0!==n&&e._clusterEdges(e.body.nodes[i.fromId],i,n);var r=e._getClusterNodeForNode(i.toId);void 0!==r&&e._clusterEdges(e.body.nodes[i.toId],i,r)});var l=!1;var u=!0;var p=function t(){var i=[];s(function(t){var e=(0,n["default"])(t.containedNodes).length;var o=!0===t.options.allowSingleNodeCluster;(o&&e<1||!o&&e<2)&&i.push(t.id)});for(var o=0;o<i.length;++o)e.openCluster(i[o],{},!1);u=i.length>0;l=l||u};for(;u;)p();l&&this._updateState()}},{key:"_isClusteredNode",value:function t(e){return void 0!==this.clusteredNodes[e]}},{key:"_isClusteredEdge",value:function t(e){return void 0!==this.clusteredEdges[e]}}]);return t}();e["default"]=g},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=p(i(3));var r;var s=p(i(0));var a;var h=p(i(1));var d;var l=p(i(4));var u;var c=p(i(5));function p(t){return t&&t.__esModule?t:{default:t}}var f=i(2);var v;var m=function(t){(0,c["default"])(e,t);function e(t,i,o,r,a,h){(0,s["default"])(this,e);var d=(0,l["default"])(this,(e.__proto__||(0,n["default"])(e)).call(this,t,i,o,r,a,h));d.isCluster=!0;d.containedNodes={};d.containedEdges={};return d}(0,h["default"])(e,[{key:"_openChildCluster",value:function t(e){var i=this;var o=this.body.nodes[e];if(void 0===this.containedNodes[e])throw new Error("node with id: "+e+" not in current cluster");if(!o.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e];f.forEach(o.edges,function(t){delete i.containedEdges[t.id]});f.forEach(o.containedNodes,function(t,e){i.containedNodes[e]=t});o.containedNodes={};f.forEach(o.containedEdges,function(t,e){i.containedEdges[e]=t});o.containedEdges={};f.forEach(o.edges,function(t){f.forEach(i.edges,function(e){var o=e.clusteringEdgeReplacingIds.indexOf(t.id);if(-1===o)return;f.forEach(t.clusteringEdgeReplacingIds,function(t){e.clusteringEdgeReplacingIds.push(t);i.body.edges[t].edgeReplacedById=e.id});e.clusteringEdgeReplacingIds.splice(o,1)})});o.edges=[]}}]);return e}(i(47)["default"]);e["default"]=m},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=a(i(0));var r;var s=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}function h(){var t;void 0!==window&&(t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame);window.requestAnimationFrame=void 0===t?function(t){t()}:t}var d=i(2);var l=function(){function t(e,i){(0,n["default"])(this,t);h();this.body=e;this.canvas=i;this.redrawRequested=!1;this.renderTimer=void 0;this.requiresTimeout=!0;this.renderingActive=!1;this.renderRequests=0;this.allowRedraw=!0;this.dragging=!1;this.options={};this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1};d.extend(this.options,this.defaultOptions);this._determineBrowserMethod();this.bindEventListeners()}(0,s["default"])(t,[{key:"bindEventListeners",value:function t(){var e=this;this.body.emitter.on("dragStart",function(){e.dragging=!0});this.body.emitter.on("dragEnd",function(){e.dragging=!1});this.body.emitter.on("_resizeNodes",function(){e._resizeNodes()});this.body.emitter.on("_redraw",function(){!1===e.renderingActive&&e._redraw()});this.body.emitter.on("_blockRedraw",function(){e.allowRedraw=!1});this.body.emitter.on("_allowRedraw",function(){e.allowRedraw=!0;e.redrawRequested=!1});this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this));this.body.emitter.on("_startRendering",function(){e.renderRequests+=1;e.renderingActive=!0;e._startRendering()});this.body.emitter.on("_stopRendering",function(){e.renderRequests-=1;e.renderingActive=e.renderRequests>0;e.renderTimer=void 0});this.body.emitter.on("destroy",function(){e.renderRequests=0;e.allowRedraw=!1;e.renderingActive=!1;!0===e.requiresTimeout?clearTimeout(e.renderTimer):window.cancelAnimationFrame(e.renderTimer);e.body.emitter.off()})}},{key:"setOptions",value:function t(e){if(void 0!==e){var i=["hideEdgesOnDrag","hideNodesOnDrag"];d.selectiveDeepExtend(i,this.options,e)}}},{key:"_requestNextFrame",value:function t(e,i){if("undefined"==typeof window)return;var o=void 0;var n=window;!0===this.requiresTimeout?o=n.setTimeout(e,i):n.requestAnimationFrame&&(o=n.requestAnimationFrame(e));return o}},{key:"_startRendering",value:function t(){!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(this._renderStep.bind(this),this.simulationInterval))}},{key:"_renderStep",value:function t(){if(!0===this.renderingActive){this.renderTimer=void 0;!0===this.requiresTimeout&&this._startRendering();this._redraw();!1===this.requiresTimeout&&this._startRendering()}}},{key:"redraw",value:function t(){this.body.emitter.emit("setSize");this._redraw()}},{key:"_requestRedraw",value:function t(){var e=this;if(!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw){this.redrawRequested=!0;this._requestNextFrame(function(){e._redraw(!1)},0)}}},{key:"_redraw",value:function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw");this.redrawRequested=!1;0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize();this.canvas.setTransform();var i=this.canvas.getContext();var o=this.canvas.frame.canvas.clientWidth;var n=this.canvas.frame.canvas.clientHeight;i.clearRect(0,0,o,n);if(0===this.canvas.frame.clientWidth)return;i.save();i.translate(this.body.view.translation.x,this.body.view.translation.y);i.scale(this.body.view.scale,this.body.view.scale);i.beginPath();this.body.emitter.emit("beforeDrawing",i);i.closePath();!1===e&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&this._drawEdges(i);(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(i,e);i.beginPath();this.body.emitter.emit("afterDrawing",i);i.closePath();i.restore();!0===e&&i.clearRect(0,0,o,n)}}},{key:"_resizeNodes",value:function t(){this.canvas.setTransform();var e=this.canvas.getContext();e.save();e.translate(this.body.view.translation.x,this.body.view.translation.y);e.scale(this.body.view.scale,this.body.view.scale);var i=this.body.nodes;var o=void 0;for(var n in i)if(i.hasOwnProperty(n)){(o=i[n]).resize(e);o.updateBoundingBox(e,o.selected)}e.restore()}},{key:"_drawNodes",value:function t(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var o=this.body.nodes;var n=this.body.nodeIndices;var r=void 0;var s=[];var a=20;var h=this.canvas.DOMtoCanvas({x:-20,y:-20});var d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20});var l={top:h.y,left:h.x,bottom:d.y,right:d.x};for(var u=0;u<n.length;u++)(r=o[n[u]]).isSelected()?s.push(n[u]):!0===i?r.draw(e):!0===r.isBoundingBoxOverlappingWith(l)?r.draw(e):r.updateBoundingBox(e,r.selected);for(var c=0;c<s.length;c++)(r=o[s[c]]).draw(e)}},{key:"_drawEdges",value:function t(e){var i=this.body.edges;var o=this.body.edgeIndices;var n=void 0;for(var r=0;r<o.length;r++)!0===(n=i[o[r]]).connected&&n.draw(e)}},{key:"_determineBrowserMethod",value:function t(){if("undefined"!=typeof window){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1;-1!=e.indexOf("msie 9.0")?this.requiresTimeout=!0:-1!=e.indexOf("safari")&&e.indexOf("chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]);return t}();e["default"]=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=a(i(0));var r;var s=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var h=i(10);var d=i(37);var l=i(2);var u=function(){function t(e){(0,n["default"])(this,t);this.body=e;this.pixelRatio=1;this.resizeTimer=void 0;this.resizeFunction=this._onResize.bind(this);this.cameraState={};this.initialized=!1;this.canvasViewCenter={};this.options={};this.defaultOptions={autoResize:!0,height:"100%",width:"100%"};l.extend(this.options,this.defaultOptions);this.bindEventListeners()}(0,s["default"])(t,[{key:"bindEventListeners",value:function t(){var e=this;this.body.emitter.once("resize",function(t){0!==t.width&&(e.body.view.translation.x=.5*t.width);0!==t.height&&(e.body.view.translation.y=.5*t.height)});this.body.emitter.on("setSize",this.setSize.bind(this));this.body.emitter.on("destroy",function(){e.hammerFrame.destroy();e.hammer.destroy();e._cleanUp()})}},{key:"setOptions",value:function t(e){var i=this;if(void 0!==e){var o=["width","height","autoResize"];l.selectiveDeepExtend(o,this.options,e)}if(!0===this.options.autoResize){this._cleanUp();this.resizeTimer=setInterval(function(){var t;!0===i.setSize()&&i.body.emitter.emit("_requestRedraw")},1e3);this.resizeFunction=this._onResize.bind(this);l.addEventListener(window,"resize",this.resizeFunction)}}},{key:"_cleanUp",value:function t(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer);l.removeEventListener(window,"resize",this.resizeFunction);this.resizeFunction=void 0}},{key:"_onResize",value:function t(){this.setSize();this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;if(!0===this.initialized){this.cameraState.previousWidth=this.frame.canvas.width/e;this.cameraState.previousHeight=this.frame.canvas.height/e;this.cameraState.scale=this.body.view.scale;this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e})}}},{key:"_setCameraState",value:function t(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0){var e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth;var i=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;var o=this.cameraState.scale;1!=e&&1!=i?o=.5*this.cameraState.scale*(e+i):1!=e?o=this.cameraState.scale*e:1!=i&&(o=this.cameraState.scale*i);this.body.view.scale=o;var n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight});var r={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=r.x*this.body.view.scale;this.body.view.translation.y+=r.y*this.body.view.scale}}},{key:"_prepareValue",value:function t(e){if("number"==typeof e)return e+"px";if("string"==typeof e){if(-1!==e.indexOf("%")||-1!==e.indexOf("px"))return e;if(-1===e.indexOf("%"))return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}},{key:"_create",value:function t(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);this.frame=document.createElement("div");this.frame.className="vis-network";this.frame.style.position="relative";this.frame.style.overflow="hidden";this.frame.tabIndex=900;this.frame.canvas=document.createElement("canvas");this.frame.canvas.style.position="relative";this.frame.appendChild(this.frame.canvas);if(this.frame.canvas.getContext){this._setPixelRatio();this.setTransform()}else{var e=document.createElement("DIV");e.style.color="red";e.style.fontWeight="bold";e.style.padding="10px";e.innerHTML="Error: your browser does not support HTML canvas";this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame);this.body.view.scale=1;this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight};this._bindHammer()}},{key:"_bindHammer",value:function t(){var e=this;void 0!==this.hammer&&this.hammer.destroy();this.drag={};this.pinch={};this.hammer=new h(this.frame.canvas);this.hammer.get("pinch").set({enable:!0});this.hammer.get("pan").set({threshold:5,direction:h.DIRECTION_ALL});d.onTouch(this.hammer,function(t){e.body.eventListeners.onTouch(t)});this.hammer.on("tap",function(t){e.body.eventListeners.onTap(t)});this.hammer.on("doubletap",function(t){e.body.eventListeners.onDoubleTap(t)});this.hammer.on("press",function(t){e.body.eventListeners.onHold(t)});this.hammer.on("panstart",function(t){e.body.eventListeners.onDragStart(t)});this.hammer.on("panmove",function(t){e.body.eventListeners.onDrag(t)});this.hammer.on("panend",function(t){e.body.eventListeners.onDragEnd(t)});this.hammer.on("pinch",function(t){e.body.eventListeners.onPinch(t)});this.frame.canvas.addEventListener("mousewheel",function(t){e.body.eventListeners.onMouseWheel(t)});this.frame.canvas.addEventListener("DOMMouseScroll",function(t){e.body.eventListeners.onMouseWheel(t)});this.frame.canvas.addEventListener("mousemove",function(t){e.body.eventListeners.onMouseMove(t)});this.frame.canvas.addEventListener("contextmenu",function(t){e.body.eventListeners.onContext(t)});this.hammerFrame=new h(this.frame);d.onRelease(this.hammerFrame,function(t){e.body.eventListeners.onRelease(t)})}},{key:"setSize",value:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width;var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;e=this._prepareValue(e);i=this._prepareValue(i);var o=!1;var n=this.frame.canvas.width;var r=this.frame.canvas.height;var s=this.pixelRatio;this._setPixelRatio();if(e!=this.options.width||i!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=i){this._getCameraState(s);this.frame.style.width=e;this.frame.style.height=i;this.frame.canvas.style.width="100%";this.frame.canvas.style.height="100%";this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio);this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.options.width=e;this.options.height=i;this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight};o=!0}else{var a=Math.round(this.frame.canvas.clientWidth*this.pixelRatio);var h=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===a&&this.frame.canvas.height===h||this._getCameraState(s);if(this.frame.canvas.width!==a){this.frame.canvas.width=a;o=!0}if(this.frame.canvas.height!==h){this.frame.canvas.height=h;o=!0}}if(!0===o){this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(r/this.pixelRatio)});this._setCameraState()}this.initialized=!0;return o}},{key:"getContext",value:function t(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function t(){var e=this.getContext();if(void 0===e)throw new Error("Could not get canvax context");var i=1;"undefined"!=typeof window&&(i=window.devicePixelRatio||1);var o;return i/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function t(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function t(){var e=this.getContext();if(void 0===e)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function t(e){return(e-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function t(e){return e*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function t(e){return(e-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function t(e){return e*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function t(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}},{key:"DOMtoCanvas",value:function t(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}]);return t}();e["default"]=u},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=a(i(0));var r;var s=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var h=i(2);var d=i(76)["default"];var l=function(){function t(e,i){var o=this;(0,n["default"])(this,t);this.body=e;this.canvas=i;this.animationSpeed=1/this.renderRefreshRate;this.animationEasingFunction="easeInOutQuint";this.easingTime=0;this.sourceScale=0;this.targetScale=0;this.sourceTranslation=0;this.targetTranslation=0;this.lockedOnNodeId=void 0;this.lockedOnNodeOffset=void 0;this.touchTime=0;this.viewFunction=void 0;this.body.emitter.on("fit",this.fit.bind(this));this.body.emitter.on("animationFinished",function(){o.body.emitter.emit("_stopRendering")});this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}(0,s["default"])(t,[{key:"setOptions",value:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e}},{key:"fit",value:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nodes:[]};var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var o=void 0;var n=void 0;void 0!==e.nodes&&0!==e.nodes.length||(e.nodes=this.body.nodeIndices);if(!0===i){var r=0;for(var s in this.body.nodes)if(this.body.nodes.hasOwnProperty(s)){var a;!0===this.body.nodes[s].predefinedPosition&&(r+=1)}if(r>.5*this.body.nodeIndices.length){this.fit(e,!1);return}o=d.getRange(this.body.nodes,e.nodes);var h;n=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;var l;n*=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600)}else{this.body.emitter.emit("_resizeNodes");o=d.getRange(this.body.nodes,e.nodes);var u=1.1*Math.abs(o.maxX-o.minX);var c=1.1*Math.abs(o.maxY-o.minY);var p=this.canvas.frame.canvas.clientWidth/u;var f=this.canvas.frame.canvas.clientHeight/c;n=p<=f?p:f}n>1?n=1:0===n&&(n=1);var v;var m={position:d.findCenter(o),scale:n,animation:e.animation};this.moveTo(m)}},{key:"focus",value:function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[e]){var o={x:this.body.nodes[e].x,y:this.body.nodes[e].y};i.position=o;i.lockedOnNode=e;this.moveTo(i)}else console.log("Node: "+e+" cannot be found.")}},{key:"moveTo",value:function t(e){if(void 0===e){e={};return}void 0===e.offset&&(e.offset={x:0,y:0});void 0===e.offset.x&&(e.offset.x=0);void 0===e.offset.y&&(e.offset.y=0);void 0===e.scale&&(e.scale=this.body.view.scale);void 0===e.position&&(e.position=this.getViewPosition());void 0===e.animation&&(e.animation={duration:0});!1===e.animation&&(e.animation={duration:0});!0===e.animation&&(e.animation={});void 0===e.animation.duration&&(e.animation.duration=1e3);void 0===e.animation.easingFunction&&(e.animation.easingFunction="easeInOutQuad");this.animateView(e)}},{key:"animateView",value:function t(e){if(void 0===e)return;this.animationEasingFunction=e.animation.easingFunction;this.releaseNode();if(!0===e.locked){this.lockedOnNodeId=e.lockedOnNode;this.lockedOnNodeOffset=e.offset}0!=this.easingTime&&this._transitionRedraw(!0);this.sourceScale=this.body.view.scale;this.sourceTranslation=this.body.view.translation;this.targetScale=e.scale;this.body.view.scale=this.targetScale;var i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight});var o=i.x-e.position.x,n=i.y-e.position.y;this.targetTranslation={x:this.sourceTranslation.x+o*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n*this.targetScale+e.offset.y};if(0===e.animation.duration)if(void 0!=this.lockedOnNodeId){this.viewFunction=this._lockedRedraw.bind(this);this.body.emitter.on("initRedraw",this.viewFunction)}else{this.body.view.scale=this.targetScale;this.body.view.translation=this.targetTranslation;this.body.emitter.emit("_requestRedraw")}else{this.animationSpeed=1/(60*e.animation.duration*.001)||1/60;this.animationEasingFunction=e.animation.easingFunction;this.viewFunction=this._transitionRedraw.bind(this);this.body.emitter.on("initRedraw",this.viewFunction);this.body.emitter.emit("_startRendering")}}},{key:"_lockedRedraw",value:function t(){var e=this.body.nodes[this.lockedOnNodeId].x,i=this.body.nodes[this.lockedOnNodeId].y;var o=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight});var n=o.x-e,r=o.y-i;var s=this.body.view.translation;var a={x:s.x+n*this.body.view.scale+this.lockedOnNodeOffset.x,y:s.y+r*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=a}},{key:"releaseNode",value:function t(){if(void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction){this.body.emitter.off("initRedraw",this.viewFunction);this.lockedOnNodeId=void 0;this.lockedOnNodeOffset=void 0}}},{key:"_transitionRedraw",value:function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed;this.easingTime=!0===e?1:this.easingTime;var i=h.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*i;this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*i,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*i};if(this.easingTime>=1){this.body.emitter.off("initRedraw",this.viewFunction);this.easingTime=0;if(void 0!=this.lockedOnNodeId){this.viewFunction=this._lockedRedraw.bind(this);this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}},{key:"getScale",value:function t(){return this.body.view.scale}},{key:"getViewPosition",value:function t(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]);return t}();e["default"]=l},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=a(i(0));var r;var s=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var h=i(2);var d=i(233)["default"];var l=i(104)["default"];var u=function(){function t(e,i,o){(0,n["default"])(this,t);this.body=e;this.canvas=i;this.selectionHandler=o;this.navigationHandler=new d(e,i);this.body.eventListeners.onTap=this.onTap.bind(this);this.body.eventListeners.onTouch=this.onTouch.bind(this);this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this);this.body.eventListeners.onHold=this.onHold.bind(this);this.body.eventListeners.onDragStart=this.onDragStart.bind(this);this.body.eventListeners.onDrag=this.onDrag.bind(this);this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this);this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this);this.body.eventListeners.onPinch=this.onPinch.bind(this);this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this);this.body.eventListeners.onRelease=this.onRelease.bind(this);this.body.eventListeners.onContext=this.onContext.bind(this);this.touchTime=0;this.drag={};this.pinch={};this.popup=void 0;this.popupObj=void 0;this.popupTimer=void 0;this.body.functions.getPointer=this.getPointer.bind(this);this.options={};this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0};h.extend(this.options,this.defaultOptions);this.bindEventListeners()}(0,s["default"])(t,[{key:"bindEventListeners",value:function t(){var e=this;this.body.emitter.on("destroy",function(){clearTimeout(e.popupTimer);delete e.body.functions.getPointer})}},{key:"setOptions",value:function t(e){if(void 0!==e){var i=["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];h.selectiveNotDeepExtend(i,this.options,e);h.mergeOptions(this.options,e,"keyboard");if(e.tooltip){h.extend(this.options.tooltip,e.tooltip);e.tooltip.color&&(this.options.tooltip.color=h.parseColor(e.tooltip.color))}}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function t(e){return{x:e.x-h.getAbsoluteLeft(this.canvas.frame.canvas),y:e.y-h.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function t(e){if((new Date).valueOf()-this.touchTime>50){this.drag.pointer=this.getPointer(e.center);this.drag.pinched=!1;this.pinch.scale=this.body.view.scale;this.touchTime=(new Date).valueOf()}}},{key:"onTap",value:function t(e){var i=this.getPointer(e.center);var o=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(i,e,o);this.selectionHandler._generateClickEvent("click",e,i)}},{key:"onDoubleTap",value:function t(e){var i=this.getPointer(e.center);this.selectionHandler._generateClickEvent("doubleClick",e,i)}},{key:"onHold",value:function t(e){var i=this.getPointer(e.center);var o=this.selectionHandler.options.multiselect;this.checkSelectionChanges(i,e,o);this.selectionHandler._generateClickEvent("click",e,i);this.selectionHandler._generateClickEvent("hold",e,i)}},{key:"onRelease",value:function t(e){if((new Date).valueOf()-this.touchTime>10){var i=this.getPointer(e.center);this.selectionHandler._generateClickEvent("release",e,i);this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function t(e){var i=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler._generateClickEvent("oncontext",e,i)}},{key:"checkSelectionChanges",value:function t(e,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n=this.selectionHandler.getSelection();var r=!1;r=!0===o?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e);var s=this.selectionHandler.getSelection();var a=this._determineDifference(n,s);var h=this._determineDifference(s,n);if(a.edges.length>0){this.selectionHandler._generateClickEvent("deselectEdge",i,e,n);r=!0}if(a.nodes.length>0){this.selectionHandler._generateClickEvent("deselectNode",i,e,n);r=!0}if(h.nodes.length>0){this.selectionHandler._generateClickEvent("selectNode",i,e);r=!0}if(h.edges.length>0){this.selectionHandler._generateClickEvent("selectEdge",i,e);r=!0}!0===r&&this.selectionHandler._generateClickEvent("select",i,e)}},{key:"_determineDifference",value:function t(e,i){var o=function t(e,i){var o=[];for(var n=0;n<e.length;n++){var r=e[n];-1===i.indexOf(r)&&o.push(r)}return o};return{nodes:o(e.nodes,i.nodes),edges:o(e.edges,i.edges)}}},{key:"onDragStart",value:function t(e){void 0===this.drag.pointer&&this.onTouch(e);var i=this.selectionHandler.getNodeAt(this.drag.pointer);this.drag.dragging=!0;this.drag.selection=[];this.drag.translation=h.extend({},this.body.view.translation);this.drag.nodeId=void 0;if(void 0!==i&&!0===this.options.dragNodes){this.drag.nodeId=i.id;if(!1===i.isSelected()){this.selectionHandler.unselectAll();this.selectionHandler.selectObject(i)}this.selectionHandler._generateClickEvent("dragStart",e,this.drag.pointer);var o=this.selectionHandler.selectionObj.nodes;for(var n in o)if(o.hasOwnProperty(n)){var r=o[n];var s={id:r.id,node:r,x:r.x,y:r.y,xFixed:r.options.fixed.x,yFixed:r.options.fixed.y};r.options.fixed.x=!0;r.options.fixed.y=!0;this.drag.selection.push(s)}}else this.selectionHandler._generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function t(e){var i=this;if(!0===this.drag.pinched)return;this.body.emitter.emit("unlockNode");var o=this.getPointer(e.center);var n=this.drag.selection;if(n&&n.length&&!0===this.options.dragNodes){this.selectionHandler._generateClickEvent("dragging",e,o);var r=o.x-this.drag.pointer.x;var s=o.y-this.drag.pointer.y;n.forEach(function(t){var e=t.node;!1===t.xFixed&&(e.x=i.canvas._XconvertDOMtoCanvas(i.canvas._XconvertCanvasToDOM(t.x)+r));!1===t.yFixed&&(e.y=i.canvas._YconvertDOMtoCanvas(i.canvas._YconvertCanvasToDOM(t.y)+s))});this.body.emitter.emit("startSimulation")}else if(!0===this.options.dragView){this.selectionHandler._generateClickEvent("dragging",e,o,void 0,!0);if(void 0===this.drag.pointer){this.onDragStart(e);return}var a=o.x-this.drag.pointer.x;var h=o.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+a,y:this.drag.translation.y+h};this.body.emitter.emit("_requestRedraw")}}},{key:"onDragEnd",value:function t(e){this.drag.dragging=!1;var i=this.drag.selection;if(i&&i.length){i.forEach(function(t){t.node.options.fixed.x=t.xFixed;t.node.options.fixed.y=t.yFixed});this.selectionHandler._generateClickEvent("dragEnd",e,this.getPointer(e.center));this.body.emitter.emit("startSimulation")}else{this.selectionHandler._generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0);this.body.emitter.emit("_requestRedraw")}}},{key:"onPinch",value:function t(e){var i=this.getPointer(e.center);this.drag.pinched=!0;void 0===this.pinch["scale"]&&(this.pinch.scale=1);var o=this.pinch.scale*e.scale;this.zoom(o,i)}},{key:"zoom",value:function t(e,i){if(!0===this.options.zoomView){var o=this.body.view.scale;e<1e-5&&(e=1e-5);e>10&&(e=10);var n=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));var r=this.body.view.translation;var s=e/o;var a=(1-s)*i.x+r.x*s;var h=(1-s)*i.y+r.y*s;this.body.view.scale=e;this.body.view.translation={x:a,y:h};if(void 0!=n){var d=this.canvas.canvasToDOM(n);this.drag.pointer.x=d.x;this.drag.pointer.y=d.y}this.body.emitter.emit("_requestRedraw");o<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:i}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:i})}}},{key:"onMouseWheel",value:function t(e){if(!0===this.options.zoomView){var i=0;e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3);if(0!==i){var o=this.body.view.scale;var n=i/10;i<0&&(n/=1-n);o*=1+n;var r=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(o,r)}e.preventDefault()}}},{key:"onMouseMove",value:function t(e){var i=this;var o=this.getPointer({x:e.clientX,y:e.clientY});var n=!1;if(void 0!==this.popup){!1===this.popup.hidden&&this._checkHidePopup(o);if(!1===this.popup.hidden){n=!0;this.popup.setPosition(o.x+3,o.y-5);this.popup.show()}}!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus();if(!1===n){if(void 0!==this.popupTimer){clearInterval(this.popupTimer);this.popupTimer=void 0}this.drag.dragging||(this.popupTimer=setTimeout(function(){return i._checkShowPopup(o)},this.options.tooltipDelay))}!0===this.options.hover&&this.selectionHandler.hoverObject(e,o)}},{key:"_checkShowPopup",value:function t(e){var i=this.canvas._XconvertDOMtoCanvas(e.x);var o=this.canvas._YconvertDOMtoCanvas(e.y);var n={left:i,top:o,right:i,bottom:o};var r=void 0===this.popupObj?void 0:this.popupObj.id;var s=!1;var a="node";if(void 0===this.popupObj){var h=this.body.nodeIndices;var d=this.body.nodes;var u=void 0;var c=[];for(var p=0;p<h.length;p++)!0===(u=d[h[p]]).isOverlappingWith(n)&&void 0!==u.getTitle()&&c.push(h[p]);if(c.length>0){this.popupObj=d[c[c.length-1]];s=!0}}if(void 0===this.popupObj&&!1===s){var f=this.body.edgeIndices;var v=this.body.edges;var m=void 0;var g=[];for(var y=0;y<f.length;y++)!0===(m=v[f[y]]).isOverlappingWith(n)&&!0===m.connected&&void 0!==m.getTitle()&&g.push(f[y]);if(g.length>0){this.popupObj=v[g[g.length-1]];a="edge"}}if(void 0!==this.popupObj){if(this.popupObj.id!==r){void 0===this.popup&&(this.popup=new l(this.canvas.frame));this.popup.popupTargetType=a;this.popup.popupTargetId=this.popupObj.id;this.popup.setPosition(e.x+3,e.y-5);this.popup.setText(this.popupObj.getTitle());this.popup.show();this.body.emitter.emit("showPopup",this.popupObj.id)}}else if(void 0!==this.popup){this.popup.hide();this.body.emitter.emit("hidePopup")}}},{key:"_checkHidePopup",value:function t(e){var i=this.selectionHandler._pointerToPositionObject(e);var o=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(o=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(i))){var n=this.selectionHandler.getNodeAt(e);o=void 0!==n&&n.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(e)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(o=this.body.edges[this.popup.popupTargetId].isOverlappingWith(i));if(!1===o){this.popupObj=void 0;this.popup.hide();this.body.emitter.emit("hidePopup")}}}]);return t}();e["default"]=u},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=a(i(0));var r;var s=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var h=i(10);var d=i(37);var l=i(35);var u=function(){function t(e,i){var o=this;(0,n["default"])(this,t);this.body=e;this.canvas=i;this.iconsCreated=!1;this.navigationHammers=[];this.boundFunctions={};this.touchTime=0;this.activated=!1;this.body.emitter.on("activate",function(){o.activated=!0;o.configureKeyboardBindings()});this.body.emitter.on("deactivate",function(){o.activated=!1;o.configureKeyboardBindings()});this.body.emitter.on("destroy",function(){void 0!==o.keycharm&&o.keycharm.destroy()});this.options={}}(0,s["default"])(t,[{key:"setOptions",value:function t(e){if(void 0!==e){this.options=e;this.create()}}},{key:"create",value:function t(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation();this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function t(){if(0!=this.navigationHammers.length){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM["wrapper"]&&this.navigationDOM["wrapper"].parentNode&&this.navigationDOM["wrapper"].parentNode.removeChild(this.navigationDOM["wrapper"]);this.iconsCreated=!1}},{key:"loadNavigationElements",value:function t(){var e=this;this.cleanNavigation();this.navigationDOM={};var i=["up","down","left","right","zoomIn","zoomOut","zoomExtends"];var o=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM["wrapper"]=document.createElement("div");this.navigationDOM["wrapper"].className="vis-navigation";this.canvas.frame.appendChild(this.navigationDOM["wrapper"]);for(var n=0;n<i.length;n++){this.navigationDOM[i[n]]=document.createElement("div");this.navigationDOM[i[n]].className="vis-button vis-"+i[n];this.navigationDOM["wrapper"].appendChild(this.navigationDOM[i[n]]);var r=new h(this.navigationDOM[i[n]]);"_fit"===o[n]?d.onTouch(r,this._fit.bind(this)):d.onTouch(r,this.bindToRedraw.bind(this,o[n]));this.navigationHammers.push(r)}var s=new h(this.canvas.frame);d.onRelease(s,function(){e._stopMovement()});this.navigationHammers.push(s);this.iconsCreated=!0}},{key:"bindToRedraw",value:function t(e){if(void 0===this.boundFunctions[e]){this.boundFunctions[e]=this[e].bind(this);this.body.emitter.on("initRedraw",this.boundFunctions[e]);this.body.emitter.emit("_startRendering")}}},{key:"unbindFromRedraw",value:function t(e){if(void 0!==this.boundFunctions[e]){this.body.emitter.off("initRedraw",this.boundFunctions[e]);this.body.emitter.emit("_stopRendering");delete this.boundFunctions[e]}}},{key:"_fit",value:function t(){if((new Date).valueOf()-this.touchTime>700){this.body.emitter.emit("fit",{duration:700});this.touchTime=(new Date).valueOf()}}},{key:"_stopMovement",value:function t(){for(var e in this.boundFunctions)if(this.boundFunctions.hasOwnProperty(e)){this.body.emitter.off("initRedraw",this.boundFunctions[e]);this.body.emitter.emit("_stopRendering")}this.boundFunctions={}}},{key:"_moveUp",value:function t(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function t(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function t(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function t(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function t(){var e=this.body.view.scale;var i=this.body.view.scale*(1+this.options.keyboard.speed.zoom);var o=this.body.view.translation;var n=i/e;var r=(1-n)*this.canvas.canvasViewCenter.x+o.x*n;var s=(1-n)*this.canvas.canvasViewCenter.y+o.y*n;this.body.view.scale=i;this.body.view.translation={x:r,y:s};this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function t(){var e=this.body.view.scale;var i=this.body.view.scale/(1+this.options.keyboard.speed.zoom);var o=this.body.view.translation;var n=i/e;var r=(1-n)*this.canvas.canvasViewCenter.x+o.x*n;var s=(1-n)*this.canvas.canvasViewCenter.y+o.y*n;this.body.view.scale=i;this.body.view.translation={x:r,y:s};this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function t(){var e=this;void 0!==this.keycharm&&this.keycharm.destroy();if(!0===this.options.keyboard.enabled){!0===this.options.keyboard.bindToWindow?this.keycharm=l({container:window,preventDefault:!0}):this.keycharm=l({container:this.canvas.frame,preventDefault:!0});this.keycharm.reset();if(!0===this.activated){this.keycharm.bind("up",function(){e.bindToRedraw("_moveUp")},"keydown");this.keycharm.bind("down",function(){e.bindToRedraw("_moveDown")},"keydown");this.keycharm.bind("left",function(){e.bindToRedraw("_moveLeft")},"keydown");this.keycharm.bind("right",function(){e.bindToRedraw("_moveRight")},"keydown");this.keycharm.bind("=",function(){e.bindToRedraw("_zoomIn")},"keydown");this.keycharm.bind("num+",function(){e.bindToRedraw("_zoomIn")},"keydown");this.keycharm.bind("num-",function(){e.bindToRedraw("_zoomOut")},"keydown");this.keycharm.bind("-",function(){e.bindToRedraw("_zoomOut")},"keydown");this.keycharm.bind("[",function(){e.bindToRedraw("_zoomOut")},"keydown");this.keycharm.bind("]",function(){e.bindToRedraw("_zoomIn")},"keydown");this.keycharm.bind("pageup",function(){e.bindToRedraw("_zoomIn")},"keydown");this.keycharm.bind("pagedown",function(){e.bindToRedraw("_zoomOut")},"keydown");this.keycharm.bind("up",function(){e.unbindFromRedraw("_moveUp")},"keyup");this.keycharm.bind("down",function(){e.unbindFromRedraw("_moveDown")},"keyup");this.keycharm.bind("left",function(){e.unbindFromRedraw("_moveLeft")},"keyup");this.keycharm.bind("right",function(){e.unbindFromRedraw("_moveRight")},"keyup");this.keycharm.bind("=",function(){e.unbindFromRedraw("_zoomIn")},"keyup");this.keycharm.bind("num+",function(){e.unbindFromRedraw("_zoomIn")},"keyup");this.keycharm.bind("num-",function(){e.unbindFromRedraw("_zoomOut")},"keyup");this.keycharm.bind("-",function(){e.unbindFromRedraw("_zoomOut")},"keyup");this.keycharm.bind("[",function(){e.unbindFromRedraw("_zoomOut")},"keyup");this.keycharm.bind("]",function(){e.unbindFromRedraw("_zoomIn")},"keyup");this.keycharm.bind("pageup",function(){e.unbindFromRedraw("_zoomIn")},"keyup");this.keycharm.bind("pagedown",function(){e.unbindFromRedraw("_zoomOut")},"keyup")}}}}]);return t}();e["default"]=u},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=a(i(0));var r;var s=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var h=i(47)["default"];var d=i(74)["default"];var l=i(2);var u=function(){function t(e,i){var o=this;(0,n["default"])(this,t);this.body=e;this.canvas=i;this.selectionObj={nodes:[],edges:[]};this.hoverObj={nodes:{},edges:{}};this.options={};this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0};l.extend(this.options,this.defaultOptions);this.body.emitter.on("_dataChanged",function(){o.updateSelection()})}(0,s["default"])(t,[{key:"setOptions",value:function t(e){if(void 0!==e){var i=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];l.selectiveDeepExtend(i,this.options,e)}}},{key:"selectOnPoint",value:function t(e){var i=!1;if(!0===this.options.selectable){var o=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll();void 0!==o&&(i=this.selectObject(o));this.body.emitter.emit("_requestRedraw")}return i}},{key:"selectAdditionalOnPoint",value:function t(e){var i=!1;if(!0===this.options.selectable){var o=this.getNodeAt(e)||this.getEdgeAt(e);if(void 0!==o){i=!0;!0===o.isSelected()?this.deselectObject(o):this.selectObject(o);this.body.emitter.emit("_requestRedraw")}}return i}},{key:"_initBaseEvent",value:function t(e,i){var o={};o["pointer"]={DOM:{x:i.x,y:i.y},canvas:this.canvas.DOMtoCanvas(i)};o["event"]=e;return o}},{key:"_generateClickEvent",value:function t(e,i,o,n){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];var s=this._initBaseEvent(i,o);if(!0===r){s.nodes=[];s.edges=[]}else{var a=this.getSelection();s.nodes=a.nodes;s.edges=a.edges}void 0!==n&&(s["previousSelection"]=n);"click"==e&&(s.items=this.getClickedItems(o));this.body.emitter.emit(e,s)}},{key:"selectObject",value:function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;if(void 0!==e){e instanceof h&&!0===i&&this._selectConnectedEdges(e);e.select();this._addToSelection(e);return!0}return!1}},{key:"deselectObject",value:function t(e){if(!0===e.isSelected()){e.selected=!1;this._removeFromSelection(e)}}},{key:"_getAllNodesOverlappingWith",value:function t(e){var i=[];var o=this.body.nodes;for(var n=0;n<this.body.nodeIndices.length;n++){var r=this.body.nodeIndices[n];o[r].isOverlappingWith(e)&&i.push(r)}return i}},{key:"_pointerToPositionObject",value:function t(e){var i=this.canvas.DOMtoCanvas(e);return{left:i.x-1,top:i.y+1,right:i.x+1,bottom:i.y-1}}},{key:"getNodeAt",value:function t(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var o=this._pointerToPositionObject(e);var n=this._getAllNodesOverlappingWith(o);return n.length>0?!0===i?this.body.nodes[n[n.length-1]]:n[n.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function t(e,i){var o=this.body.edges;for(var n=0;n<this.body.edgeIndices.length;n++){var r=this.body.edgeIndices[n];o[r].isOverlappingWith(e)&&i.push(r)}}},{key:"_getAllEdgesOverlappingWith",value:function t(e){var i=[];this._getEdgesOverlappingWith(e,i);return i}},{key:"getEdgeAt",value:function t(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var o=this.canvas.DOMtoCanvas(e);var n=10;var r=null;var s=this.body.edges;for(var a=0;a<this.body.edgeIndices.length;a++){var h=this.body.edgeIndices[a];var d=s[h];if(d.connected){var l=d.from.x;var u=d.from.y;var c=d.to.x;var p=d.to.y;var f=d.edgeType.getDistanceToEdge(l,u,c,p,o.x,o.y);if(f<n){r=h;n=f}}}return null!==r?!0===i?this.body.edges[r]:r:void 0}},{key:"_addToSelection",value:function t(e){e instanceof h?this.selectionObj.nodes[e.id]=e:this.selectionObj.edges[e.id]=e}},{key:"_addToHover",value:function t(e){e instanceof h?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:"_removeFromSelection",value:function t(e){if(e instanceof h){delete this.selectionObj.nodes[e.id];this._unselectConnectedEdges(e)}else delete this.selectionObj.edges[e.id]}},{key:"unselectAll",value:function t(){for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&this.selectionObj.nodes[e].unselect();for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&this.selectionObj.edges[i].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function t(){var e=0;for(var i in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(i)&&(e+=1);return e}},{key:"_getSelectedNode",value:function t(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e))return this.selectionObj.nodes[e];return}},{key:"_getSelectedEdge",value:function t(){for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return this.selectionObj.edges[e];return}},{key:"_getSelectedEdgeCount",value:function t(){var e=0;for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&(e+=1);return e}},{key:"_getSelectedObjectCount",value:function t(){var e=0;for(var i in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(i)&&(e+=1);for(var o in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(o)&&(e+=1);return e}},{key:"_selectionIsEmpty",value:function t(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e))return!1;for(var i in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(i))return!1;return!0}},{key:"_clusterInSelection",value:function t(){for(var e in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(e)&&this.selectionObj.nodes[e].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function t(e){for(var i=0;i<e.edges.length;i++){var o=e.edges[i];o.select();this._addToSelection(o)}}},{key:"_hoverConnectedEdges",value:function t(e){for(var i=0;i<e.edges.length;i++){var o=e.edges[i];o.hover=!0;this._addToHover(o)}}},{key:"_unselectConnectedEdges",value:function t(e){for(var i=0;i<e.edges.length;i++){var o=e.edges[i];o.unselect();this._removeFromSelection(o)}}},{key:"emitBlurEvent",value:function t(e,i,o){var n=this._initBaseEvent(e,i);if(!0===o.hover){o.hover=!1;if(o instanceof h){n.node=o.id;this.body.emitter.emit("blurNode",n)}else{n.edge=o.id;this.body.emitter.emit("blurEdge",n)}}}},{key:"emitHoverEvent",value:function t(e,i,o){var n=this._initBaseEvent(e,i);var r=!1;if(!1===o.hover){o.hover=!0;this._addToHover(o);r=!0;if(o instanceof h){n.node=o.id;this.body.emitter.emit("hoverNode",n)}else{n.edge=o.id;this.body.emitter.emit("hoverEdge",n)}}return r}},{key:"hoverObject",value:function t(e,i){var o=this.getNodeAt(i);void 0===o&&(o=this.getEdgeAt(i));var n=!1;for(var r in this.hoverObj.nodes)if(this.hoverObj.nodes.hasOwnProperty(r)&&(void 0===o||o instanceof h&&o.id!=r||o instanceof d)){this.emitBlurEvent(e,i,this.hoverObj.nodes[r]);delete this.hoverObj.nodes[r];n=!0}for(var s in this.hoverObj.edges)if(this.hoverObj.edges.hasOwnProperty(s))if(!0===n){this.hoverObj.edges[s].hover=!1;delete this.hoverObj.edges[s]}else if(void 0===o||o instanceof d&&o.id!=s||o instanceof h&&!o.hover){this.emitBlurEvent(e,i,this.hoverObj.edges[s]);delete this.hoverObj.edges[s];n=!0}if(void 0!==o){n=n||this.emitHoverEvent(e,i,o);o instanceof h&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(o)}!0===n&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function t(){var e;var i;return{nodes:this.getSelectedNodes(),edges:this.getSelectedEdges()}}},{key:"getSelectedNodes",value:function t(){var e=[];if(!0===this.options.selectable)for(var i in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(i)&&e.push(this.selectionObj.nodes[i].id);return e}},{key:"getSelectedEdges",value:function t(){var e=[];if(!0===this.options.selectable)for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&e.push(this.selectionObj.edges[i].id);return e}},{key:"setSelection",value:function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var o=void 0,n=void 0;if(!e||!e.nodes&&!e.edges)throw"Selection must be an object with nodes and/or edges properties";(i.unselectAll||void 0===i.unselectAll)&&this.unselectAll();if(e.nodes)for(o=0;o<e.nodes.length;o++){n=e.nodes[o];var r=this.body.nodes[n];if(!r)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(r,i.highlightEdges)}if(e.edges)for(o=0;o<e.edges.length;o++){n=e.edges[o];var s=this.body.edges[n];if(!s)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(s)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function t(e){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:i})}},{key:"selectEdges",value:function t(e){if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({edges:e})}},{key:"updateSelection",value:function t(){for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(this.body.nodes.hasOwnProperty(e)||delete this.selectionObj.nodes[e]);for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&(this.body.edges.hasOwnProperty(i)||delete this.selectionObj.edges[i])}},{key:"getClickedItems",value:function t(e){var i=this.canvas.DOMtoCanvas(e);var o=[];var n=this.body.nodeIndices;var r=this.body.nodes;for(var s=n.length-1;s>=0;s--){var a;var h=r[n[s]].getItemsOnPoint(i);o.push.apply(o,h)}var d=this.body.edgeIndices;var l=this.body.edges;for(var u=d.length-1;u>=0;u--){var c;var p=l[d[u]].getItemsOnPoint(i);o.push.apply(o,p)}return o}}]);return t}();e["default"]=u},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=p(i(30));var r;var s=p(i(6));var a;var h=p(i(8));var d;var l=p(i(0));var u;var c=p(i(1));function p(t){return t&&t.__esModule?t:{default:t}}var f=i(2);var v=i(76)["default"];var m=i(236),g=m.HorizontalStrategy,y=m.VerticalStrategy;var b=function(){function t(){(0,l["default"])(this,t);this.childrenReference={};this.parentReference={};this.trees={};this.distributionOrdering={};this.levels={};this.distributionIndex={};this.isTree=!1;this.treeIndex=-1}(0,c["default"])(t,[{key:"addRelation",value:function t(e,i){void 0===this.childrenReference[e]&&(this.childrenReference[e]=[]);this.childrenReference[e].push(i);void 0===this.parentReference[i]&&(this.parentReference[i]=[]);this.parentReference[i].push(e)}},{key:"checkIfTree",value:function t(){for(var e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}},{key:"numTrees",value:function t(){return this.treeIndex+1}},{key:"setTreeIndex",value:function t(e,i){if(void 0===i)return;if(void 0===this.trees[e.id]){this.trees[e.id]=i;this.treeIndex=Math.max(i,this.treeIndex)}}},{key:"ensureLevel",value:function t(e){void 0===this.levels[e]&&(this.levels[e]=0)}},{key:"getMaxLevel",value:function t(e){var i=this;var o={};var n;return function t(e){if(void 0!==o[e])return o[e];var n=i.levels[e];if(i.childrenReference[e]){var r=i.childrenReference[e];if(r.length>0)for(var s=0;s<r.length;s++)n=Math.max(n,t(r[s]))}o[e]=n;return n}(e)}},{key:"levelDownstream",value:function t(e,i){if(void 0===this.levels[i.id]){void 0===this.levels[e.id]&&(this.levels[e.id]=0);this.levels[i.id]=this.levels[e.id]+1}}},{key:"setMinLevelToZero",value:function t(e){var i=1e9;for(var o in e)e.hasOwnProperty(o)&&void 0!==this.levels[o]&&(i=Math.min(this.levels[o],i));for(var n in e)e.hasOwnProperty(n)&&void 0!==this.levels[n]&&(this.levels[n]-=i)}},{key:"getTreeSize",value:function t(e,i){var o=1e9;var n=-1e9;var r=1e9;var s=-1e9;for(var a in this.trees)if(this.trees.hasOwnProperty(a)&&this.trees[a]===i){var h=e[a];o=Math.min(h.x,o);n=Math.max(h.x,n);r=Math.min(h.y,r);s=Math.max(h.y,s)}return{min_x:o,max_x:n,min_y:r,max_y:s}}},{key:"hasSameParent",value:function t(e,i){var o=this.parentReference[e.id];var n=this.parentReference[i.id];if(void 0===o||void 0===n)return!1;for(var r=0;r<o.length;r++)for(var s=0;s<n.length;s++)if(o[r]==n[s])return!0;return!1}},{key:"inSameSubNetwork",value:function t(e,i){return this.trees[e.id]===this.trees[i.id]}},{key:"getLevels",value:function t(){return(0,h["default"])(this.distributionOrdering)}},{key:"addToOrdering",value:function t(e,i){void 0===this.distributionOrdering[i]&&(this.distributionOrdering[i]=[]);var o=!1;var n=this.distributionOrdering[i];for(var r in n)if(n[r]===e){o=!0;break}if(!o){this.distributionOrdering[i].push(e);this.distributionIndex[e.id]=this.distributionOrdering[i].length-1}}}]);return t}();var _=function(){function t(e){(0,l["default"])(this,t);this.body=e;this.initialRandomSeed=Math.round(1e6*Math.random());this.randomSeed=this.initialRandomSeed;this.setPhysics=!1;this.options={};this.optionsBackup={physics:{}};this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}};f.extend(this.options,this.defaultOptions);this.bindEventListeners()}(0,c["default"])(t,[{key:"bindEventListeners",value:function t(){var e=this;this.body.emitter.on("_dataChanged",function(){e.setupHierarchicalLayout()});this.body.emitter.on("_dataLoaded",function(){e.layoutNetwork()});this.body.emitter.on("_resetHierarchicalLayout",function(){e.setupHierarchicalLayout()});this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(!0!==e.options.hierarchical.enabled)return;var t=e.direction.curveType();e.body.emitter.emit("_forceDisableDynamicCurves",t,!1)})}},{key:"setOptions",value:function t(e,i){if(void 0!==e){var o=this.options.hierarchical;var n=o.enabled;f.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,e);f.mergeOptions(this.options,e,"hierarchical");void 0!==e.randomSeed&&(this.initialRandomSeed=e.randomSeed);if(!0===o.enabled){!0===n&&this.body.emitter.emit("refresh",!0);"RL"===o.direction||"DU"===o.direction?o.levelSeparation>0&&(o.levelSeparation*=-1):o.levelSeparation<0&&(o.levelSeparation*=-1);this.setDirectionStrategy();this.body.emitter.emit("_resetHierarchicalLayout");return this.adaptAllOptionsForHierarchicalLayout(i)}if(!0===n){this.body.emitter.emit("refresh");return f.deepExtend(i,this.optionsBackup)}}return i}},{key:"adaptAllOptionsForHierarchicalLayout",value:function t(e){if(!0===this.options.hierarchical.enabled){var i=this.optionsBackup.physics;if(void 0===e.physics||!0===e.physics){e.physics={enabled:void 0===i.enabled||i.enabled,solver:"hierarchicalRepulsion"};i.enabled=void 0===i.enabled||i.enabled;i.solver=i.solver||"barnesHut"}else if("object"===(0,s["default"])(e.physics)){i.enabled=void 0===e.physics.enabled||e.physics.enabled;i.solver=e.physics.solver||"barnesHut";e.physics.solver="hierarchicalRepulsion"}else if(!1!==e.physics){i.solver="barnesHut";e.physics={solver:"hierarchicalRepulsion"}}var o=this.direction.curveType();if(void 0===e.edges){this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}};e.edges={smooth:!1}}else if(void 0===e.edges.smooth){this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}};e.edges.smooth=!1}else if("boolean"==typeof e.edges.smooth){this.optionsBackup.edges={smooth:e.edges.smooth};e.edges.smooth={enabled:e.edges.smooth,type:o}}else{var n=e.edges.smooth;void 0!==n.type&&"dynamic"!==n.type&&(o=n.type);this.optionsBackup.edges={smooth:void 0===n.enabled||n.enabled,type:void 0===n.type?"dynamic":n.type,roundness:void 0===n.roundness?.5:n.roundness,forceDirection:void 0!==n.forceDirection&&n.forceDirection};e.edges.smooth={enabled:void 0===n.enabled||n.enabled,type:o,roundness:void 0===n.roundness?.5:n.roundness,forceDirection:void 0!==n.forceDirection&&n.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",o)}return e}},{key:"seededRandom",value:function t(){var e=1e4*Math.sin(this.randomSeed++);return e-Math.floor(e)}},{key:"positionInitially",value:function t(e){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;var i=e.length+50;for(var o=0;o<e.length;o++){var n=e[o];var r=2*Math.PI*this.seededRandom();void 0===n.x&&(n.x=i*Math.cos(r));void 0===n.y&&(n.y=i*Math.sin(r))}}}},{key:"layoutNetwork",value:function t(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){var e=this.body.nodeIndices;var i=0;for(var o=0;o<e.length;o++){var n;!0===this.body.nodes[e[o]].predefinedPosition&&(i+=1)}if(i<.5*e.length){var r=10;var s=0;var a=150;var h={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>150){var d=e.length;for(;e.length>150&&s<=10;){s+=1;var l=e.length;s%3==0?this.body.modules.clustering.clusterBridges(h):this.body.modules.clustering.clusterOutliers(h);var u;if(l==e.length&&s%3!=0){this._declusterAll();this.body.emitter.emit("_layoutFailed");console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*d)})}s>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result.");this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0);this._shiftToCenter();var c=70;for(var p=0;p<e.length;p++){var f=this.body.nodes[e[p]];if(!1===f.predefinedPosition){f.x+=70*(.5-this.seededRandom());f.y+=70*(.5-this.seededRandom())}}this._declusterAll();this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function t(){var e=v.getRangeCore(this.body.nodes,this.body.nodeIndices);var i=v.findCenter(e);for(var o=0;o<this.body.nodeIndices.length;o++){var n=this.body.nodes[this.body.nodeIndices[o]];n.x-=i.x;n.y-=i.y}}},{key:"_declusterAll",value:function t(){var e=!0;for(;!0===e;){e=!1;for(var i=0;i<this.body.nodeIndices.length;i++)if(!0===this.body.nodes[this.body.nodeIndices[i]].isCluster){e=!0;this.body.modules.clustering.openCluster(this.body.nodeIndices[i],{},!1)}!0===e&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function t(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function t(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var e=void 0,i=void 0;var o=!1;var n=!1;this.lastNodeOnLevel={};this.hierarchical=new b;for(i in this.body.nodes)if(this.body.nodes.hasOwnProperty(i))if(void 0!==(e=this.body.nodes[i]).options.level){o=!0;this.hierarchical.levels[i]=e.options.level}else n=!0;if(!0===n&&!0===o)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===n){var r=this.options.hierarchical.sortMethod;"hubsize"===r?this._determineLevelsByHubsize():"directed"===r?this._determineLevelsDirected():"custom"===r&&this._determineLevelsCustomCallback()}for(var s in this.body.nodes)this.body.nodes.hasOwnProperty(s)&&this.hierarchical.ensureLevel(s);var a=this._getDistribution();this._generateMap();this._placeNodesByHierarchy(a);this._condenseHierarchy();this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function t(){var e=this;var i=!1;var o={};var r=function t(){var i=a();var o=0;for(var n=0;n<i.length-1;n++){var r;o+=i[n].max-i[n+1].min+e.options.hierarchical.treeSpacing;s(n+1,o)}};var s=function t(i,o){var n=e.hierarchical.trees;for(var r in n)n.hasOwnProperty(r)&&n[r]===i&&e.direction.shift(r,o)};var a=function t(){var i=[];for(var o=0;o<e.hierarchical.numTrees();o++)i.push(e.direction.getTreeSize(o));return i};var h=function t(i,o){if(o[i.id])return;o[i.id]=!0;if(e.hierarchical.childrenReference[i.id]){var n=e.hierarchical.childrenReference[i.id];if(n.length>0)for(var r=0;r<n.length;r++)t(e.body.nodes[n[r]],o)}};var d=function t(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9;var r=1e9;var s=1e9;var a=1e9;var h=-1e9;for(var d in i)if(i.hasOwnProperty(d)){var l=e.body.nodes[d];var u=e.hierarchical.levels[l.id];var c=e.direction.getPosition(l);var p=e._getSpaceAroundNode(l,i),f=(0,n["default"])(p,2),v=f[0],m=f[1];r=Math.min(v,r);s=Math.min(m,s);if(u<=o){a=Math.min(c,a);h=Math.max(c,h)}}return[a,h,r,s]};var l=function t(i,o){var n=e.hierarchical.getMaxLevel(i.id);var r=e.hierarchical.getMaxLevel(o.id);return Math.min(n,r)};var u=function t(i,o,n){var r=e.hierarchical;for(var s=0;s<o.length;s++){var a=o[s];var h=r.distributionOrdering[a];if(h.length>1)for(var d=0;d<h.length-1;d++){var l=h[d];var u=h[d+1];r.hasSameParent(l,u)&&r.inSameSubNetwork(l,u)&&i(l,u,n)}}};var c=function t(o,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var s=e.direction.getPosition(o);var a=e.direction.getPosition(n);var u=Math.abs(a-s);var c=e.options.hierarchical.nodeSpacing;if(u>c){var p={};var f={};h(o,p);h(n,f);var v=l(o,n);var m=d(p,v);var g=d(f,v);var y=m[1];var b=g[0];var _=g[2];var w;if(Math.abs(y-b)>c){var x=y-b+c;x<-_+c&&(x=-_+c);if(x<0){e._shiftBlock(n.id,x);i=!0;!0===r&&e._centerParent(n)}}}};var p=function t(r,s){var a=s.id;var l=s.edges;var u=e.hierarchical.levels[s.id];var c=e.options.hierarchical.levelSeparation*e.options.hierarchical.levelSeparation;var p={};var f=[];for(var v=0;v<l.length;v++){var m=l[v];if(m.toId!=m.fromId){var g=m.toId==a?m.from:m.to;p[l[v].id]=g;e.hierarchical.levels[g.id]<u&&f.push(m)}}var y=function t(i,o){var n=0;for(var r=0;r<o.length;r++)if(void 0!==p[o[r].id]){var s=e.direction.getPosition(p[o[r].id])-i;n+=s/Math.sqrt(s*s+c)}return n};var b=function t(i,o){var n=0;for(var r=0;r<o.length;r++)if(void 0!==p[o[r].id]){var s=e.direction.getPosition(p[o[r].id])-i;n-=c*Math.pow(s*s+c,-1.5)}return n};var _=function t(i,o){var n=e.direction.getPosition(s);var r={};for(var a=0;a<i;a++){var h=y(n,o);var d=b(n,o);var l=40;var u;if(void 0!==r[n-=Math.max(-40,Math.min(40,Math.round(h/d)))])break;r[n]=a}return n};var w=function t(n){var r=e.direction.getPosition(s);if(void 0===o[s.id]){var a={};h(s,a);o[s.id]=a}var l=d(o[s.id]);var u=l[2];var c=l[3];var p=n-r;var f=0;p>0?f=Math.min(p,c-e.options.hierarchical.nodeSpacing):p<0&&(f=-Math.min(-p,u-e.options.hierarchical.nodeSpacing));if(0!=f){e._shiftBlock(s.id,f);i=!0}};var x=function t(o){var r=e.direction.getPosition(s);var a=e._getSpaceAroundNode(s),h=(0,n["default"])(a,2),d=h[0],l=h[1];var u=o-r;var c=r;u>0?c=Math.min(r+(l-e.options.hierarchical.nodeSpacing),o):u<0&&(c=Math.max(r-(d-e.options.hierarchical.nodeSpacing),o));if(c!==r){e.direction.setPosition(s,c);i=!0}};var k=_(r,f);w(k);x(k=_(r,l))};var f=function t(o){var n=e.hierarchical.getLevels();n=n.reverse();for(var r=0;r<o;r++){i=!1;for(var s=0;s<n.length;s++){var a=n[s];var h=e.hierarchical.distributionOrdering[a];for(var d=0;d<h.length;d++)p(1e3,h[d])}if(!0!==i)break}};var v=function t(o){var n=e.hierarchical.getLevels();n=n.reverse();for(var r=0;r<o;r++){i=!1;u(c,n,!0);if(!0!==i)break}};var m=function t(){for(var i in e.body.nodes)e.body.nodes.hasOwnProperty(i)&&e._centerParent(e.body.nodes[i])};var g=function t(){var i=e.hierarchical.getLevels();i=i.reverse();for(var o=0;o<i.length;o++){var n=i[o];var r=e.hierarchical.distributionOrdering[n];for(var s=0;s<r.length;s++)e._centerParent(r[s])}};if(!0===this.options.hierarchical.blockShifting){v(5);m()}!0===this.options.hierarchical.edgeMinimization&&f(20);!0===this.options.hierarchical.parentCentralization&&g();r()}},{key:"_getSpaceAroundNode",value:function t(e,i){var o=!0;void 0===i&&(o=!1);var n=this.hierarchical.levels[e.id];if(void 0!==n){var r=this.hierarchical.distributionIndex[e.id];var s=this.direction.getPosition(e);var a=this.hierarchical.distributionOrdering[n];var h=1e9;var d=1e9;if(0!==r){var l=a[r-1];if(!0===o&&void 0===i[l.id]||!1===o){var u;h=s-this.direction.getPosition(l)}}if(r!=a.length-1){var c=a[r+1];if(!0===o&&void 0===i[c.id]||!1===o){var p=this.direction.getPosition(c);d=Math.min(d,p-s)}}return[h,d]}return[0,0]}},{key:"_centerParent",value:function t(e){if(this.hierarchical.parentReference[e.id]){var i=this.hierarchical.parentReference[e.id];for(var o=0;o<i.length;o++){var r=i[o];var s=this.body.nodes[r];var a=this.hierarchical.childrenReference[r];if(void 0!==a){var h=this._getCenterPosition(a);var d=this.direction.getPosition(s);var l=this._getSpaceAroundNode(s),u=(0,n["default"])(l,2),c=u[0],p=u[1];var f=d-h;(f<0&&Math.abs(f)<p-this.options.hierarchical.nodeSpacing||f>0&&Math.abs(f)<c-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,h)}}}}},{key:"_placeNodesByHierarchy",value:function t(e){this.positionedNodes={};for(var i in e)if(e.hasOwnProperty(i)){var o=(0,h["default"])(e[i]);o=this._indexArrayToNodes(o);this.direction.sort(o);var n=0;for(var r=0;r<o.length;r++){var s=o[r];if(void 0===this.positionedNodes[s.id]){var a=this.options.hierarchical.nodeSpacing;var d=a*n;n>0&&(d=this.direction.getPosition(o[r-1])+a);this.direction.setPosition(s,d,i);this._validatePositionAndContinue(s,i,d);n++}}}}},{key:"_placeBranchNodes",value:function t(e,i){var o=this.hierarchical.childrenReference[e];if(void 0===o)return;var n=[];for(var r=0;r<o.length;r++)n.push(this.body.nodes[o[r]]);this.direction.sort(n);for(var s=0;s<n.length;s++){var a=n[s];var h=this.hierarchical.levels[a.id];if(!(h>i&&void 0===this.positionedNodes[a.id]))return;var d=this.options.hierarchical.nodeSpacing;var l=void 0;l=0===s?this.direction.getPosition(this.body.nodes[e]):this.direction.getPosition(n[s-1])+d;this.direction.setPosition(a,l,h);this._validatePositionAndContinue(a,h,l)}var u=this._getCenterPosition(n);this.direction.setPosition(this.body.nodes[e],u,i)}},{key:"_validatePositionAndContinue",value:function t(e,i,o){if(!this.hierarchical.isTree)return;if(void 0!==this.lastNodeOnLevel[i]){var n=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[i]]);if(o-n<this.options.hierarchical.nodeSpacing){var r=n+this.options.hierarchical.nodeSpacing-o;var s=this._findCommonParent(this.lastNodeOnLevel[i],e.id);this._shiftBlock(s.withChild,r)}}this.lastNodeOnLevel[i]=e.id;this.positionedNodes[e.id]=!0;this._placeBranchNodes(e.id,i)}},{key:"_indexArrayToNodes",value:function t(e){var i=[];for(var o=0;o<e.length;o++)i.push(this.body.nodes[e[o]]);return i}},{key:"_getDistribution",value:function t(){var e={};var i=void 0,o=void 0;for(i in this.body.nodes)if(this.body.nodes.hasOwnProperty(i)){o=this.body.nodes[i];var n=void 0===this.hierarchical.levels[i]?0:this.hierarchical.levels[i];this.direction.fix(o,n);void 0===e[n]&&(e[n]={});e[n][i]=o}return e}},{key:"_getActiveEdges",value:function t(e){var i=this;var o=[];f.forEach(e.edges,function(t){-1!==i.body.edgeIndices.indexOf(t.id)&&o.push(t)});return o}},{key:"_getHubSizes",value:function t(){var e=this;var i={};var o=this.body.nodeIndices;f.forEach(o,function(t){var o=e.body.nodes[t];var n=e._getActiveEdges(o).length;i[n]=!0});var n=[];f.forEach(i,function(t){n.push(Number(t))});n.sort(function(t,e){return e-t});return n}},{key:"_determineLevelsByHubsize",value:function t(){var e=this;var i=function t(i,o){e.hierarchical.levelDownstream(i,o)};var o=this._getHubSizes();var n=function t(n){var r=o[n];if(0===r)return"break";f.forEach(e.body.nodeIndices,function(t){var o=e.body.nodes[t];r===e._getActiveEdges(o).length&&e._crawlNetwork(i,t)})};for(var r=0;r<o.length;++r){var s;if("break"===n(r))break}}},{key:"_determineLevelsCustomCallback",value:function t(){var e=this;var i=1e5;var o=function t(e,i,o){};var n=function t(i,o,n){var r=e.hierarchical.levels[i.id];void 0===r&&(r=e.hierarchical.levels[i.id]=1e5);var s=(v.cloneOptions(i,"node"),v.cloneOptions(o,"node"),void v.cloneOptions(n,"edge"));e.hierarchical.levels[o.id]=r+s};this._crawlNetwork(n);this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function t(){var e=this;var i=1e4;var o=function t(i){f.forEach(e.body.edges,function(t){if(t.toId===i.fromId&&t.fromId===i.toId)return!0});return!1};var n=function t(i,n,r){var s=e.hierarchical.levels[i.id];var a=e.hierarchical.levels[n.id];if(o(r)&&void 0!==s&&void 0!==a)return;void 0===s&&(s=e.hierarchical.levels[i.id]=1e4);r.toId==n.id?e.hierarchical.levels[n.id]=s+1:e.hierarchical.levels[n.id]=s-1};this._crawlNetwork(n);this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function t(){var e=this;var i=function t(i,o){e.hierarchical.levels[o.id]>e.hierarchical.levels[i.id]&&e.hierarchical.addRelation(i.id,o.id)};this._crawlNetwork(i);this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function t(){var e=this;var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};var o=arguments[1];var n={};var r=function t(o,r){if(void 0===n[o.id]){e.hierarchical.setTreeIndex(o,r);n[o.id]=!0;var s=void 0;var a=e._getActiveEdges(o);for(var h=0;h<a.length;h++){var d=a[h];if(!0===d.connected){s=d.toId==o.id?d.from:d.to;if(o.id!=s.id){i(o,s,d);t(s,r)}}}}};if(void 0===o){var s=0;for(var a=0;a<this.body.nodeIndices.length;a++){var h=this.body.nodeIndices[a];if(void 0===n[h]){var d;r(this.body.nodes[h],s);s+=1}}}else{var l=this.body.nodes[o];if(void 0===l){console.error("Node not found:",o);return}r(l)}}},{key:"_shiftBlock",value:function t(e,i){var o=this;var n={};var r;(function t(e){if(n[e])return;n[e]=!0;o.direction.shift(e,i);var r=o.hierarchical.childrenReference[e];if(void 0!==r)for(var s=0;s<r.length;s++)t(r[s])})(e)}},{key:"_findCommonParent",value:function t(e,i){var o=this;var n={};var r;var s=function t(e,i){var n=o.hierarchical.parentReference[i];if(void 0!==n)for(var r=0;r<n.length;r++){var s=n[r];if(void 0!==e[s])return{foundParent:s,withChild:i};var a=t(e,s);if(null!==a.foundParent)return a}return{foundParent:null,withChild:i}};(function t(e,i){var n=o.hierarchical.parentReference[i];if(void 0!==n)for(var r=0;r<n.length;r++){var s=n[r];e[s]=!0;t(e,s)}})(n,e);return s(n,i)}},{key:"setDirectionStrategy",value:function t(){var e="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction;this.direction=e?new y(this):new g(this)}},{key:"_getCenterPosition",value:function t(e){var i=1e9;var o=-1e9;for(var n=0;n<e.length;n++){var r=void 0;if(void 0!==e[n].id)r=e[n];else{var s=e[n];r=this.body.nodes[s]}var a=this.direction.getPosition(r);i=Math.min(i,a);o=Math.max(o,a)}return.5*(i+o)}}]);return t}();e["default"]=_},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});e.VerticalStrategy=e.HorizontalStrategy=void 0;var o;var n=p(i(3));var r;var s=p(i(4));var a;var h=p(i(5));var d;var l=p(i(0));var u;var c=p(i(1));function p(t){return t&&t.__esModule?t:{default:t}}var f=function(){function t(){(0,l["default"])(this,t)}(0,c["default"])(t,[{key:"abstract",value:function t(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function t(){}},{key:"curveType",value:function t(){return this.abstract()}},{key:"getPosition",value:function t(e){this.fake_use(e);return this.abstract()}},{key:"setPosition",value:function t(e,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(e,i,o);this.abstract()}},{key:"getTreeSize",value:function t(e){this.fake_use(e);return this.abstract()}},{key:"sort",value:function t(e){this.fake_use(e);this.abstract()}},{key:"fix",value:function t(e,i){this.fake_use(e,i);this.abstract()}},{key:"shift",value:function t(e,i){this.fake_use(e,i);this.abstract()}}]);return t}();var v=function(t){(0,h["default"])(e,t);function e(t){(0,l["default"])(this,e);var i=(0,s["default"])(this,(e.__proto__||(0,n["default"])(e)).call(this));i.layout=t;return i}(0,c["default"])(e,[{key:"curveType",value:function t(){return"horizontal"}},{key:"getPosition",value:function t(e){return e.x}},{key:"setPosition",value:function t(e,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==o&&this.layout.hierarchical.addToOrdering(e,o);e.x=i}},{key:"getTreeSize",value:function t(e){var i=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:i.min_x,max:i.max_x}}},{key:"sort",value:function t(e){e.sort(function(t,e){if(void 0===t.x||void 0===e.x)return 0;return t.x-e.x})}},{key:"fix",value:function t(e,i){e.y=this.layout.options.hierarchical.levelSeparation*i;e.options.fixed.y=!0}},{key:"shift",value:function t(e,i){this.layout.body.nodes[e].x+=i}}]);return e}(f);var m=function(t){(0,h["default"])(e,t);function e(t){(0,l["default"])(this,e);var i=(0,s["default"])(this,(e.__proto__||(0,n["default"])(e)).call(this));i.layout=t;return i}(0,c["default"])(e,[{key:"curveType",value:function t(){return"vertical"}},{key:"getPosition",value:function t(e){return e.y}},{key:"setPosition",value:function t(e,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==o&&this.layout.hierarchical.addToOrdering(e,o);e.y=i}},{key:"getTreeSize",value:function t(e){var i=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:i.min_y,max:i.max_y}}},{key:"sort",value:function t(e){e.sort(function(t,e){if(void 0===t.y||void 0===e.y)return 0;return t.y-e.y})}},{key:"fix",value:function t(e,i){e.x=this.layout.options.hierarchical.levelSeparation*i;e.options.fixed.x=!0}},{key:"shift",value:function t(e,i){this.layout.body.nodes[e].y+=i}}]);return e}(f);e.HorizontalStrategy=m;e.VerticalStrategy=v},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=p(i(8));var r;var s=p(i(19));var a;var h=p(i(6));var d;var l=p(i(0));var u;var c=p(i(1));function p(t){return t&&t.__esModule?t:{default:t}}var f=i(2);var v=i(10);var m=i(37);var g=function(){function t(e,i,o){var n=this;(0,l["default"])(this,t);this.body=e;this.canvas=i;this.selectionHandler=o;this.editMode=!1;this.manipulationDiv=void 0;this.editModeDiv=void 0;this.closeDiv=void 0;this.manipulationHammers=[];this.temporaryUIFunctions={};this.temporaryEventFunctions=[];this.touchTime=0;this.temporaryIds={nodes:[],edges:[]};this.guiEnabled=!1;this.inMode=!1;this.selectedControlNode=void 0;this.options={};this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}};f.extend(this.options,this.defaultOptions);this.body.emitter.on("destroy",function(){n._clean()});this.body.emitter.on("_dataChanged",this._restore.bind(this));this.body.emitter.on("_resetData",this._restore.bind(this))}(0,c["default"])(t,[{key:"_restore",value:function t(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function t(e,i,o){if(void 0!==i){void 0!==i.locale?this.options.locale=i.locale:this.options.locale=o.locale;void 0!==i.locales?this.options.locales=i.locales:this.options.locales=o.locales}if(void 0!==e){if("boolean"==typeof e)this.options.enabled=e;else{this.options.enabled=!0;f.deepExtend(this.options,e)}!0===this.options.initiallyActive&&(this.editMode=!0);this._setup()}}},{key:"toggleEditMode",value:function t(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function t(){this.editMode=!0;this._clean();if(!0===this.guiEnabled){this.manipulationDiv.style.display="block";this.closeDiv.style.display="block";this.editModeDiv.style.display="none";this.showManipulatorToolbar()}}},{key:"disableEditMode",value:function t(){this.editMode=!1;this._clean();if(!0===this.guiEnabled){this.manipulationDiv.style.display="none";this.closeDiv.style.display="none";this.editModeDiv.style.display="block";this._createEditButton()}}},{key:"showManipulatorToolbar",value:function t(){this._clean();this.manipulationDOM={};if(!0===this.guiEnabled){this.editMode=!0;this.manipulationDiv.style.display="block";this.closeDiv.style.display="block";var e=this.selectionHandler._getSelectedNodeCount();var i=this.selectionHandler._getSelectedEdgeCount();var o=e+i;var n=this.options.locales[this.options.locale];var r=!1;if(!1!==this.options.addNode){this._createAddNodeButton(n);r=!0}if(!1!==this.options.addEdge){!0===r?this._createSeperator(1):r=!0;this._createAddEdgeButton(n)}if(1===e&&"function"==typeof this.options.editNode){!0===r?this._createSeperator(2):r=!0;this._createEditNodeButton(n)}else if(1===i&&0===e&&!1!==this.options.editEdge){!0===r?this._createSeperator(3):r=!0;this._createEditEdgeButton(n)}if(0!==o)if(e>0&&!1!==this.options.deleteNode){!0===r&&this._createSeperator(4);this._createDeleteButton(n)}else if(0===e&&!1!==this.options.deleteEdge){!0===r&&this._createSeperator(4);this._createDeleteButton(n)}this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this));this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function t(){!0!==this.editMode&&this.enableEditMode();this._clean();this.inMode="addNode";if(!0===this.guiEnabled){var e=this.options.locales[this.options.locale];this.manipulationDOM={};this._createBackButton(e);this._createSeperator();this._createDescription(e["addDescription"]||this.options.locales["en"]["addDescription"]);this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function t(){var e=this;!0!==this.editMode&&this.enableEditMode();this._clean();var i=this.selectionHandler._getSelectedNode();if(void 0!==i){this.inMode="editNode";if("function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==i.isCluster){var o=f.deepExtend({},i.options,!1);o.x=i.x;o.y=i.y;if(2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(o,function(t){null!==t&&void 0!==t&&"editNode"===e.inMode&&e.body.data.nodes.getDataSet().update(t);e.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale]["editClusterError"]||this.options.locales["en"]["editClusterError"])}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function t(){!0!==this.editMode&&this.enableEditMode();this._clean();this.inMode="addEdge";if(!0===this.guiEnabled){var e=this.options.locales[this.options.locale];this.manipulationDOM={};this._createBackButton(e);this._createSeperator();this._createDescription(e["edgeDescription"]||this.options.locales["en"]["edgeDescription"]);this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this));this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this));this._temporaryBindUI("onDrag",this._dragControlNode.bind(this));this._temporaryBindUI("onRelease",this._finishConnect.bind(this));this._temporaryBindUI("onDragStart",this._dragStartEdge.bind(this));this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function t(){!0!==this.editMode&&this.enableEditMode();this._clean();this.inMode="editEdge";if("object"===(0,h["default"])(this.options.editEdge)&&"function"==typeof this.options.editEdge.editWithoutDrag){this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0];if(void 0!==this.edgeBeingEditedId){var e=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(e.from,e.to);return}}if(!0===this.guiEnabled){var i=this.options.locales[this.options.locale];this.manipulationDOM={};this._createBackButton(i);this._createSeperator();this._createDescription(i["editEdgeDescription"]||this.options.locales["en"]["editEdgeDescription"]);this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0];if(void 0!==this.edgeBeingEditedId){var o=this.body.edges[this.edgeBeingEditedId];var n=this._getNewTargetNode(o.from.x,o.from.y);var r=this._getNewTargetNode(o.to.x,o.to.y);this.temporaryIds.nodes.push(n.id);this.temporaryIds.nodes.push(r.id);this.body.nodes[n.id]=n;this.body.nodeIndices.push(n.id);this.body.nodes[r.id]=r;this.body.nodeIndices.push(r.id);this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this));this._temporaryBindUI("onTap",function(){});this._temporaryBindUI("onHold",function(){});this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this));this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this));this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this));this._temporaryBindUI("onMouseMove",function(){});this._temporaryBindEvent("beforeDrawing",function(t){var e=o.edgeType.findBorderPositions(t);if(!1===n.selected){n.x=e.from.x;n.y=e.from.y}if(!1===r.selected){r.x=e.to.x;r.y=e.to.y}});this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}},{key:"deleteSelected",value:function t(){var e=this;!0!==this.editMode&&this.enableEditMode();this._clean();this.inMode="delete";var i=this.selectionHandler.getSelectedNodes();var o=this.selectionHandler.getSelectedEdges();var n=void 0;if(i.length>0){for(var r=0;r<i.length;r++)if(!0===this.body.nodes[i[r]].isCluster){alert(this.options.locales[this.options.locale]["deleteClusterError"]||this.options.locales["en"]["deleteClusterError"]);return}"function"==typeof this.options.deleteNode&&(n=this.options.deleteNode)}else o.length>0&&"function"==typeof this.options.deleteEdge&&(n=this.options.deleteEdge);if("function"==typeof n){var s={nodes:i,edges:o};if(2!==n.length)throw new Error("The function for delete does not support two arguments (data, callback)");n(s,function(t){if(null!==t&&void 0!==t&&"delete"===e.inMode){e.body.data.edges.getDataSet().remove(t.edges);e.body.data.nodes.getDataSet().remove(t.nodes);e.body.emitter.emit("startSimulation");e.showManipulatorToolbar()}else{e.body.emitter.emit("startSimulation");e.showManipulatorToolbar()}})}else{this.body.data.edges.getDataSet().remove(o);this.body.data.nodes.getDataSet().remove(i);this.body.emitter.emit("startSimulation");this.showManipulatorToolbar()}}},{key:"_setup",value:function t(){if(!0===this.options.enabled){this.guiEnabled=!0;this._createWrappers();!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()}else{this._removeManipulationDOM();this.guiEnabled=!1}}},{key:"_createWrappers",value:function t(){if(void 0===this.manipulationDiv){this.manipulationDiv=document.createElement("div");this.manipulationDiv.className="vis-manipulation";!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none";this.canvas.frame.appendChild(this.manipulationDiv)}if(void 0===this.editModeDiv){this.editModeDiv=document.createElement("div");this.editModeDiv.className="vis-edit-mode";!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block";this.canvas.frame.appendChild(this.editModeDiv)}if(void 0===this.closeDiv){this.closeDiv=document.createElement("div");this.closeDiv.className="vis-close";this.closeDiv.style.display=this.manipulationDiv.style.display;this.canvas.frame.appendChild(this.closeDiv)}}},{key:"_getNewTargetNode",value:function t(e,i){var o=f.deepExtend({},this.options.controlNodeStyle);o.id="targetNode"+f.randomUUID();o.hidden=!1;o.physics=!1;o.x=e;o.y=i;var n=this.body.functions.createNode(o);n.shape.boundingBox={left:e,right:e,top:i,bottom:i};return n}},{key:"_createEditButton",value:function t(){this._clean();this.manipulationDOM={};f.recursiveDOMDelete(this.editModeDiv);var e=this.options.locales[this.options.locale];var i=this._createButton("editMode","vis-button vis-edit vis-edit-mode",e["edit"]||this.options.locales["en"]["edit"]);this.editModeDiv.appendChild(i);this._bindHammerToDiv(i,this.toggleEditMode.bind(this))}},{key:"_clean",value:function t(){this.inMode=!1;if(!0===this.guiEnabled){f.recursiveDOMDelete(this.editModeDiv);f.recursiveDOMDelete(this.manipulationDiv);this._cleanManipulatorHammers()}this._cleanupTemporaryNodesAndEdges();this._unbindTemporaryUIs();this._unbindTemporaryEvents();this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function t(){if(0!=this.manipulationHammers.length){for(var e=0;e<this.manipulationHammers.length;e++)this.manipulationHammers[e].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function t(){this._clean();f.recursiveDOMDelete(this.manipulationDiv);f.recursiveDOMDelete(this.editModeDiv);f.recursiveDOMDelete(this.closeDiv);this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv);this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv);this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv);this.manipulationDiv=void 0;this.editModeDiv=void 0;this.closeDiv=void 0}},{key:"_createSeperator",value:function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div");this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line";this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function t(e){var i=this._createButton("addNode","vis-button vis-add",e["addNode"]||this.options.locales["en"]["addNode"]);this.manipulationDiv.appendChild(i);this._bindHammerToDiv(i,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function t(e){var i=this._createButton("addEdge","vis-button vis-connect",e["addEdge"]||this.options.locales["en"]["addEdge"]);this.manipulationDiv.appendChild(i);this._bindHammerToDiv(i,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function t(e){var i=this._createButton("editNode","vis-button vis-edit",e["editNode"]||this.options.locales["en"]["editNode"]);this.manipulationDiv.appendChild(i);this._bindHammerToDiv(i,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function t(e){var i=this._createButton("editEdge","vis-button vis-edit",e["editEdge"]||this.options.locales["en"]["editEdge"]);this.manipulationDiv.appendChild(i);this._bindHammerToDiv(i,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function t(e){var i;i=this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete";var o=this._createButton("delete",i,e["del"]||this.options.locales["en"]["del"]);this.manipulationDiv.appendChild(o);this._bindHammerToDiv(o,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function t(e){var i=this._createButton("back","vis-button vis-back",e["back"]||this.options.locales["en"]["back"]);this.manipulationDiv.appendChild(i);this._bindHammerToDiv(i,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function t(e,i,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";this.manipulationDOM[e+"Div"]=document.createElement("div");this.manipulationDOM[e+"Div"].className=i;this.manipulationDOM[e+"Label"]=document.createElement("div");this.manipulationDOM[e+"Label"].className=n;this.manipulationDOM[e+"Label"].innerHTML=o;this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]);return this.manipulationDOM[e+"Div"]}},{key:"_createDescription",value:function t(e){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",e))}},{key:"_temporaryBindEvent",value:function t(e,i){this.temporaryEventFunctions.push({event:e,boundFunction:i});this.body.emitter.on(e,i)}},{key:"_temporaryBindUI",value:function t(e,i){if(void 0===this.body.eventListeners[e])throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+(0,s["default"])((0,n["default"])(this.body.eventListeners)));this.temporaryUIFunctions[e]=this.body.eventListeners[e];this.body.eventListeners[e]=i}},{key:"_unbindTemporaryUIs",value:function t(){for(var e in this.temporaryUIFunctions)if(this.temporaryUIFunctions.hasOwnProperty(e)){this.body.eventListeners[e]=this.temporaryUIFunctions[e];delete this.temporaryUIFunctions[e]}this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function t(){for(var e=0;e<this.temporaryEventFunctions.length;e++){var i=this.temporaryEventFunctions[e].event;var o=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(i,o)}this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function t(e,i){var o=new v(e,{});m.onTouch(o,i);this.manipulationHammers.push(o)}},{key:"_cleanupTemporaryNodesAndEdges",value:function t(){for(var e=0;e<this.temporaryIds.edges.length;e++){this.body.edges[this.temporaryIds.edges[e]].disconnect();delete this.body.edges[this.temporaryIds.edges[e]];var i=this.body.edgeIndices.indexOf(this.temporaryIds.edges[e]);-1!==i&&this.body.edgeIndices.splice(i,1)}for(var o=0;o<this.temporaryIds.nodes.length;o++){delete this.body.nodes[this.temporaryIds.nodes[o]];var n=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[o]);-1!==n&&this.body.nodeIndices.splice(n,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function t(e){this.selectionHandler.unselectAll();this.lastTouch=this.body.functions.getPointer(e.center);this.lastTouch.translation=f.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function t(e){var i=this.lastTouch;var o=this.selectionHandler._pointerToPositionObject(i);var n=this.body.nodes[this.temporaryIds.nodes[0]];var r=this.body.nodes[this.temporaryIds.nodes[1]];var s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var a=n.isOverlappingWith(o);var h=r.isOverlappingWith(o);if(!0===a){this.selectedControlNode=n;s.edgeType.from=n}else if(!0===h){this.selectedControlNode=r;s.edgeType.to=r}void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode);this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function t(e){this.body.emitter.emit("disablePhysics");var i=this.body.functions.getPointer(e.center);var o=this.canvas.DOMtoCanvas(i);if(void 0!==this.selectedControlNode){this.selectedControlNode.x=o.x;this.selectedControlNode.y=o.y}else{var n=i.x-this.lastTouch.x;var r=i.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+n,y:this.lastTouch.translation.y+r}}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function t(e){var i=this.body.functions.getPointer(e.center);var o=this.selectionHandler._pointerToPositionObject(i);var n=this.body.edges[this.edgeBeingEditedId];if(void 0===this.selectedControlNode)return;this.selectionHandler.unselectAll();var r=this.selectionHandler._getAllNodesOverlappingWith(o);var s=void 0;for(var a=r.length-1;a>=0;a--)if(r[a]!==this.selectedControlNode.id){s=this.body.nodes[r[a]];break}if(void 0!==s&&void 0!==this.selectedControlNode)if(!0===s.isCluster)alert(this.options.locales[this.options.locale]["createEdgeError"]||this.options.locales["en"]["createEdgeError"]);else{var h=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===h.id?this._performEditEdge(s.id,n.to.id):this._performEditEdge(n.from.id,s.id)}else{n.updateEdgeType();this.body.emitter.emit("restorePhysics")}this.body.emitter.emit("_redraw")}},{key:"_handleConnect",value:function t(e){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center);this.lastTouch.translation=f.extend({},this.body.view.translation);var i=this.lastTouch;var o=this.selectionHandler.getNodeAt(i);if(void 0!==o)if(!0===o.isCluster)alert(this.options.locales[this.options.locale]["createEdgeError"]||this.options.locales["en"]["createEdgeError"]);else{var n=this._getNewTargetNode(o.x,o.y);this.body.nodes[n.id]=n;this.body.nodeIndices.push(n.id);var r=this.body.functions.createEdge({id:"connectionEdge"+f.randomUUID(),from:o.id,to:n.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[r.id]=r;this.body.edgeIndices.push(r.id);this.temporaryIds.nodes.push(n.id);this.temporaryIds.edges.push(r.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function t(e){var i=this.body.functions.getPointer(e.center);if(void 0!==this.temporaryIds.nodes[0]){var o=this.body.nodes[this.temporaryIds.nodes[0]];o.x=this.canvas._XconvertDOMtoCanvas(i.x);o.y=this.canvas._YconvertDOMtoCanvas(i.y);this.body.emitter.emit("_redraw")}else{var n=i.x-this.lastTouch.x;var r=i.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+n,y:this.lastTouch.translation.y+r}}}},{key:"_finishConnect",value:function t(e){var i=this.body.functions.getPointer(e.center);var o=this.selectionHandler._pointerToPositionObject(i);var n=void 0;void 0!==this.temporaryIds.edges[0]&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);var r=this.selectionHandler._getAllNodesOverlappingWith(o);var s=void 0;for(var a=r.length-1;a>=0;a--)if(-1===this.temporaryIds.nodes.indexOf(r[a])){s=this.body.nodes[r[a]];break}this._cleanupTemporaryNodesAndEdges();void 0!==s&&(!0===s.isCluster?alert(this.options.locales[this.options.locale]["createEdgeError"]||this.options.locales["en"]["createEdgeError"]):void 0!==this.body.nodes[n]&&void 0!==this.body.nodes[s.id]&&this._performAddEdge(n,s.id));this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function t(e){var i=this.lastTouch;this.selectionHandler._generateClickEvent("dragStart",e,i,void 0,!0)}},{key:"_performAddNode",value:function t(e){var i=this;var o={id:f.randomUUID(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length){this.showManipulatorToolbar();throw new Error("The function for add does not support two arguments (data,callback)")}this.options.addNode(o,function(t){if(null!==t&&void 0!==t&&"addNode"===i.inMode){i.body.data.nodes.getDataSet().add(t);i.showManipulatorToolbar()}})}else{this.body.data.nodes.getDataSet().add(o);this.showManipulatorToolbar()}}},{key:"_performAddEdge",value:function t(e,i){var o=this;var n={from:e,to:i};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(n,function(t){if(null!==t&&void 0!==t&&"addEdge"===o.inMode){o.body.data.edges.getDataSet().add(t);o.selectionHandler.unselectAll();o.showManipulatorToolbar()}})}else{this.body.data.edges.getDataSet().add(n);this.selectionHandler.unselectAll();this.showManipulatorToolbar()}}},{key:"_performEditEdge",value:function t(e,i){var o=this;var n={id:this.edgeBeingEditedId,from:e,to:i,label:this.body.data.edges._data[this.edgeBeingEditedId].label};var r=this.options.editEdge;"object"===(void 0===r?"undefined":(0,h["default"])(r))&&(r=r.editWithoutDrag);if("function"==typeof r){if(2!==r.length)throw new Error("The function for edit does not support two arguments (data, callback)");r(n,function(t){if(null===t||void 0===t||"editEdge"!==o.inMode){o.body.edges[n.id].updateEdgeType();o.body.emitter.emit("_redraw");o.showManipulatorToolbar()}else{o.body.data.edges.getDataSet().update(t);o.selectionHandler.unselectAll();o.showManipulatorToolbar()}})}else{this.body.data.edges.getDataSet().update(n);this.selectionHandler.unselectAll();this.showManipulatorToolbar()}}}]);return t}();e["default"]=g},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=u(i(30));var r;var s=u(i(0));var a;var h=u(i(1));var d;var l=u(i(239));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(e,i,o){(0,s["default"])(this,t);this.body=e;this.springLength=i;this.springConstant=o;this.distanceSolver=new l["default"]}(0,h["default"])(t,[{key:"setOptions",value:function t(e){if(e){e.springLength&&(this.springLength=e.springLength);e.springConstant&&(this.springConstant=e.springConstant)}}},{key:"solve",value:function t(e,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var r=this.distanceSolver.getDistances(this.body,e,i);this._createL_matrix(r);this._createK_matrix(r);this._createE_matrix();var s=.01;var a=1;var h=0;var d=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3));var l=5;var u=1e9;var c=0,p=0,f=0,v=0,m=0;for(;u>.01&&h<d;){h+=1;var g=this._getHighestEnergyNode(o);var y=(0,n["default"])(g,4);c=y[0];u=y[1];p=y[2];f=y[3];v=u;m=0;for(;v>1&&m<5;){m+=1;this._moveNode(c,p,f);var b=this._getEnergy(c);var _=(0,n["default"])(b,3);v=_[0];p=_[1];f=_[2]}}}},{key:"_getHighestEnergyNode",value:function t(e){var i=this.body.nodeIndices;var o=this.body.nodes;var r=0;var s=i[0];var a=0,h=0;for(var d=0;d<i.length;d++){var l=i[d];if(!1===o[l].predefinedPosition||!0===o[l].isCluster&&!0===e||!0===o[l].options.fixed.x||!0===o[l].options.fixed.y){var u=this._getEnergy(l),c=(0,n["default"])(u,3),p=c[0],f=c[1],v=c[2];if(r<p){r=p;s=l;a=f;h=v}}}return[s,r,a,h]}},{key:"_getEnergy",value:function t(e){var i=(0,n["default"])(this.E_sums[e],2),o=i[0],r=i[1];var s;return[Math.sqrt(Math.pow(o,2)+Math.pow(r,2)),o,r]}},{key:"_moveNode",value:function t(e,i,o){var n=this.body.nodeIndices;var r=this.body.nodes;var s=0;var a=0;var h=0;var d=r[e].x;var l=r[e].y;var u=this.K_matrix[e];var c=this.L_matrix[e];for(var p=0;p<n.length;p++){var f=n[p];if(f!==e){var v=r[f].x;var m=r[f].y;var g=u[f];var y=c[f];var b=1/Math.pow(Math.pow(d-v,2)+Math.pow(l-m,2),1.5);s+=g*(1-y*Math.pow(l-m,2)*b);a+=g*(y*(d-v)*(l-m)*b);h+=g*(1-y*Math.pow(d-v,2)*b)}}var _=s,w=a,x=i,k,S;var D=(i/s+o/a)/(a/s-h/a);var O=-(a*D+i)/s;r[e].x+=O;r[e].y+=D;this._updateE_matrix(e)}},{key:"_createL_matrix",value:function t(e){var i=this.body.nodeIndices;var o=this.springLength;this.L_matrix=[];for(var n=0;n<i.length;n++){this.L_matrix[i[n]]={};for(var r=0;r<i.length;r++)this.L_matrix[i[n]][i[r]]=o*e[i[n]][i[r]]}}},{key:"_createK_matrix",value:function t(e){var i=this.body.nodeIndices;var o=this.springConstant;this.K_matrix=[];for(var n=0;n<i.length;n++){this.K_matrix[i[n]]={};for(var r=0;r<i.length;r++)this.K_matrix[i[n]][i[r]]=o*Math.pow(e[i[n]][i[r]],-2)}}},{key:"_createE_matrix",value:function t(){var e=this.body.nodeIndices;var i=this.body.nodes;this.E_matrix={};this.E_sums={};for(var o=0;o<e.length;o++)this.E_matrix[e[o]]=[];for(var n=0;n<e.length;n++){var r=e[n];var s=i[r].x;var a=i[r].y;var h=0;var d=0;for(var l=n;l<e.length;l++){var u=e[l];if(u!==r){var c=i[u].x;var p=i[u].y;var f=1/Math.sqrt(Math.pow(s-c,2)+Math.pow(a-p,2));this.E_matrix[r][l]=[this.K_matrix[r][u]*(s-c-this.L_matrix[r][u]*(s-c)*f),this.K_matrix[r][u]*(a-p-this.L_matrix[r][u]*(a-p)*f)];this.E_matrix[u][n]=this.E_matrix[r][l];h+=this.E_matrix[r][l][0];d+=this.E_matrix[r][l][1]}}this.E_sums[r]=[h,d]}}},{key:"_updateE_matrix",value:function t(e){var i=this.body.nodeIndices;var o=this.body.nodes;var n=this.E_matrix[e];var r=this.K_matrix[e];var s=this.L_matrix[e];var a=o[e].x;var h=o[e].y;var d=0;var l=0;for(var u=0;u<i.length;u++){var c=i[u];if(c!==e){var p=n[u];var f=p[0];var v=p[1];var m=o[c].x;var g=o[c].y;var y=1/Math.sqrt(Math.pow(a-m,2)+Math.pow(h-g,2));var b=r[c]*(a-m-s[c]*(a-m)*y);var _=r[c]*(h-g-s[c]*(h-g)*y);n[u]=[b,_];d+=b;l+=_;var w=this.E_sums[c];w[0]+=b-f;w[1]+=_-v}}this.E_sums[e]=[d,l]}}]);return t}();e["default"]=c},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var o;var n=a(i(0));var r;var s=a(i(1));function a(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(){(0,n["default"])(this,t)}(0,s["default"])(t,[{key:"getDistances",value:function t(e,i,o){var n={};var r=e.edges;for(var s=0;s<i.length;s++){var a;var h={};n[i[s]]=h;for(var d=0;d<i.length;d++)h[i[d]]=s==d?0:1e9}for(var l=0;l<o.length;l++){var u=r[o[l]];if(!0===u.connected&&void 0!==n[u.fromId]&&void 0!==n[u.toId]){n[u.fromId][u.toId]=1;n[u.toId][u.fromId]=1}}var c=i.length;for(var p=0;p<c;p++){var f=i[p];var v=n[f];for(var m=0;m<c-1;m++){var g=i[m];var y=n[g];for(var b=m+1;b<c;b++){var _=i[b];var w=n[_];var x=Math.min(y[_],y[f]+v[_]);y[_]=x;w[g]=x}}}return n}}]);return t}();e["default"]=h}])})},SN9N:function(t,e,i){var o=i("Dh2Y"),n=i("dIZa");function r(t,e,i){(void 0===i||n(t[e],i))&&(void 0!==i||e in t)||o(t,e,i)}t.exports=r},Sq4h:function(t,e,i){var o=i("QDPn"),n=i("9aUh");function r(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=o(t.prototype),r=t.apply(i,e);return n(r)?r:i}}t.exports=r},TSPQ:function(t,e,i){var o=i("s3t7"),n=i("T9Ud");var r="[object WeakMap]";function s(t){return n(t)&&o(t)==r}t.exports=s},UzdM:function(t,e,i){var o=i("j6ZD");var n=1/0,r=1.7976931348623157e308;function s(t){if(!t)return 0===t?t:0;if((t=o(t))===n||t===-n){var e;return(t<0?-1:1)*r}return t==t?t:0}t.exports=s},V2ZB:function(t,e,i){var o=i("F3Ab"),n=i("Dh2Y");function r(t,e,i,r){var s=!i;i||(i={});var a=-1,h=e.length;for(;++a<h;){var d=e[a];var l=r?r(i[d],t[d],d,i,t):void 0;void 0===l&&(l=t[d]);s?n(i,d,l):o(i,d,l)}return i}t.exports=r},VbZR:function(t,e){function i(t){return t!=t}t.exports=i},Vujp:function(t,e,i){var o=i("6iN7"),n=i("lgYy"),r=i("SyCk");function s(t){return r(t)?o(t,!0):n(t)}t.exports=s},VveD:function(t,e,i){var o=i("fRAL"),n=i("Sq4h"),r=i("s3UK");var s=1;function a(t,e,i,a){var h=e&s,d=n(t);function l(){var e=-1,n=arguments.length,s=-1,u=a.length,c=Array(u+n),p=this&&this!==r&&this instanceof l?d:t;for(;++s<u;)c[s]=a[s];for(;n--;)c[s++]=arguments[++e];return o(p,h?i:this,c)}return l}t.exports=a},WKuG:function(t,e,i){var o=i("mzbm"),n=i("IqJI"),r=i("bim0"),s=i("nxZd"),a=i("mH3y");var h=r(function(t,e){var i=a(e);s(i)&&(i=void 0);return s(t)?o(t,n(e,1,s,!0),void 0,i):[]});t.exports=h},"WMT/":function(t,e){function i(t,e){var i=-1,o=null==t?0:t.length;for(;++i<o&&!1!==e(t[i],i,t););return t}t.exports=i},WYPT:function(t,e,i){var o=i("JpX9");var n=8;function r(t,e,i){var s=o(t,n,void 0,void 0,void 0,void 0,void 0,e=i?void 0:e);s.placeholder=r.placeholder;return s}r.placeholder={};t.exports=r},X3Hh:function(t,e,i){var o=i("QDPn"),n=i("iZmY");function r(t,e){this.__wrapped__=t;this.__actions__=[];this.__chain__=!!e;this.__index__=0;this.__values__=void 0}r.prototype=o(n.prototype);r.prototype.constructor=r;t.exports=r},XA32:function(t,e){function i(t){var e;return t.placeholder}t.exports=i},YODn:function(t,e,i){var o=i("JpX9"),n;var r=256;var s=i("yF7r")(function(t,e){return o(t,256,void 0,void 0,void 0,e)});t.exports=s},ZPhZ:function(t,e,i){var o=i("fRAL"),n=i("Sq4h"),r=i("ySkN"),s=i("97Yx"),a=i("XA32"),h=i("cud3"),d=i("s3UK");function l(t,e,i){var l=n(t);function u(){var n=arguments.length,c=Array(n),p=n,f=a(u);for(;p--;)c[p]=arguments[p];var v=n<3&&c[0]!==f&&c[n-1]!==f?[]:h(c,f);if((n-=v.length)<i)return s(t,e,r,u.placeholder,void 0,c,v,void 0,void 0,i-n);var m;return o(this&&this!==d&&this instanceof u?l:t,this,c)}return u}t.exports=l},ZjZ4:function(t,e,i){var o=i("IqJI");function n(t){var e;return(null==t?0:t.length)?o(t,1):[]}t.exports=n},aCmY:function(t,e){function i(t,e,i,o){var n=t.length,r=i+(o?1:-1);for(;o?r--:++r<n;)if(e(t[r],r,t))return r;return-1}t.exports=i},bim0:function(t,e,i){var o=i("yoW1"),n=i("B4Jh"),r=i("yqAG");function s(t,e){return r(n(t,e,o),t+"")}t.exports=s},c2OK:function(t,e,i){var o=i("fVd2"),n=i("BKxz"),r=i("yqAG"),s=i("KAl/");function a(t,e,i){var a=e+"";return r(t,n(a,s(o(a),i)))}t.exports=a},cud3:function(t,e){var i="__lodash_placeholder__";function o(t,e){var o=-1,n=t.length,r=0,s=[];for(;++o<n;){var a=t[o];if(a===e||a===i){t[o]=i;s[r++]=o}}return s}t.exports=o},e766:function(t,e){function i(t,e){var i=-1,o=t.length;e||(e=Array(o));for(;++i<o;)e[i]=t[i];return e}t.exports=i},eEf8:function(t,e,i){var o=i("yoW1"),n=i("EKeD");var r=n?function(t,e){n.set(t,e);return t}:o;t.exports=r},"f/Xo":function(t,e){function i(t){return function(){return t}}t.exports=i},fRAL:function(t,e){function i(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}t.exports=i},fVd2:function(t,e){var i=/\{\n\/\* \[wrapped with (.+)\] \*/,o=/,? & /;function n(t){var e=t.match(i);return e?e[1].split(o):[]}t.exports=n},fjdK:function(t,e,i){var o=i("jcrF"),n=i("X3Hh"),r=i("iZmY"),s=i("PqlX"),a=i("T9Ud"),h=i("wXp5");var d;var l=Object.prototype.hasOwnProperty;function u(t){if(a(t)&&!s(t)&&!(t instanceof o)){if(t instanceof n)return t;if(l.call(t,"__wrapped__"))return h(t)}return new n(t)}u.prototype=r.prototype;u.prototype.constructor=u;t.exports=u},i3Pe:function(t,e,i){var o=i("2xEH"),n=i("Qwyb"),r=i("cud3");var s="__lodash_placeholder__";var a=1,h=2,d=4,l=8,u=128,c=256;var p=Math.min;function f(t,e){var i=t[1],f=e[1],v=i|f,m=v<(a|h|u);var g=f==u&&i==l||f==u&&i==c&&t[7].length<=e[8]||f==(u|c)&&e[7].length<=e[8]&&i==l;if(!m&&!g)return t;if(f&a){t[2]=e[2];v|=i&a?0:d}var y=e[3];if(y){var b=t[3];t[3]=b?o(b,y,e[4]):y;t[4]=b?r(t[3],s):e[4]}if(y=e[5]){b=t[5];t[5]=b?n(b,y,e[6]):y;t[6]=b?r(t[5],s):e[6]}(y=e[7])&&(t[7]=y);f&u&&(t[8]=null==t[8]?e[8]:p(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0];t[1]=v;return t}t.exports=f},iXK7:function(t,e,i){var o=i("naAV"),n=i("5+lF"),r=i("7qnD"),s=i("G9gt"),a=i("vvBr");var h="[object Boolean]",d="[object Date]",l="[object Map]",u="[object Number]",c="[object RegExp]",p="[object Set]",f="[object String]",v="[object Symbol]";var m="[object ArrayBuffer]",g="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",_="[object Int8Array]",w="[object Int16Array]",x="[object Int32Array]",k="[object Uint8Array]",S="[object Uint8ClampedArray]",D="[object Uint16Array]",O="[object Uint32Array]";function M(t,e,i){var M=t.constructor;switch(e){case m:return o(t);case h:case d:return new M(+t);case g:return n(t,i);case y:case b:case _:case w:case x:case k:case S:case D:case O:return a(t,i);case l:return new M;case u:case f:return new M(t);case c:return r(t);case p:return new M;case v:return s(t)}}t.exports=M},iZmY:function(t,e){function i(){}t.exports=i},ii79:function(t,e,i){var o=i("NmMy"),n=i("e766"),r=i("PqlX"),s=i("zXe4"),a=i("ULAX"),h=i("cTHi"),d=i("zYYD");function l(t){if(r(t))return o(t,h);return s(t)?[t]:n(a(d(t)))}t.exports=l},j6ZD:function(t,e,i){var o=i("9aUh"),n=i("zXe4");var r=NaN;var s=/^\s+|\s+$/g;var a=/^[-+]0x[0-9a-f]+$/i;var h=/^0b[01]+$/i;var d=/^0o[0-7]+$/i;var l=parseInt;function u(t){if("number"==typeof t)return t;if(n(t))return r;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var i=h.test(t);return i||d.test(t)?l(t.slice(2),i?2:8):a.test(t)?r:+t}t.exports=u},jcrF:function(t,e,i){var o=i("QDPn"),n=i("iZmY");var r=4294967295;function s(t){this.__wrapped__=t;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=[];this.__takeCount__=r;this.__views__=[]}s.prototype=o(n.prototype);s.prototype.constructor=s;t.exports=s},"l3+0":function(t,e,i){var o=i("ofiy");function n(t,e){var i;return!!(null==t?0:t.length)&&o(t,e,0)>-1}t.exports=n},l7Do:function(t,e,i){var o=i("WRuO"),n=i("SN9N"),r=i("EN0E"),s=i("ONOI"),a=i("9aUh"),h=i("Vujp"),d=i("Bq5F");function l(t,e,i,u,c){if(t===e)return;r(e,function(r,h){if(a(r)){c||(c=new o);s(t,e,h,i,l,u,c)}else{var p=u?u(d(t,h),r,h+"",t,e,c):void 0;void 0===p&&(p=r);n(t,h,p)}},h)}t.exports=l},lLPU:function(t,e,i){var o=i("f/Xo"),n=i("YaJL"),r=i("yoW1");var s=n?function(t,e){return n(t,"toString",{configurable:!0,enumerable:!1,value:o(e),writable:!0})}:r;t.exports=s},lgYy:function(t,e,i){var o=i("9aUh"),n=i("jL4t"),r=i("6758");var s;var a=Object.prototype.hasOwnProperty;function h(t){if(!o(t))return r(t);var e=n(t),i=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&i.push(s);return i}t.exports=h},m5HO:function(t,e){e.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"};e.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]};e.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]};e.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2};e.iterateeRearg={mapKeys:[1],reduceRight:[1,0]};e.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]};e.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}};e.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}};e.realToAlias=function(){var t=Object.prototype.hasOwnProperty,i=e.aliasToReal,o={};for(var n in i){var r=i[n];t.call(o,r)?o[r].push(n):o[r]=[n]}return o}();e.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"};e.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0};e.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},mH3y:function(t,e){function i(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}t.exports=i},mzbm:function(t,e,i){var o=i("GE03"),n=i("l3+0"),r=i("BAZ7"),s=i("NmMy"),a=i("TsNJ"),h=i("+165");var d=200;function l(t,e,i,l){var u=-1,c=n,p=!0,f=t.length,v=[],m=e.length;if(!f)return v;i&&(e=s(e,a(i)));if(l){c=r;p=!1}else if(e.length>=d){c=h;p=!1;e=new o(e)}t:for(;++u<f;){var g=t[u],y=null==i?g:i(g);g=l||0!==g?g:0;if(p&&y==y){var b=m;for(;b--;)if(e[b]===y)continue t;v.push(g)}else c(e,y,l)||v.push(g)}return v}t.exports=l},n7Nx:function(t,e,i){var o=i("Sq4h"),n=i("s3UK");var r=1;function s(t,e,i){var s=e&r,a=o(t);function h(){var e;return(this&&this!==n&&this instanceof h?a:t).apply(s?i:this,arguments)}return h}t.exports=s},naAV:function(t,e,i){var o=i("KjZ+");function n(t){var e=new t.constructor(t.byteLength);new o(e).set(new o(t));return e}t.exports=n},nxZd:function(t,e,i){var o=i("SyCk"),n=i("T9Ud");function r(t){return n(t)&&o(t)}t.exports=r},oagz:function(t,e){function i(t,e,i){var o=i-1,n=t.length;for(;++o<n;)if(t[o]===e)return o;return-1}t.exports=i},ofiy:function(t,e,i){var o=i("aCmY"),n=i("VbZR"),r=i("oagz");function s(t,e,i){return e==e?r(t,e,i):o(t,n,i)}t.exports=s},ohHe:function(t,e,i){var o=i("GI0s"),n=i("T9Ud"),r=i("NfLg");var s="[object DOMException]",a="[object Error]";function h(t){if(!n(t))return!1;var e=o(t);return e==a||e==s||"string"==typeof t.message&&"string"==typeof t.name&&!r(t)}t.exports=h},scUu:function(t,e,i){t.exports={ary:i("MNFw"),assign:i("wnk4"),clone:i("5u71"),curry:i("WYPT"),forEach:i("WMT/"),isArray:i("PqlX"),isError:i("ohHe"),isFunction:i("RqPZ"),isWeakMap:i("TSPQ"),iteratee:i("vft2"),keys:i("Lalj"),rearg:i("YODn"),toInteger:i("LF0y"),toPath:i("ii79")}},u7St:function(t,e){var i=800,o=16;var n=Date.now;function r(t){var e=0,r=0;return function(){var s=n(),a=o-(s-r);r=s;if(a>0){if(++e>=i)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}t.exports=r},vDbd:function(t,e,i){var o=i("V2ZB"),n=i("Vujp");function r(t){return o(t,n(t))}t.exports=r},vft2:function(t,e,i){var o=i("0711"),n=i("tDyL");var r=1;function s(t){return n("function"==typeof t?t:o(t,r))}t.exports=s},vmN6:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1;o.configurable=!0;"value"in o&&(o.writable=!0);Object.defineProperty(t,o.key,o)}}return function(e,i,o){i&&t(e.prototype,i);o&&t(e,o);return e}}();var n=i("cDcd");var r=y(n);var s;var a=y(i("Jgwr"));var h;var d=y(i("/gfI"));var l;var u=y(i("WKuG"));var c;var p=y(i("RzDO"));var f;var v=y(i("wR9u"));var m;var g=y(i("W0B4"));function y(t){return t&&t.__esModule?t:{default:t}}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function w(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var x=function(t){w(e,t);function e(t){b(this,e);var i=_(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));var o=t.identifier;i.updateGraph=i.updateGraph.bind(i);i.state={identifier:void 0!==o?o:v.default.v4()};return i}o(e,[{key:"componentDidMount",value:function t(){this.edges=new p.default.DataSet;this.edges.add(this.props.graph.edges);this.nodes=new p.default.DataSet;this.nodes.add(this.props.graph.nodes);this.updateGraph()}},{key:"shouldComponentUpdate",value:function t(e,i){var o=!(0,d.default)(this.props.graph.nodes,e.graph.nodes);var n=!(0,d.default)(this.props.graph.edges,e.graph.edges);var r=!(0,d.default)(this.props.options,e.options);var s=!(0,d.default)(this.props.events,e.events);if(o){var a=function t(e,i){return e.id===i.id};var h=(0,u.default)(this.props.graph.nodes,e.graph.nodes,a);var l=(0,u.default)(e.graph.nodes,this.props.graph.nodes,a);var c=(0,u.default)((0,u.default)(e.graph.nodes,this.props.graph.nodes,d.default),l);this.patchNodes({nodesRemoved:h,nodesAdded:l,nodesChanged:c})}if(n){var p=(0,u.default)(this.props.graph.edges,e.graph.edges,d.default);var f=(0,u.default)(e.graph.edges,this.props.graph.edges,d.default);this.patchEdges({edgesRemoved:p,edgesAdded:f})}r&&this.Network.setOptions(e.options);if(s){var v=this.props.events||{};var m=!0;var g=!1;var y=void 0;try{for(var b=Object.keys(v)[Symbol.iterator](),_;!(m=(_=b.next()).done);m=!0){var w=_.value;this.Network.off(w,v[w])}}catch(t){g=!0;y=t}finally{try{!m&&b.return&&b.return()}finally{if(g)throw y}}v=e.events||{};var x=!0;var k=!1;var S=void 0;try{for(var D=Object.keys(v)[Symbol.iterator](),O;!(x=(O=D.next()).done);x=!0){var M=O.value;this.Network.on(M,v[M])}}catch(t){k=!0;S=t}finally{try{!x&&D.return&&D.return()}finally{if(k)throw S}}}return!1}},{key:"componentDidUpdate",value:function t(){this.updateGraph()}},{key:"patchEdges",value:function t(e){var i=e.edgesRemoved,o=e.edgesAdded;this.edges.remove(i);this.edges.add(o)}},{key:"patchNodes",value:function t(e){var i=e.nodesRemoved,o=e.nodesAdded,n=e.nodesChanged;this.nodes.remove(i);this.nodes.add(o);this.nodes.update(n)}},{key:"updateGraph",value:function t(){var e=document.getElementById(this.state.identifier);var i={physics:{stabilization:!1},autoResize:!1,edges:{smooth:!1,color:"#000000",width:.5,arrows:{to:{enabled:!0,scaleFactor:.5}}}};var o=(0,a.default)(i,this.props.options);this.Network=new p.default.Network(e,Object.assign({},this.props.graph,{edges:this.edges,nodes:this.nodes}),o);this.props.getNetwork&&this.props.getNetwork(this.Network);this.props.getNodes&&this.props.getNodes(this.nodes);var n=this.props.events||{};var r=!0;var s=!1;var h=void 0;try{for(var d=Object.keys(n)[Symbol.iterator](),l;!(r=(l=d.next()).done);r=!0){var u=l.value;this.Network.on(u,n[u])}}catch(t){s=!0;h=t}finally{try{!r&&d.return&&d.return()}finally{if(s)throw h}}}},{key:"render",value:function t(){var e=this.state.identifier;var i=this.props.style;return r.default.createElement("div",{id:e,style:i},e)}}]);return e}(n.Component);x.defaultProps={graph:{},style:{width:"100%",height:"100%"}};x.propTypes={graph:g.default.object,style:g.default.object,getNetwork:g.default.func,getNodes:g.default.func};e.default=x},vvBr:function(t,e,i){var o=i("naAV");function n(t,e){var i=e?o(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}t.exports=n},wR9u:function(t,e,i){var o=i("RUdz");var n=[];var r={};for(var s=0;s<256;s++){n[s]=(s+256).toString(16).substr(1);r[n[s]]=s}function a(t,e,i){var o=e&&i||0,n=0;e=e||[];t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){n<16&&(e[o+n++]=r[t])});for(;n<16;)e[o+n++]=0;return e}function h(t,e){var i=e||0,o=n;return o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]}var d=o();var l=[1|d[0],d[1],d[2],d[3],d[4],d[5]];var u=16383&(d[6]<<8|d[7]);var c=0,p=0;function f(t,e,i){var o=e&&i||0;var n=e||[];var r=void 0!==(t=t||{}).clockseq?t.clockseq:u;var s=void 0!==t.msecs?t.msecs:(new Date).getTime();var a=void 0!==t.nsecs?t.nsecs:p+1;var d=s-c+(a-p)/1e4;d<0&&void 0===t.clockseq&&(r=r+1&16383);(d<0||s>c)&&void 0===t.nsecs&&(a=0);if(a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=s;p=a;u=r;var f=(1e4*(268435455&(s+=122192928e5))+a)%4294967296;n[o++]=f>>>24&255;n[o++]=f>>>16&255;n[o++]=f>>>8&255;n[o++]=255&f;var v=s/4294967296*1e4&268435455;n[o++]=v>>>8&255;n[o++]=255&v;n[o++]=v>>>24&15|16;n[o++]=v>>>16&255;n[o++]=r>>>8|128;n[o++]=255&r;var m=t.node||l;for(var g=0;g<6;g++)n[o+g]=m[g];return e||h(n)}function v(t,e,i){var n=e&&i||0;if("string"==typeof t){e="binary"==t?new Array(16):null;t=null}var r=(t=t||{}).random||(t.rng||o)();r[6]=15&r[6]|64;r[8]=63&r[8]|128;if(e)for(var s=0;s<16;s++)e[n+s]=r[s];return e||h(r)}var m=v;m.v1=f;m.v4=v;m.parse=a;m.unparse=h;t.exports=m},wXp5:function(t,e,i){var o=i("jcrF"),n=i("X3Hh"),r=i("e766");function s(t){if(t instanceof o)return t.clone();var e=new n(t.__wrapped__,t.__chain__);e.__actions__=r(t.__actions__);e.__index__=t.__index__;e.__values__=t.__values__;return e}t.exports=s},wnk4:function(t,e,i){var o=i("V2ZB"),n=i("h0av");function r(t,e){return t&&o(e,n(e),t)}t.exports=r},x7dA:function(t,e,i){var o=i("e766"),n=i("q+I6");var r=Math.min;function s(t,e){var i=t.length,s=r(e.length,i),a=o(t);for(;s--;){var h=e[s];t[s]=n(h,i)?a[h]:void 0}return t}t.exports=s},yF7r:function(t,e,i){var o=i("ZjZ4"),n=i("B4Jh"),r=i("yqAG");function s(t){return r(n(t,void 0,o),t+"")}t.exports=s},ySkN:function(t,e,i){var o=i("2xEH"),n=i("Qwyb"),r=i("DlYZ"),s=i("Sq4h"),a=i("97Yx"),h=i("XA32"),d=i("x7dA"),l=i("cud3"),u=i("s3UK");var c=1,p=2,f=8,v=16,m=128,g=512;function y(t,e,i,b,_,w,x,k,S,D){var O=e&m,M=e&c,C=e&p,E=e&(f|v),T=e&g,P=C?void 0:s(t);function I(){var c=arguments.length,p=Array(c),f=c;for(;f--;)p[f]=arguments[f];if(E)var v=h(I),m=r(p,v);b&&(p=o(p,b,_,E));w&&(p=n(p,w,x,E));c-=m;if(E&&c<D){var g=l(p,v);return a(t,e,y,I.placeholder,i,p,g,k,S,D-c)}var N=M?i:this,A=C?N[t]:t;c=p.length;k?p=d(p,k):T&&c>1&&p.reverse();O&&S<c&&(p.length=S);this&&this!==u&&this instanceof I&&(A=P||s(A));return A.apply(N,p)}return I}t.exports=y},yqAG:function(t,e,i){var o=i("lLPU"),n;var r=i("u7St")(o);t.exports=r},zIph:function(t,e,i){var o=i("6TGQ"),n=i("B4/L"),r=i("Vujp");function s(t){return o(t,r,n)}t.exports=s},zlak:function(t,e,i){var o=i("s3t7"),n=i("T9Ud");var r="[object Set]";function s(t){return n(t)&&o(t)==r}t.exports=s},zm72:function(t,e,i){var o=i("m5HO"),n=i("IOY3");var r=Array.prototype.push;function s(t,e){return 2==e?function(e,i){return t.apply(void 0,arguments)}:function(e){return t.apply(void 0,arguments)}}function a(t,e){return 2==e?function(e,i){return t(e,i)}:function(e){return t(e)}}function h(t){var e=t?t.length:0,i=Array(e);for(;e--;)i[e]=t[e];return i}function d(t){return function(e){return t({},e)}}function l(t,e){return function(){var i=arguments.length,o=i-1,n=Array(i);for(;i--;)n[i]=arguments[i];var s=n[e],a=n.slice(0,e);s&&r.apply(a,s);e!=o&&r.apply(a,n.slice(e+1));return t.apply(this,a)}}function u(t,e){return function(){var i=arguments.length;if(!i)return;var o=Array(i);for(;i--;)o[i]=arguments[i];var n=o[0]=e.apply(void 0,o);t.apply(void 0,o);return n}}function c(t,e,i,r){var p="function"==typeof e,f=e===Object(e);if(f){r=i;i=e;e=void 0}if(null==i)throw new TypeError;r||(r={});var v={cap:!("cap"in r)||r.cap,curry:!("curry"in r)||r.curry,fixed:!("fixed"in r)||r.fixed,immutable:!("immutable"in r)||r.immutable,rearg:!("rearg"in r)||r.rearg};var m=p?i:n,g="curry"in r&&r.curry,y="fixed"in r&&r.fixed,b="rearg"in r&&r.rearg,_=p?i.runInContext():void 0;var w=p?i:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath};var x=w.ary,k=w.assign,S=w.clone,D=w.curry,O=w.forEach,M=w.isArray,C=w.isError,E=w.isFunction,T=w.isWeakMap,P=w.keys,I=w.rearg,N=w.toInteger,A=w.toPath;var R=P(o.aryMethod);var z={castArray:function(t){return function(){var e=arguments[0];return M(e)?t(h(e)):t.apply(void 0,arguments)}},iteratee:function(t){return function(){var e=arguments[0],i=arguments[1],o=t(e,i),n=o.length;if(v.cap&&"number"==typeof i){i=i>2?i-2:1;return n&&n<=i?o:a(o,i)}return o}},mixin:function(t){return function(e){var i=this;if(!E(i))return t(i,Object(e));var o=[];O(P(e),function(t){E(e[t])&&o.push([t,i.prototype[t]])});t(i,Object(e));O(o,function(t){var e=t[1];E(e)?i.prototype[t[0]]=e:delete i.prototype[t[0]]});return i}},nthArg:function(t){return function(e){var i=e<0?1:N(e)+1;return D(t(e),i)}},rearg:function(t){return function(e,i){var o=i?i.length:0;return D(t(e,i),o)}},runInContext:function(e){return function(i){return c(t,e(i),r)}}};function L(t,e){if(v.cap){var i=o.iterateeRearg[t];if(i)return V(e,i);var n=!p&&o.iterateeAry[t];if(n)return G(e,n)}return e}function F(t,e,i){return g||v.curry&&i>1?D(e,i):e}function B(t,e,i){if(v.fixed&&(y||!o.skipFixed[t])){var n=o.methodSpread[t],r=n&&n.start;return void 0===r?x(e,i):l(e,r)}return e}function j(t,e,i){return v.rearg&&i>1&&(b||!o.skipRearg[t])?I(e,o.methodRearg[t]||o.aryRearg[i]):e}function H(t,e){var i=-1,o=(e=A(e)).length,n=o-1,r=S(Object(t)),s=r;for(;null!=s&&++i<o;){var a=e[i],h=s[a];null==h||E(h)||C(h)||T(h)||(s[a]=S(i==n?h:Object(h)));s=s[a]}return r}function W(t){return X.runInContext.convert(t)(void 0)}function Y(t,e){var i=o.aliasToReal[t]||t,n=o.remap[i]||i,s=r;return function(t){var o=p?_:w,r=p?_[n]:e,a=k(k({},s),t);return c(o,i,r,a)}}function G(t,e){return U(t,function(t){return"function"==typeof t?a(t,e):t})}function V(t,e){return U(t,function(t){var i=e.length;return s(I(a(t,i),e),i)})}function U(t,e){return function(){var i=arguments.length;if(!i)return t();var o=Array(i);for(;i--;)o[i]=arguments[i];var n=v.rearg?0:i-1;o[n]=e(o[n]);return t.apply(void 0,o)}}function q(t,e,i){var n,r=o.aliasToReal[t]||t,s=e,a=z[r];a?s=a(e):v.immutable&&(o.mutate.array[r]?s=u(e,h):o.mutate.object[r]?s=u(e,d(e)):o.mutate.set[r]&&(s=u(e,H)));O(R,function(t){O(o.aryMethod[t],function(e){if(r==e){var i=o.methodSpread[r],a=i&&i.afterRearg;n=a?B(r,j(r,s,t),t):j(r,B(r,s,t),t);n=L(r,n);n=F(r,n,t);return!1}});return!n});n||(n=s);n==e&&(n=g?D(n,1):function(){return e.apply(this,arguments)});n.convert=Y(r,e);n.placeholder=e.placeholder=i;return n}if(!f)return q(e,i,m);var X=i;var Z=[];O(R,function(t){O(o.aryMethod[t],function(t){var e=X[o.remap[t]||t];e&&Z.push([t,q(t,e,X)])})});O(P(X),function(t){var e=X[t];if("function"==typeof e){var i=Z.length;for(;i--;)if(Z[i][0]==t)return;e.convert=Y(t,e);Z.push([t,e])}});O(Z,function(t){X[t[0]]=t[1]});X.convert=W;X.placeholder=X;O(P(X),function(t){O(o.realToAlias[t]||[],function(e){X[e]=X[t]})});return X}t.exports=c}}]);
//# sourceMappingURL=d252e82e39be4f6ba34d.bundle.js.map